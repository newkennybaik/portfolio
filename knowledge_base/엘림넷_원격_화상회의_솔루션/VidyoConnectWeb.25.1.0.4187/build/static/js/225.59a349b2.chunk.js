/*! For license information please see 225.59a349b2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkvidyoconnect=self.webpackChunkvidyoconnect||[]).push([[225],{9448:(e,t,r)=>{e.exports=r.p+"static/media/BanubaSDK.9645038f974cd0c16f25.data"},119:(e,t,r)=>{e.exports=r.p+"static/media/BanubaSDK.simd.c276945114d94be9479e.wasm"},8144:(e,t,r)=>{e.exports=r.p+"static/media/BanubaSDK.004f61d37eeadd291848.wasm"},3298:(e,t,r)=>{e.exports=r.p+"static/media/background.9150d290f16842a32e6e.zip"},9442:(e,t,r)=>{var n;r.d(t,{Jf:()=>Ts,Mj:()=>ge,Pi:()=>Rs,ai:()=>ws,nV:()=>ve,vs:()=>ee});var o=Object.defineProperty,i=(e,t,r)=>(((e,t,r)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);let a=0;const s=()=>a++,l="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCh7ZGF0YTp0fSk9Pntjb25zdCBzPXtpZDp0LmlkfTtzZXRUaW1lb3V0KHBvc3RNZXNzYWdlLHQudGltZW91dCxzKX0pfSkoKTsK",u=typeof window<"u"&&window.Blob&&new Blob([atob(l)],{type:"text/javascript;charset=utf-8"});function c(){let e;try{if(e=u&&(window.URL||window.webkitURL).createObjectURL(u),!e)throw"";return new Worker(e)}catch{return new Worker("data:application/javascript;base64,"+l)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}let f;const d=new Map,h=(e,t)=>{const r=s(),n={id:r,timeout:t};return d.set(n.id,e),f||(f=new c,f.onmessage=e=>{let{data:t}=e;const r=d.get(t.id);d.delete(t.id),r()}),f.postMessage(n),r},p=1e3/60,b=[];let m=0;const g=e=>{const t=s();if(0===b.length){const e=performance.now();h((()=>{const e=m=performance.now(),t=[...b];b.length=0,t.forEach((t=>t(e)))}),p-(e-m)%p)}return b.push(e),t},y=Object.freeze(Object.defineProperty({__proto__:null,requestAnimationFrame:g,setTimeout:h},Symbol.toStringTag,{value:"Module"})),v=new Map;typeof document<"u"&&document.addEventListener("visibilitychange",(()=>{"visible"!==document.visibilityState&&v.forEach(((e,t)=>{v.delete(t),cancelAnimationFrame(t),g(e)}))}));const _=Object.freeze(Object.defineProperty({__proto__:null,requestAnimationFrame:e=>{const t=window.requestAnimationFrame((function(){v.delete(t),e(...arguments)}));return v.set(t,e),t},setTimeout:function(){return window.setTimeout(...arguments)}},Symbol.toStringTag,{value:"Module"})),w=typeof document<"u"?document:{visibilityState:"hidden"},E=()=>"visible"===w.visibilityState?_:y,S=e=>E().requestAnimationFrame(e),T=(e,t)=>E().setTimeout(e,t),x=e=>Promise.resolve().then(e),k={requestAnimationFrame:S,setTimeout:T},R=(Symbol.toStringTag,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t,r,n){const o=n,i=o.value;return{...o,value:async function*(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const o=i.apply(this,r);let a=0,s=0;for(;;){const t=1e3/e,r=.1*t;for(;(s=performance.now())-a<t-r;)await new Promise((e=>S(e)));a=s;const{done:n,value:i}=await o.next();if(n)return i;const l=yield i;typeof l<"u"&&(e=l)}}}}}),A=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r=>{const n=document.createElement("video");if(n.muted=!0,n.controls=!1,n.playsInline=!0,Object.assign(n,t),e instanceof globalThis.MediaStream)n.srcObject=e,n.addEventListener("ended",(()=>n.srcObject=null),{once:!0}),e.addEventListener("inactive",(()=>n.dispatchEvent(new CustomEvent("ended"))),{once:!0});else{if("string"!=typeof e){const t=e=URL.createObjectURL(e);n.addEventListener("emptied",(()=>URL.revokeObjectURL(t)),{once:!0})}n.crossOrigin="anonymous",n.src=e,n.addEventListener("ended",(()=>n.src=""),{once:!0})}n.style.position="fixed",n.style.zIndex="-9999999",n.style.opacity="0.0000000001",document.body.appendChild(n),n.addEventListener("emptied",(()=>n.remove()),{once:!0});const o=setInterval((()=>n.readyState),300);n.addEventListener("play",(()=>clearInterval(o)),{once:!0}),n.addEventListener("play",(()=>r(n)),{once:!0}),n.addEventListener("loadedmetadata",(()=>n.play()),{once:!0})}))},P=new Map,C=e=>"webar::".concat(e,":start"),I=e=>"webar::".concat(e,":end"),F=e=>{let t={internalName:e+":"+Math.random()};return performance.mark(C(t.internalName)),t},L=e=>{const t=e.internalName;performance.mark(I(t));let r=performance.measure(t,C(t),I(t));r||(r=performance.getEntriesByName(t)[0]),performance.clearMarks(C(t)),performance.clearMarks(I(t)),performance.clearMeasures(t);const{duration:n}=r,o=t.split(":")[0];let{averagedDuration:i=0}=P.get(o)||{};return i=((e,t,r)=>e*(1-r)+t*r)(i,n,.05),P.set(o,{averagedDuration:i}),{instantDuration:n,averagedDuration:i}},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>console.warn(e);return function(r,n,o){const i=o.value;if("function"!=typeof i)throw new TypeError("Only functions can be marked as deprecated");return{...o,value:function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t.call(this,"DEPRECATION: ".concat(r.constructor.name,".").concat(n,"() is deprecated. ").concat(e)),i.call(this,...a)}}}};let D=class{constructor(){i(this,"_emitter",new EventTarget)}addEventListener(e,t,r){this._emitter.addEventListener(e,t,r)}removeEventListener(e,t,r){this._emitter.removeEventListener(e,t,r)}dispatchEvent(e){return this._emitter.dispatchEvent(e)}removeAllEventListeners(){this._emitter=new EventTarget}};const O=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(null===(n=window.navigator)||void 0===n?void 0:n.userAgent),N=typeof OffscreenCanvas<"u"&&!O,B={alpha:!0,antialias:!1,depth:!1,desynchronized:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1};let U;const j=(e=>{if(typeof window>"u"||!/Edge?\/(79|[89]\d|\d{3,})(\.\d+|)(\.\d+|)|Firefox\/(6[5-9]|[7-9]\d|\d{3,})\.\d+(\.\d+|)|Chrom(ium|e)\/(5[7-9]|[6-9]\d|\d{3,})\.\d+(\.\d+|)([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$))|Maci.* Version\/(1[5-9]|[2-9]\d|\d{3,})\.\d+([,.]\d+|)( Mobile\/\w+|) Safari\/|Chrome.+OPR\/(4[4-9]|[5-9]\d|\d{3,})\.\d+\.\d+|(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(1[5-9]|[2-9]\d|\d{3,})[._]\d+([._]\d+|)|Mobile Safari.+OPR\/(7[2-9]|[89]\d|\d{3,})\.\d+\.\d+|Android.+Chrom(ium|e)\/(10[7-9]|1[1-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+(UC? ?Browser|UCWEB|U3)[ /]?(1[3-9]|[2-9]\d|\d{3,})\.\d+\.\d+|SamsungBrowser\/([7-9]|\d{2,})\.\d+|Android.+MQ{2}Browser\/(1[3-9]|[2-9]\d|\d{3,})(\.\d+|)(\.\d+|)|baidubrowser[\s/](1[3-9]|[2-9]\d|\d{3,})(\.\d+|)(\.\d+|)/.test(navigator.userAgent)||(null!==(e=U)&&void 0!==e||(U=V().getContext("webgl2",B)),null===U))return!1;const t=U.createTexture();U.bindTexture(U.TEXTURE_2D,t),U.texImage2D(U.TEXTURE_2D,0,U.RGB,1,1,0,U.RGB,U.UNSIGNED_BYTE,null);const r=U.createFramebuffer();U.bindFramebuffer(U.FRAMEBUFFER,r),U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,t,0);const n=U.getParameter(U.IMPLEMENTATION_COLOR_READ_FORMAT);return U.bindFramebuffer(U.FRAMEBUFFER,null),U.bindTexture(U.TEXTURE_2D,null),U.deleteFramebuffer(r),U.deleteTexture(t),n===U.RGB})(),W=(e,t)=>new Promise(((r,n)=>function o(){const i=e.clientWaitSync(t,0,0);return i===e.WAIT_FAILED?n(new Error("GPU operations complete wait failed")):i===e.CONDITION_SATISFIED||i===e.ALREADY_SIGNALED?r():void k.setTimeout(o,2)}()));function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;return N?function(){return new OffscreenCanvas(arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,arguments.length>1&&void 0!==arguments[1]?arguments[1]:128)}(e,t):function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;const r=document.createElement("canvas");return r.width=e,r.height=t,r}(e,t)}const z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=t=>{var r,n,o,i;let{displayWidth:a,displayHeight:s,visibleRect:l=null}=t,u=null!==(r=null===l||void 0===l?void 0:l.x)&&void 0!==r?r:0,c=null!==(n=null===l||void 0===l?void 0:l.y)&&void 0!==n?n:0,f=null!==(o=null===l||void 0===l?void 0:l.width)&&void 0!==o?o:a,d=null!==(i=null===l||void 0===l?void 0:l.height)&&void 0!==i?i:s;if(e.crop){const[t,r,n,o]=e.crop(f,d);[u,c,f,d]=[u+t,c+r,n,o]}return[a,s]=[f,d],{visibleRect:{x:u,y:c,width:f,height:d},displayWidth:a,displayHeight:s,horizontalFlip:!!e.horizontalFlip}};return{getSourceOptions:e=>{let r=e instanceof HTMLVideoElement?e.videoWidth:e.width,n=e instanceof HTMLVideoElement?e.videoHeight:e.height;return t({displayWidth:r,displayHeight:n})},getFrameOptions:t}};class G{constructor(e){var t,r,n,o,a,s,l,u,c;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,"_source",null),i(this,"_visibleRect",{x:0,y:0,width:0,height:0}),i(this,"_deleter"),i(this,"horizontalFlip",!1);const h=e instanceof HTMLVideoElement?e.videoWidth:e.width,p=e instanceof HTMLVideoElement?e.videoHeight:e.height;this._visibleRect.x=null!==(t=null===(r=f.visibleRect)||void 0===r?void 0:r.x)&&void 0!==t?t:0,this._visibleRect.y=null!==(n=null===(o=f.visibleRect)||void 0===o?void 0:o.y)&&void 0!==n?n:0,this._visibleRect.width=null!==(a=null===(s=f.visibleRect)||void 0===s?void 0:s.width)&&void 0!==a?a:h,this._visibleRect.height=null!==(l=null===(u=f.visibleRect)||void 0===u?void 0:u.height)&&void 0!==l?l:p,this.horizontalFlip=null!==(c=f.horizontalFlip)&&void 0!==c?c:this.horizontalFlip,e.width=h,e.height=p,this._source=e,this._deleter=d}get texture(){var e,t;return(null===(e=this._source)||void 0===e?void 0:e.width)==this.displayWidth&&(null===(t=this._source)||void 0===t?void 0:t.height)==this.displayHeight?this._source:null}get displayWidth(){return this._visibleRect.width}get displayHeight(){return this._visibleRect.height}get format(){return this._source?j?"RGB":"RGBA":null}allocationSize(){if(!this.format)throw new Error("Failed to execute 'allocationSize' on 'Frame': Frame is closed.");const{width:e,height:t}={width:this._visibleRect.width,height:this._visibleRect.height};return e*t*this.format.length}async copyTo(e){if(!this._source)throw new Error("Failed to execute 'copyTo' on 'Frame': Frame is closed.");return await async function(e,t,r){var n;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"RGBA";null!==(n=U)&&void 0!==n||(U=V().getContext("webgl2",B)),U.canvas.width=e.width,U.canvas.height=e.height,"RGB"===o&&U.pixelStorei(U.PACK_ALIGNMENT,1);const i=U.createTexture();U.bindTexture(U.TEXTURE_2D,i),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.NEAREST),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.LINEAR),U.texImage2D(U.TEXTURE_2D,0,U[o],U[o],U.UNSIGNED_BYTE,e);const a=U.createFramebuffer();U.bindFramebuffer(U.FRAMEBUFFER,a),U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,i,0);const s=U.createBuffer();U.bindBuffer(U.PIXEL_PACK_BUFFER,s),U.bufferData(U.PIXEL_PACK_BUFFER,t.byteLength,U.STREAM_READ),U.readPixels(r.x,r.y,r.width,r.height,U[o],U.UNSIGNED_BYTE,0),U.bindBuffer(U.PIXEL_PACK_BUFFER,null),U.bindFramebuffer(U.FRAMEBUFFER,null),U.deleteFramebuffer(a),U.bindTexture(U.TEXTURE_2D,null),U.deleteTexture(i);const l=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0);U.flush(),await W(U,l).finally((()=>U.deleteSync(l))),U.bindBuffer(U.PIXEL_PACK_BUFFER,s),U.getBufferSubData(U.PIXEL_PACK_BUFFER,0,new DataView(t.buffer()),t.byteOffset,t.byteLength),U.bindBuffer(U.PIXEL_PACK_BUFFER,null),U.deleteBuffer(s)}(this._source,e,this._visibleRect,this.format),[]}close(){this._deleter&&this._deleter(),this._source=null}}var K,X=Object.defineProperty,Y=Object.getOwnPropertyDescriptor;let H=class{constructor(e){i(this,"_src"),i(this,"kind","image"),this._src=e}async*[K=Symbol.asyncIterator](e){const t=await(n=this._src,new Promise(((e,t)=>{const r=document.createElement("img");r.onload=()=>e(r),r.onerror=t,r.crossOrigin="anonymous",r.src="string"==typeof n?n:URL.createObjectURL(n)}))),r=z(e);var n;yield new G(t,r.getSourceOptions(t),(()=>{URL.revokeObjectURL(t.src),t.src=""}))}};((e,t,r,n)=>{for(var o,i=n>1?void 0:n?Y(t,r):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);n&&i&&X(t,r,i)})([R(30)],H.prototype,K,1);var Z,Q,$=Object.defineProperty,J=Object.getOwnPropertyDescriptor;const q=(Q=class{constructor(e){if(i(this,"_stream"),i(this,"kind","stream"),Q.cache.has(e))return Q.cache.get(e);Q.cache.set(e,this),this._stream=e}async*[Z=Symbol.asyncIterator](e){const t=z(e);if("MediaStreamTrackProcessor"in window){const n=new MediaStreamTrackProcessor({track:this._stream.getVideoTracks()[0]}).readable.getReader();try{for(;;){var r;const{done:o,value:i}=await n.read();if(o)return;const a=new VideoFrame(i,t.getFrameOptions(i));a.horizontalFlip=null===(r=null===e||void 0===e?void 0:e.horizontalFlip)||void 0===r||r,i.close(),yield a}}finally{n.releaseLock()}}else{const e=await A(this._stream),r="requestVideoFrameCallback"in e?e.requestVideoFrameCallback.bind(e):requestAnimationFrame;for(;!e.paused;)await new Promise(r),yield new G(e,t.getSourceOptions(e));URL.revokeObjectURL(e.src),e.src="",e.srcObject=null}}stop(){for(const e of this._stream.getVideoTracks())e.stop();this._stream&&Q.cache.delete(this._stream)}},i(Q,"cache",new WeakMap),Q);((e,t,r,n)=>{for(var o,i=n>1?void 0:n?J(t,r):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);n&&i&&$(t,r,i)})([R(30)],q.prototype,Z,1);let ee=q;var te,re=Object.defineProperty,ne=Object.getOwnPropertyDescriptor;const oe={loop:!1};class ie{constructor(e,t){i(this,"_src"),i(this,"_options"),i(this,"_video",null),i(this,"kind","video"),this._src=e,this._options={...oe,...t}}async*[te=Symbol.asyncIterator](e){var t;const r=await(null!==(t=this._video)&&void 0!==t?t:this._video=A(this._src,this._options)),n=z(e),o="requestVideoFrameCallback"in r?r.requestVideoFrameCallback.bind(r):requestAnimationFrame;for(;!r.paused;)await new Promise(o),yield new G(r,n.getSourceOptions(r))}stop(){this._video&&this._video.then((e=>(URL.revokeObjectURL(e.src),e.src="",e.srcObject=null))),this._video=null}}((e,t,r,n)=>{for(var o,i=n>1?void 0:n?ne(t,r):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);n&&i&&re(t,r,i)})([R(30)],ie.prototype,te,1);const ae=typeof screen<"u"&&screen.height>screen.width,se={facingMode:"user",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},resizeMode:{ideal:"crop-and-scale"}};ae&&(delete se.width,delete se.height);Symbol.asyncIterator;let le=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e};const ue="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBzPVVpbnQ4QXJyYXkseD1VaW50MTZBcnJheSxPPVVpbnQzMkFycmF5LEg9bmV3IHMoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLEk9bmV3IHMoWzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTMsMCwwXSksbDE9bmV3IHMoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxKPWZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBhPW5ldyB4KDMxKSxuPTA7bjwzMTsrK24pYVtuXT10Kz0xPDxyW24tMV07Zm9yKHZhciB2PW5ldyBPKGFbMzBdKSxuPTE7bjwzMDsrK24pZm9yKHZhciBpPWFbbl07aTxhW24rMV07KytpKXZbaV09aS1hW25dPDw1fG47cmV0dXJuW2Esdl19LEs9SihILDIpLFE9S1swXSxjMT1LWzFdO1FbMjhdPTI1OCxjMVsyNThdPTI4O2Zvcih2YXIgczE9SihJLDApLGQxPXMxWzBdLFU9bmV3IHgoMzI3NjgpLHU9MDt1PDMyNzY4OysrdSl7dmFyIEM9KHUmNDM2OTApPj4+MXwodSYyMTg0NSk8PDE7Qz0oQyY1MjQyOCk+Pj4yfChDJjEzMTA3KTw8MixDPShDJjYxNjgwKT4+PjR8KEMmMzg1NSk8PDQsVVt1XT0oKEMmNjUyODApPj4+OHwoQyYyNTUpPDw4KT4+PjF9Zm9yKHZhciB6PWZ1bmN0aW9uKHQsYSxuKXtmb3IodmFyIHY9dC5sZW5ndGgsaT0wLGM9bmV3IHgoYSk7aTx2OysraSl0W2ldJiYrK2NbdFtpXS0xXTt2YXIgZj1uZXcgeChhKTtmb3IoaT0wO2k8YTsrK2kpZltpXT1mW2ktMV0rY1tpLTFdPDwxO3ZhciBvO2lmKG4pe289bmV3IHgoMTw8YSk7dmFyIGU9MTUtYTtmb3IoaT0wO2k8djsrK2kpaWYodFtpXSlmb3IodmFyIGw9aTw8NHx0W2ldLGI9YS10W2ldLGQ9Zlt0W2ldLTFdKys8PGIseT1kfCgxPDxiKS0xO2Q8PXk7KytkKW9bVVtkXT4+PmVdPWx9ZWxzZSBmb3Iobz1uZXcgeCh2KSxpPTA7aTx2OysraSl0W2ldJiYob1tpXT1VW2ZbdFtpXS0xXSsrXT4+PjE1LXRbaV0pO3JldHVybiBvfSxCPW5ldyBzKDI4OCksdT0wO3U8MTQ0OysrdSlCW3VdPTg7Zm9yKHZhciB1PTE0NDt1PDI1NjsrK3UpQlt1XT05O2Zvcih2YXIgdT0yNTY7dTwyODA7Kyt1KUJbdV09Nztmb3IodmFyIHU9MjgwO3U8Mjg4OysrdSlCW3VdPTg7Zm9yKHZhciBWPW5ldyBzKDMyKSx1PTA7dTwzMjsrK3UpVlt1XT01O3ZhciBnMT16KEIsOSwxKSx3MT16KFYsNSwxKSxXPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1yWzBdLGE9MTthPHIubGVuZ3RoOysrYSlyW2FdPnQmJih0PXJbYV0pO3JldHVybiB0fSxoPWZ1bmN0aW9uKHIsdCxhKXt2YXIgbj10Lzh8MDtyZXR1cm4ocltuXXxyW24rMV08PDgpPj4odCY3KSZhfSxYPWZ1bmN0aW9uKHIsdCl7dmFyIGE9dC84fDA7cmV0dXJuKHJbYV18clthKzFdPDw4fHJbYSsyXTw8MTYpPj4odCY3KX0saDE9ZnVuY3Rpb24ocil7cmV0dXJuKHIrNykvOHwwfSxqPWZ1bmN0aW9uKHIsdCxhKXsodD09bnVsbHx8dDwwKSYmKHQ9MCksKGE9PW51bGx8fGE+ci5sZW5ndGgpJiYoYT1yLmxlbmd0aCk7dmFyIG49bmV3KHIuQllURVNfUEVSX0VMRU1FTlQ9PTI/eDpyLkJZVEVTX1BFUl9FTEVNRU5UPT00P086cykoYS10KTtyZXR1cm4gbi5zZXQoci5zdWJhcnJheSh0LGEpKSxufSxtMT1bInVuZXhwZWN0ZWQgRU9GIiwiaW52YWxpZCBibG9jayB0eXBlIiwiaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCIsImludmFsaWQgZGlzdGFuY2UiLCJzdHJlYW0gZmluaXNoZWQiLCJubyBzdHJlYW0gaGFuZGxlciIsLCJubyBjYWxsYmFjayIsImludmFsaWQgVVRGLTggZGF0YSIsImV4dHJhIGZpZWxkIHRvbyBsb25nIiwiZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5IiwiZmlsZW5hbWUgdG9vIGxvbmciLCJzdHJlYW0gZmluaXNoaW5nIiwiaW52YWxpZCB6aXAgZGF0YSJdLGc9ZnVuY3Rpb24ocix0LGEpe3ZhciBuPW5ldyBFcnJvcih0fHxtMVtyXSk7aWYobi5jb2RlPXIsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKG4sZyksIWEpdGhyb3cgbjtyZXR1cm4gbn0sYjE9ZnVuY3Rpb24ocix0LGEpe3ZhciBuPXIubGVuZ3RoO2lmKCFufHxhJiZhLmYmJiFhLmwpcmV0dXJuIHR8fG5ldyBzKDApO3ZhciB2PSF0fHxhLGk9IWF8fGEuaTthfHwoYT17fSksdHx8KHQ9bmV3IHMobiozKSk7dmFyIGM9ZnVuY3Rpb24odTEpe3ZhciB2MT10Lmxlbmd0aDtpZih1MT52MSl7dmFyIGYxPW5ldyBzKE1hdGgubWF4KHYxKjIsdTEpKTtmMS5zZXQodCksdD1mMX19LGY9YS5mfHwwLG89YS5wfHwwLGU9YS5ifHwwLGw9YS5sLGI9YS5kLGQ9YS5tLHk9YS5uLFI9bio4O2Rve2lmKCFsKXtmPWgocixvLDEpO3ZhciBZPWgocixvKzEsMyk7aWYobys9MyxZKWlmKFk9PTEpbD1nMSxiPXcxLGQ9OSx5PTU7ZWxzZSBpZihZPT0yKXt2YXIgUz1oKHIsbywzMSkrMjU3LHIxPWgocixvKzEwLDE1KSs0LHQxPVMraChyLG8rNSwzMSkrMTtvKz0xNDtmb3IodmFyIEY9bmV3IHModDEpLEc9bmV3IHMoMTkpLHc9MDt3PHIxOysrdylHW2wxW3ddXT1oKHIsbyt3KjMsNyk7bys9cjEqMztmb3IodmFyIGExPVcoRyksQjE9KDE8PGExKS0xLFIxPXooRyxhMSwxKSx3PTA7dzx0MTspe3ZhciBuMT1SMVtoKHIsbyxCMSldO28rPW4xJjE1O3ZhciBwPW4xPj4+NDtpZihwPDE2KUZbdysrXT1wO2Vsc2V7dmFyIFQ9MCxOPTA7Zm9yKHA9PTE2PyhOPTMraChyLG8sMyksbys9MixUPUZbdy0xXSk6cD09MTc/KE49MytoKHIsbyw3KSxvKz0zKTpwPT0xOCYmKE49MTEraChyLG8sMTI3KSxvKz03KTtOLS07KUZbdysrXT1UfX12YXIgaTE9Ri5zdWJhcnJheSgwLFMpLF89Ri5zdWJhcnJheShTKTtkPVcoaTEpLHk9VyhfKSxsPXooaTEsZCwxKSxiPXooXyx5LDEpfWVsc2UgZygxKTtlbHNle3ZhciBwPWgxKG8pKzQsTD1yW3AtNF18cltwLTNdPDw4LFo9cCtMO2lmKFo+bil7aSYmZygwKTticmVha312JiZjKGUrTCksdC5zZXQoci5zdWJhcnJheShwLFopLGUpLGEuYj1lKz1MLGEucD1vPVoqOCxhLmY9Zjtjb250aW51ZX1pZihvPlIpe2kmJmcoMCk7YnJlYWt9fXYmJmMoZSsxMzEwNzIpO2Zvcih2YXIgWTE9KDE8PGQpLTEsRjE9KDE8PHkpLTEsJD1vOzskPW8pe3ZhciBUPWxbWChyLG8pJlkxXSxrPVQ+Pj40O2lmKG8rPVQmMTUsbz5SKXtpJiZnKDApO2JyZWFrfWlmKFR8fGcoMiksazwyNTYpdFtlKytdPWs7ZWxzZSBpZihrPT0yNTYpeyQ9byxsPW51bGw7YnJlYWt9ZWxzZXt2YXIgbzE9ay0yNTQ7aWYoaz4yNjQpe3ZhciB3PWstMjU3LE09SFt3XTtvMT1oKHIsbywoMTw8TSktMSkrUVt3XSxvKz1NfXZhciBQPWJbWChyLG8pJkYxXSxEPVA+Pj40O1B8fGcoMyksbys9UCYxNTt2YXIgXz1kMVtEXTtpZihEPjMpe3ZhciBNPUlbRF07Xys9WChyLG8pJigxPDxNKS0xLG8rPU19aWYobz5SKXtpJiZnKDApO2JyZWFrfXYmJmMoZSsxMzEwNzIpO2Zvcih2YXIgZTE9ZStvMTtlPGUxO2UrPTQpdFtlXT10W2UtX10sdFtlKzFdPXRbZSsxLV9dLHRbZSsyXT10W2UrMi1fXSx0W2UrM109dFtlKzMtX107ZT1lMX19YS5sPWwsYS5wPSQsYS5iPWUsYS5mPWYsbCYmKGY9MSxhLm09ZCxhLmQ9YixhLm49eSl9d2hpbGUoIWYpO3JldHVybiBlPT10Lmxlbmd0aD90OmoodCwwLGUpfSx5MT1uZXcgcygwKSxFPWZ1bmN0aW9uKHIsdCl7cmV0dXJuIHJbdF18clt0KzFdPDw4fSxtPWZ1bmN0aW9uKHIsdCl7cmV0dXJuKHJbdF18clt0KzFdPDw4fHJbdCsyXTw8MTZ8clt0KzNdPDwyNCk+Pj4wfSxxPWZ1bmN0aW9uKHIsdCl7cmV0dXJuIG0ocix0KSttKHIsdCs0KSo0Mjk0OTY3Mjk2fTtmdW5jdGlvbiBFMShyLHQpe3JldHVybiBiMShyLHQpfXZhciBBPXR5cGVvZiBUZXh0RGVjb2RlcjwidSImJm5ldyBUZXh0RGVjb2RlcixwMT0wO3RyeXtBLmRlY29kZSh5MSx7c3RyZWFtOiEwfSkscDE9MX1jYXRjaHt9dmFyIEMxPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD0iIixhPTA7Oyl7dmFyIG49clthKytdLHY9KG4+MTI3KSsobj4yMjMpKyhuPjIzOSk7aWYoYSt2PnIubGVuZ3RoKXJldHVyblt0LGoocixhLTEpXTt2P3Y9PTM/KG49KChuJjE1KTw8MTh8KHJbYSsrXSY2Myk8PDEyfChyW2ErK10mNjMpPDw2fHJbYSsrXSY2MyktNjU1MzYsdCs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxuPj4xMCw1NjMyMHxuJjEwMjMpKTp2JjE/dCs9U3RyaW5nLmZyb21DaGFyQ29kZSgobiYzMSk8PDZ8clthKytdJjYzKTp0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKChuJjE1KTw8MTJ8KHJbYSsrXSY2Myk8PDZ8clthKytdJjYzKTp0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pfX07ZnVuY3Rpb24gUzEocix0KXtpZih0KXtmb3IodmFyIGE9IiIsbj0wO248ci5sZW5ndGg7bis9MTYzODQpYSs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHIuc3ViYXJyYXkobixuKzE2Mzg0KSk7cmV0dXJuIGF9ZWxzZXtpZihBKXJldHVybiBBLmRlY29kZShyKTt2YXIgdj1DMShyKSxpPXZbMF0sYz12WzFdO3JldHVybiBjLmxlbmd0aCYmZyg4KSxpfX12YXIgXzE9ZnVuY3Rpb24ocix0KXtyZXR1cm4gdCszMCtFKHIsdCsyNikrRShyLHQrMjgpfSx4MT1mdW5jdGlvbihyLHQsYSl7dmFyIG49RShyLHQrMjgpLHY9UzEoci5zdWJhcnJheSh0KzQ2LHQrNDYrbiksIShFKHIsdCs4KSYyMDQ4KSksaT10KzQ2K24sYz1tKHIsdCsyMCksZj1hJiZjPT00Mjk0OTY3Mjk1P1QxKHIsaSk6W2MsbShyLHQrMjQpLG0ocix0KzQyKV0sbz1mWzBdLGU9ZlsxXSxsPWZbMl07cmV0dXJuW0Uocix0KzEwKSxvLGUsdixpK0Uocix0KzMwKStFKHIsdCszMiksbF19LFQxPWZ1bmN0aW9uKHIsdCl7Zm9yKDtFKHIsdCkhPTE7dCs9NCtFKHIsdCsyKSk7cmV0dXJuW3Eocix0KzEyKSxxKHIsdCs0KSxxKHIsdCsyMCldfTtmdW5jdGlvbiBrMShyLHQpe2Zvcih2YXIgYT17fSxuPXIubGVuZ3RoLTIyO20ocixuKSE9MTAxMDEwMjU2Oy0tbikoIW58fHIubGVuZ3RoLW4+NjU1NTgpJiZnKDEzKTt2YXIgdj1FKHIsbis4KTtpZighdilyZXR1cm57fTt2YXIgaT1tKHIsbisxNiksYz1pPT00Mjk0OTY3Mjk1O2MmJihuPW0ocixuLTEyKSxtKHIsbikhPTEwMTA3NTc5MiYmZygxMyksdj1tKHIsbiszMiksaT1tKHIsbis0OCkpO2Zvcih2YXIgZj10JiZ0LmZpbHRlcixvPTA7bzx2Oysrbyl7dmFyIGU9eDEocixpLGMpLGw9ZVswXSxiPWVbMV0sZD1lWzJdLHk9ZVszXSxSPWVbNF0sWT1lWzVdLFM9XzEocixZKTtpPVIsKCFmfHxmKHtuYW1lOnksc2l6ZTpiLG9yaWdpbmFsU2l6ZTpkLGNvbXByZXNzaW9uOmx9KSkmJihsP2w9PTg/YVt5XT1FMShyLnN1YmFycmF5KFMsUytiKSxuZXcgcyhkKSk6ZygxNCwidW5rbm93biBjb21wcmVzc2lvbiB0eXBlICIrbCk6YVt5XT1qKHIsUyxTK2IpKX1yZXR1cm4gYX1jb25zdCB6MT1yPT5rMShyLHtmaWx0ZXI6KHtuYW1lOnR9KT0+ISh0LnN0YXJ0c1dpdGgoIl9fTUFDT1NYLyIpfHx0LmluY2x1ZGVzKCIuRFNfU3RvcmUiKSl9KTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoe2RhdGE6cn0pPT57bGV0IHQ7dHJ5e3Q9e2lkOnIuaWQsZGF0YTp6MShyLmRhdGEpfX1jYXRjaChhKXt0PXtpZDpyLmlkLGVycm9yOmEubWVzc2FnZX19cG9zdE1lc3NhZ2UodCl9KX0pKCk7Cg==",ce=typeof window<"u"&&window.Blob&&new Blob([atob(ue)],{type:"text/javascript;charset=utf-8"});function fe(){let e;try{if(e=ce&&(window.URL||window.webkitURL).createObjectURL(ce),!e)throw"";return new Worker(e)}catch{return new Worker("data:application/javascript;base64,"+ue)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}let de;const he=async e=>new Promise(((t,r)=>{const n={id:le(),data:new Uint8Array(e)};de||(de=new fe);const o=e=>{let{data:i}=e;i.id===n.id&&(de.removeEventListener("message",o),"error"in i&&r(new Error(i.error)),"data"in i&&t(i.data))};de.addEventListener("message",o),de.postMessage(n,[e])}));class pe{constructor(e){i(this,"_source",null),i(this,"_fs",null),i(this,"_mountpoint","/"),i(this,"_data",{}),this._source=e}static async preload(e,t){if(Array.isArray(e)){const r=null===t||void 0===t?void 0:t.onProgress;return await Promise.all(e.map(((e,t)=>{const n=r?{onProgress:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r(t,...n)}}:{};return this.preload(e,n)})))}const r=new this(e);return await r.load(t),r}async _fetch(e,t){return await((e,t,r)=>fetch(e,t).then((e=>{if(!e.body)return e;let t=0;const n=Number(e.headers.get("content-length")||0),o=e.body.getReader();return new Response(new ReadableStream({async start(e){for(;;){var i;const{done:a,value:s}=await o.read();if(a?t=n:t+=s.byteLength,null!==r&&void 0!==r&&null!==(i=r.onProgress)&&void 0!==i&&i.call(r,{total:n,transferred:t}),a)break;e.enqueue(s)}e.close()}}),e)})))(e,{},t).then((t=>{if(t.ok)return t.blob();throw new Error("Failed to fetch ".concat(e.url," ").concat(t.status," (").concat(t.statusText,")"))})).then((e=>{if(e.size>0)return e;throw new Error("The source must not be empty. Received ".concat(e.size," bytes size source."))}))}async _unzip(e){if(!e.type.includes("zip"))throw new TypeError('The source type must be "application/zip"-like. Received: "'.concat(e.type,'".'));return await e.arrayBuffer().then(he).then((e=>Object.entries(e))).then((e=>Object.fromEntries(e)))}async load(e){let t=this._source;return"string"==typeof t&&(t=new Request(t)),t instanceof Request&&(t=await this._fetch(t,e)),t instanceof Blob&&(t=await this._unzip(t)),t instanceof Object&&t.constructor===Object&&await Promise.all(Object.entries(t).map((e=>{let[t,r]=e;return this.writeFile(t,r)}))),this._source=null,this._data}_fsWriteFile(e,t){this._fs&&(e="".concat(this._mountpoint).concat(e.startsWith("/")?e.substring(1):e),this._fs.writeFile(e,t))}async writeFile(e,t){const r=new Uint8Array(t instanceof Blob?await t.arrayBuffer():t);this._data[e]=r,this._fsWriteFile(e,this._data[e])}mount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";this._fs=e,this._mountpoint=t.endsWith("/")?t:"".concat(t,"/"),Object.entries(this._data).forEach((e=>{let[t,r]=e;return this._fsWriteFile(t,r)}))}unmount(){this._fs=null,this._mountpoint="/"}}var be=Object.defineProperty,me=Object.getOwnPropertyDescriptor;class ge{constructor(e){i(this,"name","effects/".concat(le())),i(this,"_player",null),i(this,"_resource"),this._resource=new ye(e)}static async preload(e,t){if(Array.isArray(e)){const r=null===t||void 0===t?void 0:t.onProgress;return await Promise.all(e.map(((e,t)=>{const n=r?{onProgress:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r(t,...n)}}:{};return this.preload(e,n)})))}const r=new this(e);return await r._load(t),r}async _load(e){await this._resource.load(e)}async _bind(e){await this._resource.load(),this._player=e,this._resource.mount(this._player.FS,this.name)}_unbind(){this._resource.unmount(),this._player=null}async writeFile(e,t){return this._resource.writeFile(e,t)}callJsMethod(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this._player)return this._player.callJsMethod(e,t);console.warn("The method won't evaluate: the effect is not applied to a player.")}async evalJs(e){if(this._player)return await this._player.evalJs(e);console.warn("The script won't evaluate: the effect is not applied to a player.")}}((e,t,r,n)=>{for(var o,i=n>1?void 0:n?me(t,r):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);n&&i&&be(t,r,i)})([M("Please, use Effect.evalJs() instead.")],ge.prototype,"callJsMethod",1);class ye extends pe{async _unzip(e){let t=await super._unzip(e);const r=Object.keys(t).map((e=>e.split("/").find(Boolean))),n=r[0];return r.every((e=>e===n))&&(t=Object.fromEntries(Object.entries(t).map((e=>{let[t,r]=e;return[t.replace("".concat(n,"/"),""),r]})))),t}}let ve=class{constructor(e){i(this,"_resource"),this._resource=new pe(e)}static async preload(e,t){if(Array.isArray(e)){const r=null===t||void 0===t?void 0:t.onProgress;return await Promise.all(e.map(((e,t)=>{const n=r?{onProgress:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r(t,...n)}}:{};return this.preload(e,n)})))}const r=new this(e);return await r._load(t),r}async _load(e){await this._resource.load(e)}async _bind(e){await this._resource.load(),this._resource.mount(e.FS)}};const _e=(e=>{var t=typeof document<"u"?null===(e=document.currentScript)||void 0===e?void 0:e.src:void 0;return async function(){var e;var r,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new Promise(((e,t)=>{r=e,n=t}));null!==(e=o.expectedDataFileDownloads)&&void 0!==e||(o.expectedDataFileDownloads=0),o.expectedDataFileDownloads++,(()=>{var e=typeof ENVIRONMENT_IS_PTHREAD<"u"&&ENVIRONMENT_IS_PTHREAD,t=typeof ENVIRONMENT_IS_WASM_WORKER<"u"&&ENVIRONMENT_IS_WASM_WORKER;e||t||function(e){var t;"object"==typeof window?window.encodeURIComponent(window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))+"/"):typeof process>"u"&&typeof location<"u"&&encodeURIComponent(location.pathname.substring(0,location.pathname.lastIndexOf("/"))+"/");var r="BanubaSDK.data",n=o.locateFile?o.locateFile(r,""):r,i=e.remote_package_size,a=null,s=o.getPreloadedPackage?o.getPreloadedPackage(n,i):null;function l(t){var r;function n(e,t){if(!e)throw t+(new Error).stack}function o(e,t,r){this.start=e,this.end=t,this.audio=r}t.FS_createPath("/","bnb_js",!0,!0),t.FS_createPath("/","bnb_prefabs",!0,!0),t.FS_createPath("/bnb_prefabs","audio",!0,!0),t.FS_createPath("/bnb_prefabs","base",!0,!0),t.FS_createPath("/bnb_prefabs","camera",!0,!0),t.FS_createPath("/bnb_prefabs/camera","images",!0,!0),t.FS_createPath("/bnb_prefabs","foreground",!0,!0),t.FS_createPath("/bnb_prefabs","gltf",!0,!0),t.FS_createPath("/bnb_prefabs","gltf_base",!0,!0),t.FS_createPath("/bnb_prefabs/gltf_base","meshes",!0,!0),t.FS_createPath("/bnb_prefabs/gltf_base","shaders",!0,!0),t.FS_createPath("/bnb_prefabs","hint",!0,!0),t.FS_createPath("/bnb_prefabs/hint","font",!0,!0),t.FS_createPath("/bnb_prefabs/hint","meshes",!0,!0),t.FS_createPath("/bnb_prefabs/hint","scripts",!0,!0),t.FS_createPath("/bnb_prefabs/hint","shaders",!0,!0),t.FS_createPath("/bnb_prefabs","lights",!0,!0),t.FS_createPath("/bnb_prefabs","lut",!0,!0),t.FS_createPath("/bnb_prefabs/lut","scripts",!0,!0),t.FS_createPath("/bnb_prefabs/lut","shaders",!0,!0),t.FS_createPath("/bnb_prefabs/lut/shaders","lut-filter",!0,!0),t.FS_createPath("/bnb_prefabs/lut","textures",!0,!0),t.FS_createPath("/bnb_prefabs","msaa",!0,!0),t.FS_createPath("/bnb_prefabs","video_texture",!0,!0),t.FS_createPath("/bnb_prefabs/video_texture","meshes",!0,!0),t.FS_createPath("/bnb_prefabs/video_texture","shaders",!0,!0),t.FS_createPath("/","bnb_shaders",!0,!0),t.FS_createPath("/bnb_shaders","bnb",!0,!0),t.FS_createPath("/bnb_shaders/bnb","lib",!0,!0),t.FS_createPath("/","frx",!0,!0),o.prototype={requests:{},open:function(e,r){this.name=r,this.requests[r]=this,t.addRunDependency("fp ".concat(this.name))},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){t.FS_createDataFile(this.name,null,e,!0,!0,!0),t.removeRunDependency("fp ".concat(this.name)),this.requests[this.name]=null}};for(var i=e.files,l=0;l<i.length;++l)new o(i[l].start,i[l].end,i[l].audio||0).open("GET",i[l].filename);function u(r){n(r,"Loading data file failed."),n(r.constructor.name===ArrayBuffer.name,"bad input to processPackageData");var i=new Uint8Array(r);o.prototype.byteArray=i;for(var a=e.files,s=0;s<a.length;++s)o.prototype.requests[a[s].filename].onload();t.removeRunDependency("datafile_BanubaSDK.data")}t.addRunDependency("datafile_BanubaSDK.data"),null!==(r=t.preloadResults)&&void 0!==r||(t.preloadResults={}),t.preloadResults["BanubaSDK.data"]={fromCache:!1},s?(u(s),s=null):a=u}s||function(e,t,r,n){var i;null!==(i=o.dataFileDownloads)&&void 0!==i||(o.dataFileDownloads={}),fetch(e).catch((t=>Promise.reject(new Error("Network Error: ".concat(e),{cause:t})))).then((n=>{var i,a;if(!n.ok)return Promise.reject(new Error("".concat(n.status,": ").concat(n.url)));if(!n.body&&n.arrayBuffer)return n.arrayBuffer().then(r);const s=n.body.getReader(),l=()=>s.read().then(h).catch((e=>Promise.reject(new Error("Unexpected error while handling : ".concat(n.url," ").concat(e),{cause:e})))),u=[],c=n.headers,f=Number(null!==(i=c.get("Content-Length"))&&void 0!==i?i:t);let d=0;const h=t=>{let{done:n,value:i}=t;if(!n){var a;u.push(i),d+=i.length,o.dataFileDownloads[e]={loaded:d,total:f};let t=0,r=0;for(const e of Object.values(o.dataFileDownloads))t+=e.loaded,r+=e.total;return null!==(a=o.setStatus)&&void 0!==a&&a.call(o,"Downloading data... (".concat(t,"/").concat(r,")")),l()}{const e=new Uint8Array(u.map((e=>e.length)).reduce(((e,t)=>e+t),0));let t=0;for(const r of u)e.set(r,t),t+=r.length;r(e.buffer)}};return null!==(a=o.setStatus)&&void 0!==a&&a.call(o,"Downloading data..."),l()}))}(n,i,(e=>{a?(a(e),a=null):s=e})),o.calledRun?l(o):(null!==(t=o.preRun)&&void 0!==t?t:o.preRun=[]).push(l)}({files:[{filename:"/bnb_js/.empty",start:0,end:20},{filename:"/bnb_js/background.js",start:20,end:4902},{filename:"/bnb_js/console.js",start:4902,end:5462},{filename:"/bnb_js/global.js",start:5462,end:5843},{filename:"/bnb_js/legacy.js",start:5843,end:10167},{filename:"/bnb_js/light_streaks.js",start:10167,end:19874},{filename:"/bnb_js/prefabs.js",start:19874,end:22199},{filename:"/bnb_js/timers.js",start:22199,end:25518},{filename:"/bnb_prefabs/audio/config.js",start:25518,end:26930},{filename:"/bnb_prefabs/audio/config.json",start:26930,end:27e3},{filename:"/bnb_prefabs/audio/schema.json",start:27e3,end:27556},{filename:"/bnb_prefabs/base/config.json",start:27556,end:28224},{filename:"/bnb_prefabs/camera/config.json",start:28224,end:29894},{filename:"/bnb_prefabs/camera/images/ibl_diff.ktx",start:29894,end:54538},{filename:"/bnb_prefabs/camera/images/ibl_spec.ktx",start:54538,end:349522},{filename:"/bnb_prefabs/camera/schema.json",start:349522,end:349602},{filename:"/bnb_prefabs/foreground/config.js",start:349602,end:352114},{filename:"/bnb_prefabs/foreground/config.json",start:352114,end:353749},{filename:"/bnb_prefabs/foreground/foreground.frag",start:353749,end:354202},{filename:"/bnb_prefabs/foreground/foreground.vert",start:354202,end:354747},{filename:"/bnb_prefabs/foreground/null_image.png",start:354747,end:354815},{filename:"/bnb_prefabs/foreground/schema.json",start:354815,end:355977},{filename:"/bnb_prefabs/gltf/config.js",start:355977,end:359841},{filename:"/bnb_prefabs/gltf/config.json",start:359841,end:360999},{filename:"/bnb_prefabs/gltf/schema.json",start:360999,end:365773},{filename:"/bnb_prefabs/gltf_base/config.js",start:365773,end:365954},{filename:"/bnb_prefabs/gltf_base/config.json",start:365954,end:369942},{filename:"/bnb_prefabs/gltf_base/meshes/cut.bsm2",start:369942,end:426219},{filename:"/bnb_prefabs/gltf_base/meshes/cut_ears.bsm2",start:426219,end:502380},{filename:"/bnb_prefabs/gltf_base/shaders/mat_cut.frag",start:502380,end:502466},{filename:"/bnb_prefabs/gltf_base/shaders/mat_cut.vert",start:502466,end:504174},{filename:"/bnb_prefabs/hint/config.json",start:504174,end:505858},{filename:"/bnb_prefabs/hint/font/NotoSans-Regular.ttf",start:505858,end:904826},{filename:"/bnb_prefabs/hint/meshes/quad.bsm2",start:904826,end:905104},{filename:"/bnb_prefabs/hint/schema.json",start:905104,end:906230},{filename:"/bnb_prefabs/hint/scripts/index.js",start:906230,end:909276},{filename:"/bnb_prefabs/hint/shaders/text.frag",start:909276,end:909521},{filename:"/bnb_prefabs/hint/shaders/text.vert",start:909521,end:909765},{filename:"/bnb_prefabs/lights/config.js",start:909765,end:911098},{filename:"/bnb_prefabs/lights/config.json",start:911098,end:911409},{filename:"/bnb_prefabs/lights/schema.json",start:911409,end:912215},{filename:"/bnb_prefabs/lut/config.json",start:912215,end:913698},{filename:"/bnb_prefabs/lut/schema.json",start:913698,end:914143},{filename:"/bnb_prefabs/lut/scripts/index.js",start:914143,end:915454},{filename:"/bnb_prefabs/lut/shaders/lut-filter/lut_filter.frag",start:915454,end:915905},{filename:"/bnb_prefabs/lut/shaders/lut-filter/lut_filter.vert",start:915905,end:916155},{filename:"/bnb_prefabs/lut/textures/_null_lut_.png",start:916155,end:921113},{filename:"/bnb_prefabs/msaa/config.js",start:921113,end:921541},{filename:"/bnb_prefabs/msaa/config.json",start:921541,end:921612},{filename:"/bnb_prefabs/msaa/schema.json",start:921612,end:922091},{filename:"/bnb_prefabs/video_texture/config.js",start:922091,end:925267},{filename:"/bnb_prefabs/video_texture/config.json",start:925267,end:928361},{filename:"/bnb_prefabs/video_texture/meshes/quads.glb",start:928361,end:929749},{filename:"/bnb_prefabs/video_texture/schema.json",start:929749,end:931826},{filename:"/bnb_prefabs/video_texture/shaders/mat_video_texture.frag",start:931826,end:932325},{filename:"/bnb_prefabs/video_texture/shaders/mat_video_texture.vert",start:932325,end:933133},{filename:"/bnb_shaders/.empty",start:933133,end:933152},{filename:"/bnb_shaders/bnb/anim_transform.glsl",start:933152,end:933315},{filename:"/bnb_shaders/bnb/color_spaces.glsl",start:933315,end:939388},{filename:"/bnb_shaders/bnb/decode_int1010102.glsl",start:939388,end:940077},{filename:"/bnb_shaders/bnb/get_bone.glsl",start:940077,end:940499},{filename:"/bnb_shaders/bnb/get_transform.glsl",start:940499,end:941138},{filename:"/bnb_shaders/bnb/glsl.frag",start:941138,end:941700},{filename:"/bnb_shaders/bnb/glsl.vert",start:941700,end:942481},{filename:"/bnb_shaders/bnb/guided_filter.glsl",start:942481,end:946125},{filename:"/bnb_shaders/bnb/lib/apply_light_streaks.frag",start:946125,end:946465},{filename:"/bnb_shaders/bnb/lib/apply_light_streaks.vert",start:946465,end:946714},{filename:"/bnb_shaders/bnb/lib/auto_morph.frag",start:946714,end:946855},{filename:"/bnb_shaders/bnb/lib/auto_morph.vert",start:946855,end:947467},{filename:"/bnb_shaders/bnb/lib/auto_morph_fisheye.frag",start:947467,end:947608},{filename:"/bnb_shaders/bnb/lib/auto_morph_fisheye.vert",start:947608,end:948115},{filename:"/bnb_shaders/bnb/lib/beauty_morph.frag",start:948115,end:948257},{filename:"/bnb_shaders/bnb/lib/beauty_morph.vert",start:948257,end:949439},{filename:"/bnb_shaders/bnb/lib/bg_blur_downscale.frag",start:949439,end:950341},{filename:"/bnb_shaders/bnb/lib/bg_blur_downscale.vert",start:950341,end:950540},{filename:"/bnb_shaders/bnb/lib/bg_blur_upscale.frag",start:950540,end:951563},{filename:"/bnb_shaders/bnb/lib/bg_blur_upscale.vert",start:951563,end:951898},{filename:"/bnb_shaders/bnb/lib/bg_blur_upscale_apply.frag",start:951898,end:953131},{filename:"/bnb_shaders/bnb/lib/camera.frag",start:953131,end:953745},{filename:"/bnb_shaders/bnb/lib/camera.vert",start:953745,end:954029},{filename:"/bnb_shaders/bnb/lib/camera_bgmask.frag",start:954029,end:955161},{filename:"/bnb_shaders/bnb/lib/camera_bgmask.vert",start:955161,end:955677},{filename:"/bnb_shaders/bnb/lib/copy_pixels.frag",start:955677,end:955879},{filename:"/bnb_shaders/bnb/lib/copy_pixels.vert",start:955879,end:956128},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_0.frag",start:956128,end:957142},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_0.vert",start:957142,end:957727},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_1.frag",start:957727,end:958741},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_1.vert",start:958741,end:959326},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_2.frag",start:959326,end:960340},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_2.vert",start:960340,end:960925},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_3.frag",start:960925,end:961939},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_3.vert",start:961939,end:962524},{filename:"/bnb_shaders/bnb/lib/gltf.frag",start:962524,end:965190},{filename:"/bnb_shaders/bnb/lib/gltf.vert",start:965190,end:966904},{filename:"/bnb_shaders/bnb/lib/gltf_physics.vert",start:966904,end:968506},{filename:"/bnb_shaders/bnb/lib/gltf_spec_gloss.frag",start:968506,end:970252},{filename:"/bnb_shaders/bnb/lib/gltf_spec_gloss.vert",start:970252,end:971966},{filename:"/bnb_shaders/bnb/lib/gltf_spec_gloss_physics.vert",start:971966,end:973568},{filename:"/bnb_shaders/bnb/lib/gltf_transmissive.frag",start:973568,end:975779},{filename:"/bnb_shaders/bnb/lib/gltf_transmissive.vert",start:975779,end:977620},{filename:"/bnb_shaders/bnb/lib/gltf_transmissive_physics.vert",start:977620,end:979349},{filename:"/bnb_shaders/bnb/lib/init_light_streaks.frag",start:979349,end:979707},{filename:"/bnb_shaders/bnb/lib/init_light_streaks.vert",start:979707,end:979956},{filename:"/bnb_shaders/bnb/lib/mesh_morph.frag",start:979956,end:980098},{filename:"/bnb_shaders/bnb/lib/mesh_morph.vert",start:980098,end:982013},{filename:"/bnb_shaders/bnb/lib/morph_apply.frag",start:982013,end:982384},{filename:"/bnb_shaders/bnb/lib/morph_apply.vert",start:982384,end:984566},{filename:"/bnb_shaders/bnb/lib/morph_blur.frag",start:984566,end:985917},{filename:"/bnb_shaders/bnb/lib/morph_blur.vert",start:985917,end:986243},{filename:"/bnb_shaders/bnb/lib/retouch.frag",start:986243,end:989963},{filename:"/bnb_shaders/bnb/lib/retouch.vert",start:989963,end:990521},{filename:"/bnb_shaders/bnb/lib/static_pos.frag",start:990521,end:990660},{filename:"/bnb_shaders/bnb/lib/static_pos.vert",start:990660,end:990926},{filename:"/bnb_shaders/bnb/lib/uv_morph.frag",start:990926,end:991067},{filename:"/bnb_shaders/bnb/lib/uv_morph.vert",start:991067,end:991574},{filename:"/bnb_shaders/bnb/lib/vbg.frag",start:991574,end:993353},{filename:"/bnb_shaders/bnb/lib/vbg.vert",start:993353,end:994393},{filename:"/bnb_shaders/bnb/lut.glsl",start:994393,end:998922},{filename:"/bnb_shaders/bnb/math.glsl",start:998922,end:998922},{filename:"/bnb_shaders/bnb/matrix_operations.glsl",start:998922,end:999406},{filename:"/bnb_shaders/bnb/mediump.glsl",start:999406,end:999576},{filename:"/bnb_shaders/bnb/morph_transform.glsl",start:999576,end:1000634},{filename:"/bnb_shaders/bnb/pbr.glsl",start:1000634,end:1004226},{filename:"/bnb_shaders/bnb/quat_rotation.glsl",start:1004226,end:1005620},{filename:"/bnb_shaders/bnb/sample_camera.glsl",start:1005620,end:1009029},{filename:"/bnb_shaders/bnb/samplers_declaration.glsl",start:1009029,end:1011773},{filename:"/bnb_shaders/bnb/texture_bicubic.glsl",start:1011773,end:1013131},{filename:"/bnb_shaders/bnb/textures_lookup.glsl",start:1013131,end:1014331},{filename:"/bnb_shaders/bnb/transform_camera_uv.glsl",start:1014331,end:1015114},{filename:"/bnb_shaders/bnb/transform_uv.glsl",start:1015114,end:1017702},{filename:"/bnb_shaders/bnb/version.glsl",start:1017702,end:1017924},{filename:"/frx/frx.js",start:1017924,end:1020841},{filename:"/modules.json",start:1020841,end:1036190},{filename:"/resources-versions.txt",start:1036190,end:1038869},{filename:"/watermark.png",start:1038869,end:1041355},{filename:"/watermark_blurred.png",start:1041355,end:1063788}],remote_package_size:1063788})})();var s,l=Object.assign({},o),u="./this.program",c=(e,t)=>{throw t},f="";typeof document<"u"&&document.currentScript&&(f=document.currentScript.src),t&&(f=t),f=f.startsWith("blob:")?"":f.slice(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1),s=async e=>{var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)};var d=o.print||console.log.bind(console),h=o.printErr||console.error.bind(console);Object.assign(o,l),l=null,o.thisProgram&&(u=o.thisProgram);var p,b,m=o.wasmBinary,g=!1;function y(e,t){e||U(t)}var v,_,w,E,S,T,x,k,R,A,P=e=>e.startsWith("data:application/octet-stream;base64,");function C(){var e=p.buffer;o.HEAP8=v=new Int8Array(e),o.HEAP16=w=new Int16Array(e),o.HEAPU8=_=new Uint8Array(e),o.HEAPU16=E=new Uint16Array(e),o.HEAP32=S=new Int32Array(e),o.HEAPU32=T=new Uint32Array(e),o.HEAPF32=x=new Float32Array(e),o.HEAPF64=A=new Float64Array(e),o.HEAP64=k=new BigInt64Array(e),o.HEAPU64=R=new BigUint64Array(e)}var I=[],F=[],L=[];var M,D=0,O=null;function N(e){var t;D++,null===(t=o.monitorRunDependencies)||void 0===t||t.call(o,D)}function B(e){var t;if(D--,null!==(t=o.monitorRunDependencies)&&void 0!==t&&t.call(o,D),0==D&&O){var r=O;O=null,r()}}function U(e){var t;null!==(t=o.onAbort)&&void 0!==t&&t.call(o,e),h(e="Aborted("+e+")"),g=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw n(r),r}function j(){var e="BanubaSDK.wasm";return P(e)?e:function(e){return o.locateFile?o.locateFile(e,f):f+e}(e)}async function W(e){if(!m)try{var t=await s(e);return new Uint8Array(t)}catch{}return function(e){if(e==M&&m)return new Uint8Array(m);throw"both async and sync fetching of the wasm failed"}(e)}async function V(e,t,r){if(!e&&"function"==typeof WebAssembly.instantiateStreaming&&!P(t))try{var n=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(n,r)}catch(o){h("wasm streaming compile failed: ".concat(o)),h("falling back to ArrayBuffer instantiation")}return async function(e,t){try{var r=await W(e);return await WebAssembly.instantiate(r,t)}catch(n){h("failed to asynchronously prepare wasm: ".concat(n)),U(n)}}(t,r)}var z=e=>{if(e instanceof G||"unwind"==e)return b;c(0,e)};class G{constructor(e){i(this,"name","ExitStatus"),this.message="Program terminated with exit(".concat(e,")"),this.status=e}}var K=()=>q||!1,X=(e,t)=>{b=e,(e=>{var t;b=e,K()||(null!==(t=o.onExit)&&void 0!==t&&t.call(o,e),g=!0),c(0,new G(e))})(e)},Y=()=>{if(!K())try{X(b)}catch(e){z(e)}},H=e=>{if(!g)try{e(),Y()}catch(t){z(t)}},Z=(e,t)=>setTimeout((()=>{H(e)}),t),Q=o.preloadPlugins||[],$={useWebGL:!1,isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],preloadedImages:{},preloadedAudios:{},init(){if(!$.initted){$.initted=!0;var e={canHandle:function(e){return!o.noImageDecoding&&/\.(jpg|jpeg|png|bmp|webp)$/i.test(e)},handle:function(e,t,r,n){var o=new Blob([e],{type:$.getMimetype(t)});o.size!==e.length&&(o=new Blob([new Uint8Array(e).buffer],{type:$.getMimetype(t)}));var i=URL.createObjectURL(o),a=new Image;a.onload=()=>{var n=document.createElement("canvas");n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(a,0,0),$.preloadedImages[t]=n,URL.revokeObjectURL(i),null===r||void 0===r||r(e)},a.onerror=e=>{h("Image ".concat(i," could not be decoded")),null===n||void 0===n||n()},a.src=i}};Q.push(e);var t={canHandle:function(e){return!o.noAudioDecoding&&e.slice(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,n){var o=!1;function i(n){o||(o=!0,$.preloadedAudios[t]=n,null===r||void 0===r||r(e))}var a=new Blob([e],{type:$.getMimetype(t)}),s=URL.createObjectURL(a),l=new Audio;l.addEventListener("canplaythrough",(()=>i(l)),!1),l.onerror=function(r){o||(h("warning: browser could not fully decode audio ".concat(t,", trying slower base64 approach")),l.src="data:audio/x-"+t.slice(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",n=0,o=0,i=0;i<e.length;i++)for(n=n<<8|e[i],o+=8;o>=6;){var a=n>>o-6&63;o-=6,r+=t[a]}return 2==o?(r+=t[(3&n)<<4],r+="=="):4==o&&(r+=t[(15&n)<<2],r+="="),r}(e),i(l))},l.src=s,Z((()=>{i(l)}),1e4)}};Q.push(t);var r=o.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||(()=>{}),r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),o.elementPointerLock&&r.addEventListener("click",(e=>{!$.pointerLock&&o.canvas.requestPointerLock&&(o.canvas.requestPointerLock(),e.preventDefault())}),!1))}function n(){$.pointerLock=document.pointerLockElement===o.canvas||document.mozPointerLockElement===o.canvas||document.webkitPointerLockElement===o.canvas||document.msPointerLockElement===o.canvas}},createContext(e,t,r,n){if(t&&o.ctx&&e==o.canvas)return o.ctx;var i,a;if(t){var s={antialias:!1,alpha:!1,majorVersion:typeof WebGL2RenderingContext<"u"?2:1};if(n)for(var l in n)s[l]=n[l];typeof mr<"u"&&((a=mr.createContext(e,s))&&(i=mr.getContext(a).GLctx))}else i=e.getContext("2d");return i?(r&&(o.ctx=i,t&&mr.makeContextCurrent(a),$.useWebGL=t,$.moduleContextCreatedCallbacks.forEach((e=>e())),$.init()),i):null},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,t){$.lockPointer=e,$.resizeCanvas=t,typeof $.lockPointer>"u"&&($.lockPointer=!0),typeof $.resizeCanvas>"u"&&($.resizeCanvas=!1);var r=o.canvas;function n(){var e,t;$.isFullscreen=!1;var n=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===n?(r.exitFullscreen=$.exitFullscreen,$.lockPointer&&r.requestPointerLock(),$.isFullscreen=!0,$.resizeCanvas?$.setFullscreenCanvasSize():$.updateCanvasDimensions(r)):(n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),$.resizeCanvas?$.setWindowedCanvasSize():$.updateCanvasDimensions(r)),null!==(e=o.onFullScreen)&&void 0!==e&&e.call(o,$.isFullscreen),null===(t=o.onFullscreen)||void 0===t||t.call(o,$.isFullscreen)}$.fullscreenHandlersInstalled||($.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var i=document.createElement("div");r.parentNode.insertBefore(i,r),i.appendChild(r),i.requestFullscreen=i.requestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen||(i.webkitRequestFullscreen?()=>i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(i.webkitRequestFullScreen?()=>i.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),i.requestFullscreen()},exitFullscreen:()=>!!$.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0),safeSetTimeout:(e,t)=>Z(e,t),getMimetype:e=>({jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.slice(e.lastIndexOf(".")+1)]),getUserMedia(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:e=>e.movementX||e.mozMovementX||e.webkitMovementX||0,getMovementY:e=>e.movementY||e.mozMovementY||e.webkitMovementY||0,getMouseWheelDelta(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,t){var r=o.canvas.getBoundingClientRect(),n=o.canvas.width,i=o.canvas.height,a=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,s=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset,l=e-(a+r.left),u=t-(s+r.top);return{x:l*=n/r.width,y:u*=i/r.height}},setMouseCoords(e,t){const{x:r,y:n}=$.calculateMouseCoords(e,t);$.mouseMovementX=r-$.mouseX,$.mouseMovementY=n-$.mouseY,$.mouseX=r,$.mouseY=n},calculateMouseEvent(e){if($.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?$.mouseMovementX=$.mouseMovementY=0:($.mouseMovementX=$.getMovementX(e),$.mouseMovementY=$.getMovementY(e)),$.mouseX+=$.mouseMovementX,$.mouseY+=$.mouseMovementY;else{if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var t=e.touch;if(void 0===t)return;var r=$.calculateMouseCoords(t.pageX,t.pageY);if("touchstart"===e.type)$.lastTouches[t.identifier]=r,$.touches[t.identifier]=r;else if("touchend"===e.type||"touchmove"===e.type){var n=$.touches[t.identifier];n||(n=r),$.lastTouches[t.identifier]=n,$.touches[t.identifier]=r}return}$.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=o.canvas;$.resizeListeners.forEach((t=>t(e.width,e.height)))},setCanvasSize(e,t,r){var n=o.canvas;$.updateCanvasDimensions(n,e,t),r||$.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if(typeof SDL<"u"){var e=T[SDL.screen>>2];e|=8388608,S[SDL.screen>>2]=e}$.updateCanvasDimensions(o.canvas),$.updateResizeListeners()},setWindowedCanvasSize(){if(typeof SDL<"u"){var e=T[SDL.screen>>2];e&=-8388609,S[SDL.screen>>2]=e}$.updateCanvasDimensions(o.canvas),$.updateResizeListeners()},updateCanvasDimensions(e,t,r){t&&r?(e.widthNative=t,e.heightNative=r):(t=e.widthNative,r=e.heightNative);var n=t,i=r;if(o.forcedAspectRatio>0&&(n/i<o.forcedAspectRatio?n=Math.round(i*o.forcedAspectRatio):i=Math.round(n/o.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var a=Math.min(screen.width/n,screen.height/i);n=Math.round(n*a),i=Math.round(i*a)}$.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=i&&(e.height=i),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),typeof e.style<"u"&&(n!=t||i!=r?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},J=e=>{for(;e.length>0;)e.shift()(o)},q=o.noExitRuntime||!0;class ee{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){T[this.ptr+4>>2]=e}get_type(){return T[this.ptr+4>>2]}set_destructor(e){T[this.ptr+8>>2]=e}get_destructor(){return T[this.ptr+8>>2]}set_caught(e){e=e?1:0,v[this.ptr+12]=e}get_caught(){return 0!=v[this.ptr+12]}set_rethrown(e){e=e?1:0,v[this.ptr+13]=e}get_rethrown(){return 0!=v[this.ptr+13]}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){T[this.ptr+16>>2]=e}get_adjusted_ptr(){return T[this.ptr+16>>2]}}var te={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:e=>{var t=te.isAbs(e),r="/"===e.slice(-1);return!(e=te.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))&&!t&&(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=te.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.slice(0,-1)),r+n):"."},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return te.normalize(t.join("/"))},join2:(e,t)=>te.normalize(e+"/"+t)},re=e=>{(re=e=>crypto.getRandomValues(e))(e)},ne={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?r<0||arguments.length<=r?void 0:arguments[r]:ye.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t=te.isAbs(n)}return(t?"/":"")+(e=te.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||"."},relative:(e,t)=>{function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=ne.resolve(e).slice(1),t=ne.resolve(t).slice(1);for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),a=i,s=0;s<i;s++)if(n[s]!==o[s]){a=s;break}var l=[];for(s=a;s<n.length;s++)l.push("..");return(l=l.concat(o.slice(a))).join("/")}},oe=typeof TextDecoder<"u"?new TextDecoder:void 0,ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var r=t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN),n=t;e[n]&&!(n>=r);)++n;if(n-t>16&&e.buffer&&oe)return oe.decode(e.subarray(t,n));for(var o="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192!=(224&i)){var s=63&e[t++];if((i=224==(240&i)?(15&i)<<12|a<<6|s:(7&i)<<18|a<<12|s<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var l=i-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&i)<<6|a)}else o+=String.fromCharCode(i)}return o},ae=[],se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},le=(e,t,r,n)=>{if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o},ue=(e,t,r)=>{var n=r>0?r:se(e)+1,o=new Array(n),i=le(e,o,0,o.length);return t&&(o.length=i),o},ce={ttys:[],init(){},shutdown(){},register(e,t){ce.ttys[e]={input:[],output:[],ops:t},ye.registerDevice(e,ce.stream_ops)},stream_ops:{open(e){var t=ce.ttys[e.node.rdev];if(!t)throw new ye.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new ye.ErrnoError(60);for(var i=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch{throw new ye.ErrnoError(29)}if(void 0===s&&0===i)throw new ye.ErrnoError(6);if(null==s)break;i++,t[r+a]=s}return i&&(e.node.atime=Date.now()),i},write(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new ye.ErrnoError(60);try{for(var i=0;i<n;i++)e.tty.ops.put_char(e.tty,t[r+i])}catch{throw new ye.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),i}},default_tty_ops:{get_char:e=>(()=>{if(!ae.length){var e=null;if(typeof window<"u"&&"function"==typeof window.prompt&&null!==(e=window.prompt("Input: "))&&(e+="\n"),!e)return null;ae=ue(e,!0)}return ae.shift()})(),put_char(e,t){null===t||10===t?(d(ie(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){var t;(null===(t=e.output)||void 0===t?void 0:t.length)>0&&(d(ie(e.output)),e.output=[])},ioctl_tcgets:e=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(e,t,r)=>0,ioctl_tiocgwinsz:e=>[24,80]},default_tty1_ops:{put_char(e,t){null===t||10===t?(h(ie(e.output)),e.output=[]):0!=t&&e.output.push(t)},fsync(e){var t;(null===(t=e.output)||void 0===t?void 0:t.length)>0&&(h(ie(e.output)),e.output=[])}}},fe=(e,t)=>{_.fill(0,e,e+t)},de=(e,t)=>Math.ceil(e/t)*t,he=e=>{e=de(e,65536);var t=Dr(65536,e);return t&&fe(t,e),t},pe={ops_table:null,mount:e=>pe.createNode(null,"/",16895,0),createNode(e,t,r,n){if(ye.isBlkdev(r)||ye.isFIFO(r))throw new ye.ErrnoError(63);pe.ops_table||(pe.ops_table={dir:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr,lookup:pe.node_ops.lookup,mknod:pe.node_ops.mknod,rename:pe.node_ops.rename,unlink:pe.node_ops.unlink,rmdir:pe.node_ops.rmdir,readdir:pe.node_ops.readdir,symlink:pe.node_ops.symlink},stream:{llseek:pe.stream_ops.llseek}},file:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr},stream:{llseek:pe.stream_ops.llseek,read:pe.stream_ops.read,write:pe.stream_ops.write,allocate:pe.stream_ops.allocate,mmap:pe.stream_ops.mmap,msync:pe.stream_ops.msync}},link:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr,readlink:pe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:pe.node_ops.getattr,setattr:pe.node_ops.setattr},stream:ye.chrdev_stream_ops}});var o=ye.createNode(e,t,r,n);return ye.isDir(o.mode)?(o.node_ops=pe.ops_table.dir.node,o.stream_ops=pe.ops_table.dir.stream,o.contents={}):ye.isFile(o.mode)?(o.node_ops=pe.ops_table.file.node,o.stream_ops=pe.ops_table.file.stream,o.usedBytes=0,o.contents=null):ye.isLink(o.mode)?(o.node_ops=pe.ops_table.link.node,o.stream_ops=pe.ops_table.link.stream):ye.isChrdev(o.mode)&&(o.node_ops=pe.ops_table.chrdev.node,o.stream_ops=pe.ops_table.chrdev.stream),o.atime=o.mtime=o.ctime=Date.now(),e&&(e.contents[t]=o,e.atime=e.mtime=e.ctime=o.atime),o},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=ye.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ye.isDir(e.mode)?t.size=4096:ye.isFile(e.mode)?t.size=e.usedBytes:ye.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.atime),t.mtime=new Date(e.mtime),t.ctime=new Date(e.ctime),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){for(const r of["mode","atime","mtime","ctime"])null!=t[r]&&(e[r]=t[r]);void 0!==t.size&&pe.resizeFileStorage(e,t.size)},lookup(e,t){throw pe.doesNotExistError},mknod:(e,t,r,n)=>pe.createNode(e,t,r,n),rename(e,t,r){var n;try{n=ye.lookupNode(t,r)}catch{}if(n){if(ye.isDir(e.mode))for(var o in n.contents)throw new ye.ErrnoError(55);ye.hashRemoveNode(n)}delete e.parent.contents[e.name],t.contents[r]=e,e.name=r,t.ctime=t.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,t){delete e.contents[t],e.ctime=e.mtime=Date.now()},rmdir(e,t){var r=ye.lookupNode(e,t);for(var n in r.contents)throw new ye.ErrnoError(55);delete e.contents[t],e.ctime=e.mtime=Date.now()},readdir:e=>[".","..",...Object.keys(e.contents)],symlink(e,t,r){var n=pe.createNode(e,t,41471,0);return n.link=r,n},readlink(e){if(!ye.isLink(e.mode))throw new ye.ErrnoError(28);return e.link}},stream_ops:{read(e,t,r,n,o){var i=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-o,n);if(a>8&&i.subarray)t.set(i.subarray(o,o+a),r);else for(var s=0;s<a;s++)t[r+s]=i[o+s];return a},write(e,t,r,n,o,i){if(t.buffer===v.buffer&&(i=!1),!n)return 0;var a=e.node;if(a.mtime=a.ctime=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(i)return a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===o)return a.contents=t.slice(r,r+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),o),n}if(pe.expandFileStorage(a,o+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)a.contents[o+s]=t[r+s];return a.usedBytes=Math.max(a.usedBytes,o+n),n},llseek(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&ye.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new ye.ErrnoError(28);return n},allocate(e,t,r){pe.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap(e,t,r,n,o){if(!ye.isFile(e.node.mode))throw new ye.ErrnoError(43);var i,a,s=e.node.contents;if(2&o||!s||s.buffer!==v.buffer){if(a=!0,!(i=he(t)))throw new ye.ErrnoError(48);s&&((r>0||r+t<s.length)&&(s=s.subarray?s.subarray(r,r+t):Array.prototype.slice.call(s,r,r+t)),v.set(s,i))}else a=!1,i=s.byteOffset;return{ptr:i,allocated:a}},msync:(e,t,r,n,o)=>(pe.stream_ops.write(e,t,0,n,r,!1),0)}},be=(e,t,r,n,o,i)=>{ye.createDataFile(e,t,r,n,o,i)},me=(e,t,r,n,o,i,a,l,u,c)=>{var f=t?ne.resolve(te.join2(e,t)):e;function d(r){function s(r){null!==c&&void 0!==c&&c(),l||be(e,t,r,n,o,u),null!==i&&void 0!==i&&i(),B()}((e,t,r,n)=>{typeof $<"u"&&$.init();var o=!1;return Q.forEach((i=>{o||i.canHandle(t)&&(i.handle(e,t,r,n),o=!0)})),o})(r,f,s,(()=>{null!==a&&void 0!==a&&a(),B()}))||s(r)}N(),"string"==typeof r?(async e=>{var t=await s(e);return new Uint8Array(t)})(r).then(d,a):d(r)},ge=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},ye={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){i(this,"name","ErrnoError"),this.errno=e}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){i(this,"shared",{})}get object(){return this.node}set object(e){this.node=e}get isRead(){return 1!==(2097155&this.flags)}get isWrite(){return 0!==(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,r,n){i(this,"node_ops",{}),i(this,"stream_ops",{}),i(this,"readMode",365),i(this,"writeMode",146),i(this,"mounted",null),e||(e=this),this.parent=e,this.mount=e.mount,this.id=ye.nextInode++,this.name=t,this.mode=r,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return ye.isDir(this.mode)}get isDevice(){return ye.isChrdev(this.mode)}},lookupPath(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new ye.ErrnoError(44);null!==(t=r.follow_mount)&&void 0!==t||(r.follow_mount=!0),te.isAbs(e)||(e=ye.cwd()+"/"+e);e:for(var n=0;n<40;n++){for(var o=e.split("/").filter((e=>!!e)),i=ye.root,a="/",s=0;s<o.length;s++){var l=s===o.length-1;if(l&&r.parent)break;if("."!==o[s]){if(".."===o[s]){a=te.dirname(a),i=i.parent;continue}a=te.join2(a,o[s]);try{i=ye.lookupNode(i,o[s])}catch(c){if(44===(null===c||void 0===c?void 0:c.errno)&&l&&r.noent_okay)return{path:a};throw c}if(ye.isMountpoint(i)&&(!l||r.follow_mount)&&(i=i.mounted.root),ye.isLink(i.mode)&&(!l||r.follow)){if(!i.node_ops.readlink)throw new ye.ErrnoError(52);var u=i.node_ops.readlink(i);te.isAbs(u)||(u=te.dirname(a)+"/"+u),e=u+"/"+o.slice(s+1).join("/");continue e}}}return{path:a,node:i}}throw new ye.ErrnoError(32)},getPath(e){for(var t;;){if(ye.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?"".concat(r,"/").concat(t):r+t:r}t=t?"".concat(e.name,"/").concat(t):e.name,e=e.parent}},hashName(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%ye.nameTable.length},hashAddNode(e){var t=ye.hashName(e.parent.id,e.name);e.name_next=ye.nameTable[t],ye.nameTable[t]=e},hashRemoveNode(e){var t=ye.hashName(e.parent.id,e.name);if(ye.nameTable[t]===e)ye.nameTable[t]=e.name_next;else for(var r=ye.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode(e,t){var r=ye.mayLookup(e);if(r)throw new ye.ErrnoError(r);for(var n=ye.hashName(e.id,t),o=ye.nameTable[n];o;o=o.name_next){var i=o.name;if(o.parent.id===e.id&&i===t)return o}return ye.lookup(e,t)},createNode(e,t,r,n){var o=new ye.FSNode(e,t,r,n);return ye.hashAddNode(o),o},destroyNode(e){ye.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768===(61440&e),isDir:e=>16384===(61440&e),isLink:e=>40960===(61440&e),isChrdev:e=>8192===(61440&e),isBlkdev:e=>24576===(61440&e),isFIFO:e=>4096===(61440&e),isSocket:e=>49152===(49152&e),flagsToPermissionString(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>ye.ignorePermissions?0:t.includes("r")&&!(292&e.mode)||t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0,mayLookup:e=>ye.isDir(e.mode)?ye.nodePermissions(e,"x")||(e.node_ops.lookup?0:2):54,mayCreate(e,t){if(!ye.isDir(e.mode))return 54;try{return ye.lookupNode(e,t),20}catch{}return ye.nodePermissions(e,"wx")},mayDelete(e,t,r){var n;try{n=ye.lookupNode(e,t)}catch(i){return i.errno}var o=ye.nodePermissions(e,"wx");if(o)return o;if(r){if(!ye.isDir(n.mode))return 54;if(ye.isRoot(n)||ye.getPath(n)===ye.cwd())return 10}else if(ye.isDir(n.mode))return 31;return 0},mayOpen:(e,t)=>e?ye.isLink(e.mode)?32:ye.isDir(e.mode)&&("r"!==ye.flagsToPermissionString(t)||576&t)?31:ye.nodePermissions(e,ye.flagsToPermissionString(t)):44,checkOpExists(e,t){if(!e)throw new ye.ErrnoError(t);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=ye.MAX_OPEN_FDS;e++)if(!ye.streams[e])return e;throw new ye.ErrnoError(33)},getStreamChecked(e){var t=ye.getStream(e);if(!t)throw new ye.ErrnoError(8);return t},getStream:e=>ye.streams[e],createStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e=Object.assign(new ye.FSStream,e),-1==t&&(t=ye.nextfd()),e.fd=t,ye.streams[t]=e,e},closeStream(e){ye.streams[e]=null},dupStream(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;var o=ye.createStream(e,n);return null!==(t=o.stream_ops)&&void 0!==t&&null!==(r=t.dup)&&void 0!==r&&r.call(t,o),o},doSetAttr(e,t,r){var n,o=null===e||void 0===e?void 0:e.stream_ops.setattr,i=o?e:t;null!==(n=o)&&void 0!==n||(o=t.node_ops.setattr),ye.checkOpExists(o,63),o(i,r)},chrdev_stream_ops:{open(e){var t,r,n=ye.getDevice(e.node.rdev);e.stream_ops=n.stream_ops,null===(t=(r=e.stream_ops).open)||void 0===t||t.call(r,e)},llseek(){throw new ye.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice(e,t){ye.devices[e]={stream_ops:t}},getDevice:e=>ye.devices[e],getMounts(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push(...n.mounts)}return t},syncfs(e,t){"function"==typeof e&&(t=e,e=!1),ye.syncFSRequests++,ye.syncFSRequests>1&&h("warning: ".concat(ye.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var r=ye.getMounts(ye.root.mount),n=0;function o(e){return ye.syncFSRequests--,t(e)}function i(e){if(e)return i.errored?void 0:(i.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((t=>{if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)}))},mount(e,t,r){var n,o="/"===r,i=!r;if(o&&ye.root)throw new ye.ErrnoError(10);if(!o&&!i){var a=ye.lookupPath(r,{follow_mount:!1});if(r=a.path,n=a.node,ye.isMountpoint(n))throw new ye.ErrnoError(10);if(!ye.isDir(n.mode))throw new ye.ErrnoError(54)}var s={type:e,opts:t,mountpoint:r,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,o?ye.root=l:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),l},unmount(e){var t=ye.lookupPath(e,{follow_mount:!1});if(!ye.isMountpoint(t.node))throw new ye.ErrnoError(28);var r=t.node,n=r.mounted,o=ye.getMounts(n);Object.keys(ye.nameTable).forEach((e=>{for(var t=ye.nameTable[e];t;){var r=t.name_next;o.includes(t.mount)&&ye.destroyNode(t),t=r}})),r.mounted=null;var i=r.mount.mounts.indexOf(n);r.mount.mounts.splice(i,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod(e,t,r){var n=ye.lookupPath(e,{parent:!0}).node,o=te.basename(e);if(!o)throw new ye.ErrnoError(28);if("."===o||".."===o)throw new ye.ErrnoError(20);var i=ye.mayCreate(n,o);if(i)throw new ye.ErrnoError(i);if(!n.node_ops.mknod)throw new ye.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},statfs:e=>ye.statfsNode(ye.lookupPath(e,{follow:!0}).node),statfsStream:e=>ye.statfsNode(e.node),statfsNode(e){var t={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:ye.nextInode,ffree:ye.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(t,e.node_ops.statfs(e.mount.opts.root)),t},create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:438;return t&=4095,t|=32768,ye.mknod(e,t,0)},mkdir(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:511;return t&=1023,t|=16384,ye.mknod(e,t,0)},mkdirTree(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{ye.mkdir(n,t)}catch(i){if(20!=i.errno)throw i}}},mkdev:(e,t,r)=>(typeof r>"u"&&(r=t,t=438),t|=8192,ye.mknod(e,t,r)),symlink(e,t){if(!ne.resolve(e))throw new ye.ErrnoError(44);var r=ye.lookupPath(t,{parent:!0}).node;if(!r)throw new ye.ErrnoError(44);var n=te.basename(t),o=ye.mayCreate(r,n);if(o)throw new ye.ErrnoError(o);if(!r.node_ops.symlink)throw new ye.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename(e,t){var r,n,o=te.dirname(e),i=te.dirname(t),a=te.basename(e),s=te.basename(t);if(r=ye.lookupPath(e,{parent:!0}).node,n=ye.lookupPath(t,{parent:!0}).node,!r||!n)throw new ye.ErrnoError(44);if(r.mount!==n.mount)throw new ye.ErrnoError(75);var l,u=ye.lookupNode(r,a),c=ne.relative(e,i);if("."!==c.charAt(0))throw new ye.ErrnoError(28);if("."!==(c=ne.relative(t,o)).charAt(0))throw new ye.ErrnoError(55);try{l=ye.lookupNode(n,s)}catch{}if(u!==l){var f=ye.isDir(u.mode),d=ye.mayDelete(r,a,f);if(d)throw new ye.ErrnoError(d);if(d=l?ye.mayDelete(n,s,f):ye.mayCreate(n,s))throw new ye.ErrnoError(d);if(!r.node_ops.rename)throw new ye.ErrnoError(63);if(ye.isMountpoint(u)||l&&ye.isMountpoint(l))throw new ye.ErrnoError(10);if(n!==r&&(d=ye.nodePermissions(r,"w")))throw new ye.ErrnoError(d);ye.hashRemoveNode(u);try{r.node_ops.rename(u,n,s),u.parent=n}catch(h){throw h}finally{ye.hashAddNode(u)}}},rmdir(e){var t=ye.lookupPath(e,{parent:!0}).node,r=te.basename(e),n=ye.lookupNode(t,r),o=ye.mayDelete(t,r,!0);if(o)throw new ye.ErrnoError(o);if(!t.node_ops.rmdir)throw new ye.ErrnoError(63);if(ye.isMountpoint(n))throw new ye.ErrnoError(10);t.node_ops.rmdir(t,r),ye.destroyNode(n)},readdir(e){var t=ye.lookupPath(e,{follow:!0}).node;return ye.checkOpExists(t.node_ops.readdir,54)(t)},unlink(e){var t=ye.lookupPath(e,{parent:!0}).node;if(!t)throw new ye.ErrnoError(44);var r=te.basename(e),n=ye.lookupNode(t,r),o=ye.mayDelete(t,r,!1);if(o)throw new ye.ErrnoError(o);if(!t.node_ops.unlink)throw new ye.ErrnoError(63);if(ye.isMountpoint(n))throw new ye.ErrnoError(10);t.node_ops.unlink(t,r),ye.destroyNode(n)},readlink(e){var t=ye.lookupPath(e).node;if(!t)throw new ye.ErrnoError(44);if(!t.node_ops.readlink)throw new ye.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,t){var r=ye.lookupPath(e,{follow:!t}).node;return ye.checkOpExists(r.node_ops.getattr,63)(r)},fstat(e){var t,r=ye.getStreamChecked(e),n=r.node,o=r.stream_ops.getattr,i=o?r:n;return null!==(t=o)&&void 0!==t||(o=n.node_ops.getattr),ye.checkOpExists(o,63),o(i)},lstat:e=>ye.stat(e,!0),doChmod(e,t,r,n){ye.doSetAttr(e,t,{mode:4095&r|-4096&t.mode,ctime:Date.now(),dontFollow:n})},chmod(e,t,r){var n;"string"==typeof e?n=ye.lookupPath(e,{follow:!r}).node:n=e;ye.doChmod(null,n,t,r)},lchmod(e,t){ye.chmod(e,t,!0)},fchmod(e,t){var r=ye.getStreamChecked(e);ye.doChmod(r,r.node,t,!1)},doChown(e,t,r){ye.doSetAttr(e,t,{timestamp:Date.now(),dontFollow:r})},chown(e,t,r,n){var o;"string"==typeof e?o=ye.lookupPath(e,{follow:!n}).node:o=e;ye.doChown(null,o,n)},lchown(e,t,r){ye.chown(e,t,r,!0)},fchown(e,t,r){var n=ye.getStreamChecked(e);ye.doChown(n,n.node,!1)},doTruncate(e,t,r){if(ye.isDir(t.mode))throw new ye.ErrnoError(31);if(!ye.isFile(t.mode))throw new ye.ErrnoError(28);var n=ye.nodePermissions(t,"w");if(n)throw new ye.ErrnoError(n);ye.doSetAttr(e,t,{size:r,timestamp:Date.now()})},truncate(e,t){if(t<0)throw new ye.ErrnoError(28);var r;"string"==typeof e?r=ye.lookupPath(e,{follow:!0}).node:r=e;ye.doTruncate(null,r,t)},ftruncate(e,t){var r=ye.getStreamChecked(e);if(t<0||!(2097155&r.flags))throw new ye.ErrnoError(28);ye.doTruncate(r,r.node,t)},utime(e,t,r){var n=ye.lookupPath(e,{follow:!0}).node;ye.checkOpExists(n.node_ops.setattr,63)(n,{atime:t,mtime:r})},open(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:438;if(""===e)throw new ye.ErrnoError(44);var n,i;if(t="string"==typeof t?(e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(typeof t>"u")throw new Error("Unknown file open mode: ".concat(e));return t})(t):t,r=64&t?4095&r|32768:0,"object"==typeof e)n=e;else{i=e.endsWith("/");var a=ye.lookupPath(e,{follow:!(131072&t),noent_okay:!0});n=a.node,e=a.path}var s=!1;if(64&t)if(n){if(128&t)throw new ye.ErrnoError(20)}else{if(i)throw new ye.ErrnoError(31);n=ye.mknod(e,511|r,0),s=!0}if(!n)throw new ye.ErrnoError(44);if(ye.isChrdev(n.mode)&&(t&=-513),65536&t&&!ye.isDir(n.mode))throw new ye.ErrnoError(54);if(!s){var l=ye.mayOpen(n,t);if(l)throw new ye.ErrnoError(l)}512&t&&!s&&ye.truncate(n,0),t&=-131713;var u=ye.createStream({node:n,path:ye.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return u.stream_ops.open&&u.stream_ops.open(u),s&&ye.chmod(n,511&r),o.logReadFiles&&!(1&t)&&(e in ye.readFiles||(ye.readFiles[e]=1)),u},close(e){if(ye.isClosed(e))throw new ye.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{ye.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek(e,t,r){if(ye.isClosed(e))throw new ye.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ye.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new ye.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read(e,t,r,n,o){if(n<0||o<0)throw new ye.ErrnoError(28);if(ye.isClosed(e))throw new ye.ErrnoError(8);if(1===(2097155&e.flags))throw new ye.ErrnoError(8);if(ye.isDir(e.node.mode))throw new ye.ErrnoError(31);if(!e.stream_ops.read)throw new ye.ErrnoError(28);var i=typeof o<"u";if(i){if(!e.seekable)throw new ye.ErrnoError(70)}else o=e.position;var a=e.stream_ops.read(e,t,r,n,o);return i||(e.position+=a),a},write(e,t,r,n,o,i){if(n<0||o<0)throw new ye.ErrnoError(28);if(ye.isClosed(e))throw new ye.ErrnoError(8);if(!(2097155&e.flags))throw new ye.ErrnoError(8);if(ye.isDir(e.node.mode))throw new ye.ErrnoError(31);if(!e.stream_ops.write)throw new ye.ErrnoError(28);e.seekable&&1024&e.flags&&ye.llseek(e,0,2);var a=typeof o<"u";if(a){if(!e.seekable)throw new ye.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,r,n,o,i);return a||(e.position+=s),s},allocate(e,t,r){if(ye.isClosed(e))throw new ye.ErrnoError(8);if(t<0||r<=0)throw new ye.ErrnoError(28);if(!(2097155&e.flags))throw new ye.ErrnoError(8);if(!ye.isFile(e.node.mode)&&!ye.isDir(e.node.mode))throw new ye.ErrnoError(43);if(!e.stream_ops.allocate)throw new ye.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap(e,t,r,n,o){if(2&n&&!(2&o)&&2!==(2097155&e.flags))throw new ye.ErrnoError(2);if(1===(2097155&e.flags))throw new ye.ErrnoError(2);if(!e.stream_ops.mmap)throw new ye.ErrnoError(43);if(!t)throw new ye.ErrnoError(28);return e.stream_ops.mmap(e,t,r,n,o)},msync:(e,t,r,n,o)=>e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0,ioctl(e,t,r){if(!e.stream_ops.ioctl)throw new ye.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'.concat(t.encoding,'"'));var r,n=ye.open(e,t.flags),o=ye.stat(e).size,i=new Uint8Array(o);return ye.read(n,i,0,o,0),"utf8"===t.encoding?r=ie(i):"binary"===t.encoding&&(r=i),ye.close(n),r},writeFile(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.flags=r.flags||577;var n=ye.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(se(t)+1),i=le(t,o,0,o.length);ye.write(n,o,0,i,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ye.write(n,t,0,t.byteLength,void 0,r.canOwn)}ye.close(n)},cwd:()=>ye.currentPath,chdir(e){var t=ye.lookupPath(e,{follow:!0});if(null===t.node)throw new ye.ErrnoError(44);if(!ye.isDir(t.node.mode))throw new ye.ErrnoError(54);var r=ye.nodePermissions(t.node,"x");if(r)throw new ye.ErrnoError(r);ye.currentPath=t.path},createDefaultDirectories(){ye.mkdir("/tmp"),ye.mkdir("/home"),ye.mkdir("/home/web_user")},createDefaultDevices(){ye.mkdir("/dev"),ye.registerDevice(ye.makedev(1,3),{read:()=>0,write:(e,t,r,n,o)=>n,llseek:()=>0}),ye.mkdev("/dev/null",ye.makedev(1,3)),ce.register(ye.makedev(5,0),ce.default_tty_ops),ce.register(ye.makedev(6,0),ce.default_tty1_ops),ye.mkdev("/dev/tty",ye.makedev(5,0)),ye.mkdev("/dev/tty1",ye.makedev(6,0));var e=new Uint8Array(1024),t=0,r=()=>(0===t&&(re(e),t=e.byteLength),e[--t]);ye.createDevice("/dev","random",r),ye.createDevice("/dev","urandom",r),ye.mkdir("/dev/shm"),ye.mkdir("/dev/shm/tmp")},createSpecialDirectories(){ye.mkdir("/proc");var e=ye.mkdir("/proc/self");ye.mkdir("/proc/self/fd"),ye.mount({mount(){var t=ye.createNode(e,"fd",16895,73);return t.stream_ops={llseek:pe.stream_ops.llseek},t.node_ops={lookup(e,t){var r=+t,n=ye.getStreamChecked(r),o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path},id:r+1};return o.parent=o,o},readdir:()=>Array.from(ye.streams.entries()).filter((e=>{let[t,r]=e;return r})).map((e=>{let[t,r]=e;return t.toString()}))},t}},{},"/proc/self/fd")},createStandardStreams(e,t,r){e?ye.createDevice("/dev","stdin",e):ye.symlink("/dev/tty","/dev/stdin"),t?ye.createDevice("/dev","stdout",null,t):ye.symlink("/dev/tty","/dev/stdout"),r?ye.createDevice("/dev","stderr",null,r):ye.symlink("/dev/tty1","/dev/stderr"),ye.open("/dev/stdin",0),ye.open("/dev/stdout",1),ye.open("/dev/stderr",1)},staticInit(){ye.nameTable=new Array(4096),ye.mount(pe,{},"/"),ye.createDefaultDirectories(),ye.createDefaultDevices(),ye.createSpecialDirectories(),ye.filesystems={MEMFS:pe}},init(e,t,r){var n,i,a;ye.initialized=!0,null!==(n=e)&&void 0!==n||(e=o.stdin),null!==(i=t)&&void 0!==i||(t=o.stdout),null!==(a=r)&&void 0!==a||(r=o.stderr),ye.createStandardStreams(e,t,r)},quit(){ye.initialized=!1;for(var e=0;e<ye.streams.length;e++){var t=ye.streams[e];t&&ye.close(t)}},findObject(e,t){var r=ye.analyzePath(e,t);return r.exists?r.object:null},analyzePath(e,t){try{e=(n=ye.lookupPath(e,{follow:!t})).path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ye.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=te.basename(e),n=ye.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(o){r.error=o.errno}return r},createPath(e,t,r,n){e="string"==typeof e?e:ye.getPath(e);for(var o=t.split("/").reverse();o.length;){var i=o.pop();if(i){var a=te.join2(e,i);try{ye.mkdir(a)}catch{}e=a}}return a},createFile(e,t,r,n,o){var i=te.join2("string"==typeof e?e:ye.getPath(e),t),a=ge(n,o);return ye.create(i,a)},createDataFile(e,t,r,n,o,i){var a=t;e&&(e="string"==typeof e?e:ye.getPath(e),a=t?te.join2(e,t):e);var s=ge(n,o),l=ye.create(a,s);if(r){if("string"==typeof r){for(var u=new Array(r.length),c=0,f=r.length;c<f;++c)u[c]=r.charCodeAt(c);r=u}ye.chmod(l,146|s);var d=ye.open(l,577);ye.write(d,r,0,r.length,0,i),ye.close(d),ye.chmod(l,s)}},createDevice(e,t,r,n){var o,i,a=te.join2("string"==typeof e?e:ye.getPath(e),t),s=ge(!!r,!!n);null!==(o=(i=ye.createDevice).major)&&void 0!==o||(i.major=64);var l=ye.makedev(ye.createDevice.major++,0);return ye.registerDevice(l,{open(e){e.seekable=!1},close(e){var t;(null===n||void 0===n||null===(t=n.buffer)||void 0===t?void 0:t.length)&&n(10)},read(e,t,n,o,i){for(var a=0,s=0;s<o;s++){var l;try{l=r()}catch{throw new ye.ErrnoError(29)}if(void 0===l&&0===a)throw new ye.ErrnoError(6);if(null==l)break;a++,t[n+s]=l}return a&&(e.node.atime=Date.now()),a},write(e,t,r,o,i){for(var a=0;a<o;a++)try{n(t[r+a])}catch{throw new ye.ErrnoError(29)}return o&&(e.node.mtime=e.node.ctime=Date.now()),a}}),ye.mkdev(a,s,l)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=undefined(e.url),e.usedBytes=e.contents.length}catch{throw new ye.ErrnoError(29)}},createLazyFile(e,t,r,n,o){if(typeof XMLHttpRequest<"u")throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i={isDevice:!1,url:r},a=ye.createFile(e,t,i,n,o);i.contents?a.contents=i.contents:i.url&&(a.contents=null,a.url=i.url),Object.defineProperties(a,{usedBytes:{get:function(){return this.contents.length}}});var s={};function l(e,t,r,n,o){var i=e.node.contents;if(o>=i.length)return 0;var a=Math.min(i.length-o,n);if(i.slice)for(var s=0;s<a;s++)t[r+s]=i[o+s];else for(s=0;s<a;s++)t[r+s]=i.get(o+s);return a}return Object.keys(a.stream_ops).forEach((e=>{var t=a.stream_ops[e];s[e]=function(){return ye.forceLoadFile(a),t(...arguments)}})),s.read=(e,t,r,n,o)=>(ye.forceLoadFile(a),l(e,t,r,n,o)),s.mmap=(e,t,r,n,o)=>{ye.forceLoadFile(a);var i=he(t);if(!i)throw new ye.ErrnoError(48);return l(e,v,i,t,r),{ptr:i,allocated:!0}},a.stream_ops=s,a}},ve=(e,t)=>e?ie(_,e,t):"",_e={DEFAULT_POLLMASK:5,calculateAt(e,t,r){if(te.isAbs(t))return t;var n;-100===e?n=ye.cwd():n=_e.getStreamFromFD(e).path;if(0==t.length){if(!r)throw new ye.ErrnoError(44);return n}return n+"/"+t},writeStat(e,t){S[e>>2]=t.dev,S[e+4>>2]=t.mode,T[e+8>>2]=t.nlink,S[e+12>>2]=t.uid,S[e+16>>2]=t.gid,S[e+20>>2]=t.rdev,k[e+24>>3]=BigInt(t.size),S[e+32>>2]=4096,S[e+36>>2]=t.blocks;var r=t.atime.getTime(),n=t.mtime.getTime(),o=t.ctime.getTime();return k[e+40>>3]=BigInt(Math.floor(r/1e3)),T[e+48>>2]=r%1e3*1e3*1e3,k[e+56>>3]=BigInt(Math.floor(n/1e3)),T[e+64>>2]=n%1e3*1e3*1e3,k[e+72>>3]=BigInt(Math.floor(o/1e3)),T[e+80>>2]=o%1e3*1e3*1e3,k[e+88>>3]=BigInt(t.ino),0},writeStatFs(e,t){S[e+4>>2]=t.bsize,S[e+40>>2]=t.bsize,S[e+8>>2]=t.blocks,S[e+12>>2]=t.bfree,S[e+16>>2]=t.bavail,S[e+20>>2]=t.files,S[e+24>>2]=t.ffree,S[e+28>>2]=t.fsid,S[e+44>>2]=t.flags,S[e+36>>2]=t.namelen},doMsync(e,t,r,n,o){if(!ye.isFile(t.node.mode))throw new ye.ErrnoError(43);if(2&n)return 0;var i=_.slice(e,e+r);ye.msync(t,i,o,r,n)},getStreamFromFD:e=>ye.getStreamChecked(e),varargs:void 0,getStr:e=>ve(e)};var we=()=>{var e=S[+_e.varargs>>2];return _e.varargs+=4,e},Ee=we;var Se=e=>e<-9007199254740992||e>9007199254740992?NaN:Number(e);var Te=(e,t,r)=>le(e,_,t,r);var xe,ke,Re,Ae=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},Pe=e=>{for(var t="",r=e;_[r];)t+=xe[_[r++]];return t},Ce={},Ie={},Fe={},Le=e=>{throw new ke(e)},Me=e=>{throw new Re(e)},De=(e,t,r)=>{function n(t){var n=r(t);n.length!==e.length&&Me("Mismatched type converter count");for(var o=0;o<e.length;++o)Oe(e[o],n[o])}e.forEach((e=>Fe[e]=t));var o=new Array(t.length),i=[],a=0;t.forEach(((e,t)=>{Ie.hasOwnProperty(e)?o[t]=Ie[e]:(i.push(e),Ce.hasOwnProperty(e)||(Ce[e]=[]),Ce[e].push((()=>{o[t]=Ie[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)};function Oe(e,t){return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=t.name;if(e||Le('type "'.concat(n,'" must have a positive integer typeid pointer')),Ie.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Le("Cannot register type '".concat(n,"' twice"))}if(Ie[e]=t,delete Fe[e],Ce.hasOwnProperty(e)){var o=Ce[e];delete Ce[e],o.forEach((e=>e()))}}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}var Ne=(e,t,r)=>{switch(t){case 1:return r?e=>v[e]:e=>_[e];case 2:return r?e=>w[e>>1]:e=>E[e>>1];case 4:return r?e=>S[e>>2]:e=>T[e>>2];case 8:return r?e=>k[e>>3]:e=>R[e>>3];default:throw new TypeError("invalid integer width (".concat(t,"): ").concat(e))}},Be=8,Ue=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),je=e=>{Le(e.$$.ptrType.registeredClass.name+" instance already deleted")},We=!1,Ve=e=>{},ze=e=>{e.count.value-=1,0===e.count.value&&(e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)})(e)},Ge=(e,t,r)=>{if(t===r)return e;if(void 0===r.baseClass)return null;var n=Ge(e,t,r.baseClass);return null===n?null:r.downcast(n)},Ke={},Xe={},Ye=(e,t)=>(t=((e,t)=>{for(void 0===t&&Le("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t})(e,t),Xe[t]),He=(e,t)=>((!t.ptrType||!t.ptr)&&Me("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!==!!t.smartPtr&&Me("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Qe(Object.create(e,{$$:{value:t,writable:!0}})));function Ze(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Ye(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?He(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):He(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=Ke[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var l=Ge(t,this.registeredClass,i.registeredClass);return null===l?o.call(this):this.isSmartPointer?He(i.registeredClass.instancePrototype,{ptrType:i,ptr:l,smartPtrType:this,smartPtr:e}):He(i.registeredClass.instancePrototype,{ptrType:i,ptr:l})}var Qe=e=>typeof FinalizationRegistry>"u"?(Qe=e=>e,e):(We=new FinalizationRegistry((e=>{ze(e.$$)})),Ve=e=>We.unregister(e),(Qe=e=>{var t=e.$$;if(!!t.smartPtr){var r={$$:t};We.register(e,r,e)}return e})(e)),$e=[];function Je(){}var qe=(e,t)=>Object.defineProperty(t,"name",{value:e}),et=(e,t,r)=>{if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e[t].overloadTable.hasOwnProperty(o.length)||Le("Function '".concat(r,"' called with an invalid number of arguments (").concat(o.length,") - expects one of (").concat(e[t].overloadTable,")!")),e[t].overloadTable[o.length].apply(this,o)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}},tt=(e,t,r)=>{o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&Le("Cannot register public name '".concat(e,"' twice")),et(o,e,e),o[e].overloadTable.hasOwnProperty(r)&&Le("Cannot register multiple overloads of a function with the same number of arguments (".concat(r,")!")),o[e].overloadTable[r]=t):(o[e]=t,o[e].argCount=r)};function rt(e,t,r,n,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}var nt=(e,t,r)=>{for(;t!==r;)t.upcast||Le("Expected null or instance of ".concat(r.name,", got an instance of ").concat(t.name)),e=t.upcast(e),t=t.baseClass;return e};function ot(e,t){if(null===t)return this.isReference&&Le("null is not a valid ".concat(this.name)),0;t.$$||Le('Cannot pass "'.concat(Ae(t),'" as a ').concat(this.name)),t.$$.ptr||Le("Cannot pass deleted object as a pointer of type ".concat(this.name));var r=t.$$.ptrType.registeredClass;return nt(t.$$.ptr,r,this.registeredClass)}function it(e,t){var r;if(null===t)return this.isReference&&Le("null is not a valid ".concat(this.name)),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;(!t||!t.$$)&&Le('Cannot pass "'.concat(Ae(t),'" as a ').concat(this.name)),t.$$.ptr||Le("Cannot pass deleted object as a pointer of type ".concat(this.name)),!this.isConst&&t.$$.ptrType.isConst&&Le("Cannot convert argument of type ".concat(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name," to parameter type ").concat(this.name));var n=t.$$.ptrType.registeredClass;if(r=nt(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Le("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Le("Cannot convert argument of type ".concat(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name," to parameter type ").concat(this.name));break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,At.toHandle((()=>o.delete()))),null!==e&&e.push(this.rawDestructor,r)}break;default:Le("Unsupporting sharing policy")}return r}function at(e,t){if(null===t)return this.isReference&&Le("null is not a valid ".concat(this.name)),0;t.$$||Le('Cannot pass "'.concat(Ae(t),'" as a ').concat(this.name)),t.$$.ptr||Le("Cannot pass deleted object as a pointer of type ".concat(this.name)),t.$$.ptrType.isConst&&Le("Cannot convert argument of type ".concat(t.$$.ptrType.name," to parameter type ").concat(this.name));var r=t.$$.ptrType.registeredClass;return nt(t.$$.ptr,r,this.registeredClass)}function st(e){return this.fromWireType(T[e>>2])}function lt(e,t,r,n,o,i,a,s,l,u,c){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=l,this.rawShare=u,this.rawDestructor=c,o||void 0!==t.baseClass?this.toWireType=it:n?(this.toWireType=ot,this.destructorFunction=null):(this.toWireType=at,this.destructorFunction=null)}var ut,ct,ft=(e,t,r)=>{o.hasOwnProperty(e)||Me("Replacing nonexistent public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)},dt=[],ht=e=>{var t=dt[e];return t||(e>=dt.length&&(dt.length=e+1),dt[e]=t=ut.get(e)),t},pt=(e,t)=>{e=Pe(e);var r=ht(t);return"function"!=typeof r&&Le("unknown function pointer with signature ".concat(e,": ").concat(t)),r},bt=e=>{var t=Cr(e),r=Pe(t);return Fr(t),r},mt=(e,t)=>{var r=[],n={};throw t.forEach((function e(t){if(!n[t]&&!Ie[t]){if(Fe[t])return void Fe[t].forEach(e);r.push(t),n[t]=!0}})),new ct("".concat(e,": ")+r.map(bt).join([", "]))},gt=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function yt(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].destructorFunction)return!0;return!1}function vt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type ".concat(typeof e," which is not a function"));var r=qe(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function _t(e,t,r,n,o,i){var a=t.length;a<2&&Le("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==t[1]&&null!==r,l=yt(t),u="void"!==t[0].name,c=[e,Le,n,o,gt,t[0],t[1]],f=0;f<a-2;++f)c.push(t[f+2]);if(!l)for(f=s?1:2;f<t.length;++f)null!==t[f].destructorFunction&&c.push(t[f].destructorFunction);let[d,h]=function(e,t,r,n){var o=yt(e),i=e.length-2,a=[],s=["fn"];t&&s.push("thisWired");for(var l=0;l<i;++l)a.push("arg".concat(l)),s.push("arg".concat(l,"Wired"));a=a.join(","),s=s.join(",");var u="return function (".concat(a,") {\n");o&&(u+="var destructors = [];\n");var c=o?"destructors":"null",f=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(t&&(u+="var thisWired = classParam['toWireType'](".concat(c,", this);\n")),l=0;l<i;++l)u+="var arg".concat(l,"Wired = argType").concat(l,"['toWireType'](").concat(c,", arg").concat(l,");\n"),f.push("argType".concat(l));if(u+=(r||n?"var rv = ":"")+"invoker(".concat(s,");\n"),o)u+="runDestructors(destructors);\n";else for(l=t?1:2;l<e.length;++l){var d=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(u+="".concat(d,"_dtor(").concat(d,");\n"),f.push("".concat(d,"_dtor")))}return r&&(u+="var ret = retType['fromWireType'](rv);\nreturn ret;\n"),[f,u+="}\n"]}(t,s,u,i);d.push(h);var p=vt(Function,d)(...c);return qe(e,p)}var wt=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(T[t+4*n>>2]);return r},Et=e=>{const t=(e=e.trim()).indexOf("(");return-1===t?e:e.slice(0,t)},St=(e,t,r)=>(e instanceof Object||Le("".concat(r,' with invalid "this": ').concat(e)),e instanceof t.registeredClass.constructor||Le("".concat(r,' incompatible with "this" of type ').concat(e.constructor.name)),e.$$.ptr||Le("cannot call emscripten binding method ".concat(r," on deleted object")),nt(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)),Tt=[],xt=[],kt=e=>{e>9&&0===--xt[e+1]&&(xt[e]=void 0,Tt.push(e))},Rt=()=>xt.length/2-5-Tt.length,At={toValue:e=>(e||Le("Cannot use deleted val. handle = "+e),xt[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=Tt.pop()||xt.length;return xt[t]=e,xt[t+1]=1,t}}}},Pt={name:"emscripten::val",fromWireType:e=>{var t=At.toValue(e);return kt(e),t},toWireType:(e,t)=>At.toHandle(t),argPackAdvance:Be,readValueFromPointer:st,destructorFunction:null},Ct=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType(v[e])}:function(e){return this.fromWireType(_[e])};case 2:return r?function(e){return this.fromWireType(w[e>>1])}:function(e){return this.fromWireType(E[e>>1])};case 4:return r?function(e){return this.fromWireType(S[e>>2])}:function(e){return this.fromWireType(T[e>>2])};default:throw new TypeError("invalid integer width (".concat(t,"): ").concat(e))}},It=(e,t)=>{var r=Ie[e];return void 0===r&&Le("".concat(t," has unknown type ").concat(bt(e))),r},Ft=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(x[e>>2])};case 8:return function(e){return this.fromWireType(A[e>>3])};default:throw new TypeError("invalid float width (".concat(t,"): ").concat(e))}},Lt=Object.assign({optional:!0},Pt),Mt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Dt=(e,t)=>{for(var r=e,n=r>>1,o=n+t/2;!(n>=o)&&E[n];)++n;if((r=n<<1)-e>32&&Mt)return Mt.decode(_.subarray(e,r));for(var i="",a=0;!(a>=t/2);++a){var s=w[e+2*a>>1];if(0==s)break;i+=String.fromCharCode(s)}return i},Ot=(e,t,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<2)return 0;for(var o=t,i=(r-=2)<2*e.length?r/2:e.length,a=0;a<i;++a){var s=e.charCodeAt(a);w[t>>1]=s,t+=2}return w[t>>1]=0,t-o},Nt=e=>2*e.length,Bt=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var o=S[e+4*r>>2];if(0==o)break;if(++r,o>=65536){var i=o-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(o)}return n},Ut=(e,t,r)=>{var n;if(null!==(n=r)&&void 0!==n||(r=2147483647),r<4)return 0;for(var o=t,i=o+r-4,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(S[t>>2]=s,(t+=4)+4>i)break}return S[t>>2]=0,t-o},jt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t},Wt=(e,t,r)=>{var n=[],o=e.toWireType(n,r);return n.length&&(T[t>>2]=At.toHandle(n)),o},Vt=[],zt={},Gt=e=>{var t=zt[e];return void 0===t?Pe(e):t};var Kt=[0,31,60,91,121,152,182,213,244,274,305,335],Xt=[0,31,59,90,120,151,181,212,243,273,304,334],Yt=e=>((e=>e%4===0&&(e%100!==0||e%400===0))(e.getFullYear())?Kt:Xt)[e.getMonth()]+e.getDate()-1;var Ht=(e,t)=>{if(Qt.timingMode=e,Qt.timingValue=t,!Qt.func)return 1;if(Qt.running||(Qt.running=!0),0==e)Qt.scheduler=function(){var e=0|Math.max(0,Qt.tickStartTime+t-Zt());setTimeout(Qt.runner,e)},Qt.method="timeout";else if(1==e)Qt.scheduler=function(){Qt.requestAnimationFrame(Qt.runner)},Qt.method="rAF";else if(2==e){if(typeof Qt.setImmediate>"u")if(typeof setImmediate>"u"){var r=[],n="setimmediate";addEventListener("message",(e=>{(e.data===n||e.data.target===n)&&(e.stopPropagation(),r.shift()())}),!0),Qt.setImmediate=e=>{r.push(e),postMessage(n,"*")}}else Qt.setImmediate=setImmediate;Qt.scheduler=function(){Qt.setImmediate(Qt.runner)},Qt.method="immediate"}return 0},Zt=()=>performance.now(),Qt={running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],preMainLoop:[],postMainLoop:[],pause(){Qt.scheduler=null,Qt.currentlyRunningMainloop++},resume(){Qt.currentlyRunningMainloop++;var e=Qt.timingMode,t=Qt.timingValue,r=Qt.func;Qt.func=null,((e,t,r,n,o)=>{Qt.func=e,Qt.arg=n;var i=Qt.currentlyRunningMainloop;function a(){return!(i<Qt.currentlyRunningMainloop)||(Y(),!1)}if(Qt.running=!1,Qt.runner=function(){if(!g){if(Qt.queue.length>0){var t=Qt.queue.shift();if(t.func(t.arg),Qt.remainingBlockers){var r=Qt.remainingBlockers,n=r%1==0?r-1:Math.floor(r);t.counted?Qt.remainingBlockers=n:(n+=.5,Qt.remainingBlockers=(8*r+n)/9)}if(Qt.updateStatus(),!a())return;return void setTimeout(Qt.runner,0)}if(a()){if(Qt.currentFrameNumber=Qt.currentFrameNumber+1|0,1==Qt.timingMode&&Qt.timingValue>1&&Qt.currentFrameNumber%Qt.timingValue!=0)return void Qt.scheduler();0==Qt.timingMode&&(Qt.tickStartTime=Zt()),Qt.runIter(e),a()&&Qt.scheduler()}}},o||(t>0?Ht(0,1e3/t):Ht(1,1),Qt.scheduler()),r)throw"unwind"})(r,0,!1,Qt.arg,!0),Ht(e,t),Qt.scheduler()},updateStatus(){if(o.setStatus){var e,t,r=o.statusMessage||"Please wait...",n=null!==(e=Qt.remainingBlockers)&&void 0!==e?e:0,i=null!==(t=Qt.expectedBlockers)&&void 0!==t?t:0;n?n<i?o.setStatus("{message} ({expected - remaining}/{expected})"):o.setStatus(r):o.setStatus("")}},init(){o.preMainLoop&&Qt.preMainLoop.push(o.preMainLoop),o.postMainLoop&&Qt.postMainLoop.push(o.postMainLoop)},runIter(e){if(!g){for(var t of Qt.preMainLoop)if(!1===t())return;for(var r of(H(e),Qt.postMainLoop))r()}},nextRAF:0,fakeRequestAnimationFrame(e){var t=Date.now();if(0===Qt.nextRAF)Qt.nextRAF=t+1e3/60;else for(;t+2>=Qt.nextRAF;)Qt.nextRAF+=1e3/60;var r=Math.max(Qt.nextRAF-t,0);setTimeout(e,r)},requestAnimationFrame(e){"function"!=typeof requestAnimationFrame?(0,Qt.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)}},$t={QUEUE_INTERVAL:25,QUEUE_LOOKAHEAD:.1,DEVICE_NAME:"Emscripten OpenAL",CAPTURE_DEVICE_NAME:"Emscripten OpenAL capture",ALC_EXTENSIONS:{ALC_SOFT_pause_device:!0,ALC_SOFT_HRTF:!0},AL_EXTENSIONS:{AL_EXT_float32:!0,AL_SOFT_loop_points:!0,AL_SOFT_source_length:!0,AL_EXT_source_distance_model:!0,AL_SOFT_source_spatialize:!0},_alcErr:0,alcErr:0,deviceRefCounts:{},alcStringCache:{},paused:!1,stringCache:{},contexts:{},currentCtx:null,buffers:{0:{id:0,refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0}},paramArray:[],_nextId:1,newId:()=>$t.freeIds.length>0?$t.freeIds.pop():$t._nextId++,freeIds:[],scheduleContextAudio:e=>{if(1!==Qt.timingMode||"visible"==document.visibilityState)for(var t in e.sources)$t.scheduleSourceAudio(e.sources[t])},scheduleSourceAudio:(e,t)=>{if((1!==Qt.timingMode||"visible"==document.visibilityState)&&4114===e.state){for(var r=$t.updateSourceTime(e),n=e.bufStartTime,o=e.bufOffset,i=e.bufsProcessed,a=0;a<e.audioQueue.length;a++){n=(c=e.audioQueue[a])._startTime+c._duration,o=0,i+=c._skipCount+1}t||(t=$t.QUEUE_LOOKAHEAD);for(var s=r+t,l=0;n<s;){if(i>=e.bufQueue.length){if(!e.looping)break;i%=e.bufQueue.length}var u=e.bufQueue[i%e.bufQueue.length];if(0===u.length){if(++l===e.bufQueue.length)break}else{var c;(c=e.context.audioCtx.createBufferSource()).buffer=u.audioBuf,c.playbackRate.value=e.playbackRate,(u.audioBuf._loopStart||u.audioBuf._loopEnd)&&(c.loopStart=u.audioBuf._loopStart,c.loopEnd=u.audioBuf._loopEnd);var f=0;4136===e.type&&e.looping?(f=Number.POSITIVE_INFINITY,c.loop=!0,u.audioBuf._loopStart&&(c.loopStart=u.audioBuf._loopStart),u.audioBuf._loopEnd&&(c.loopEnd=u.audioBuf._loopEnd)):f=(u.audioBuf.duration-o)/e.playbackRate,c._startOffset=o,c._duration=f,c._skipCount=l,l=0,c.connect(e.gain),typeof c.start<"u"?(n=Math.max(n,e.context.audioCtx.currentTime),c.start(n,o)):typeof c.noteOn<"u"&&(n=Math.max(n,e.context.audioCtx.currentTime),c.noteOn(n)),c._startTime=n,e.audioQueue.push(c),n+=f}o=0,i++}}},updateSourceTime:e=>{var t=e.context.audioCtx.currentTime;if(4114!==e.state)return t;isFinite(e.bufStartTime)||(e.bufStartTime=t-e.bufOffset/e.playbackRate,e.bufOffset=0);for(var r=0;e.audioQueue.length;){var n=e.audioQueue[0];if(e.bufsProcessed+=n._skipCount,t<(r=n._startTime+n._duration))break;e.audioQueue.shift(),e.bufStartTime=r,e.bufOffset=0,e.bufsProcessed++}if(e.bufsProcessed>=e.bufQueue.length&&!e.looping)$t.setSourceState(e,4116);else if(4136===e.type&&e.looping){if(0===(u=e.bufQueue[0]).length)e.bufOffset=0;else{var o=(t-e.bufStartTime)*e.playbackRate,i=u.audioBuf._loopStart||0,a=u.audioBuf._loopEnd||u.audioBuf.duration;a<=i&&(a=u.audioBuf.duration),e.bufOffset=o<a?o:i+(o-i)%(a-i)}}else if(e.audioQueue[0])e.bufOffset=(t-e.audioQueue[0]._startTime)*e.playbackRate;else{if(4136!==e.type&&e.looping){var s=$t.sourceDuration(e)/e.playbackRate;s>0&&(e.bufStartTime+=Math.floor((t-e.bufStartTime)/s)*s)}for(var l=0;l<e.bufQueue.length;l++){if(e.bufsProcessed>=e.bufQueue.length){if(!e.looping){$t.setSourceState(e,4116);break}e.bufsProcessed%=e.bufQueue.length}var u;if((u=e.bufQueue[e.bufsProcessed]).length>0){if(t<(r=e.bufStartTime+u.audioBuf.duration/e.playbackRate)){e.bufOffset=(t-e.bufStartTime)*e.playbackRate;break}e.bufStartTime=r}e.bufOffset=0,e.bufsProcessed++}}return t},cancelPendingSourceAudio:e=>{$t.updateSourceTime(e);for(var t=1;t<e.audioQueue.length;t++){e.audioQueue[t].stop()}e.audioQueue.length>1&&(e.audioQueue.length=1)},stopSourceAudio:e=>{for(var t=0;t<e.audioQueue.length;t++)e.audioQueue[t].stop();e.audioQueue.length=0},setSourceState:(e,t)=>{4114===t?((4114===e.state||4116==e.state)&&(e.bufsProcessed=0,e.bufOffset=0),$t.stopSourceAudio(e),e.state=4114,e.bufStartTime=Number.NEGATIVE_INFINITY,$t.scheduleSourceAudio(e)):4115===t?4114===e.state&&($t.updateSourceTime(e),$t.stopSourceAudio(e),e.state=4115):4116===t?4113!==e.state&&(e.state=4116,e.bufsProcessed=e.bufQueue.length,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,$t.stopSourceAudio(e)):4113===t&&4113!==e.state&&(e.state=4113,e.bufsProcessed=0,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,$t.stopSourceAudio(e))},initSourcePanner:e=>{if(4144!==e.type){for(var t=$t.buffers[0],r=0;r<e.bufQueue.length;r++)if(0!==e.bufQueue[r].id){t=e.bufQueue[r];break}if(1===e.spatialize||2===e.spatialize&&1===t.channels){if(e.panner)return;e.panner=e.context.audioCtx.createPanner(),$t.updateSourceGlobal(e),$t.updateSourceSpace(e),e.panner.connect(e.context.gain),e.gain.disconnect(),e.gain.connect(e.panner)}else{if(!e.panner)return;e.panner.disconnect(),e.gain.disconnect(),e.gain.connect(e.context.gain),e.panner=null}}},updateContextGlobal:e=>{for(var t in e.sources)$t.updateSourceGlobal(e.sources[t])},updateSourceGlobal:e=>{var t=e.panner;if(t)switch(t.refDistance=e.refDistance,t.maxDistance=e.maxDistance,t.rolloffFactor=e.rolloffFactor,t.panningModel=e.context.hrtf?"HRTF":"equalpower",e.context.sourceDistanceModel?e.distanceModel:e.context.distanceModel){case 0:t.distanceModel="inverse",t.refDistance=340282e33;break;case 53249:case 53250:t.distanceModel="inverse";break;case 53251:case 53252:t.distanceModel="linear";break;case 53253:case 53254:t.distanceModel="exponential"}},updateListenerSpace:e=>{var t=e.audioCtx.listener;for(var r in t.positionX?(t.positionX.value=e.listener.position[0],t.positionY.value=e.listener.position[1],t.positionZ.value=e.listener.position[2]):t.setPosition(e.listener.position[0],e.listener.position[1],e.listener.position[2]),t.forwardX?(t.forwardX.value=e.listener.direction[0],t.forwardY.value=e.listener.direction[1],t.forwardZ.value=e.listener.direction[2],t.upX.value=e.listener.up[0],t.upY.value=e.listener.up[1],t.upZ.value=e.listener.up[2]):t.setOrientation(e.listener.direction[0],e.listener.direction[1],e.listener.direction[2],e.listener.up[0],e.listener.up[1],e.listener.up[2]),e.sources)$t.updateSourceSpace(e.sources[r])},updateSourceSpace:e=>{if(e.panner){var t=e.panner,r=e.position[0],n=e.position[1],o=e.position[2],i=e.direction[0],a=e.direction[1],s=e.direction[2],l=e.context.listener,u=l.position[0],c=l.position[1],f=l.position[2];if(e.relative){var d=-l.direction[0],h=-l.direction[1],p=-l.direction[2],b=l.up[0],m=l.up[1],g=l.up[2],y=(e,t,r)=>{var n=Math.sqrt(e*e+t*t+r*r);return n<Number.EPSILON?0:1/n},v=y(d,h,p);d*=v,h*=v,p*=v;var _=(m*=v=y(b,m,g))*p-(g*=v)*h,w=g*d-(b*=v)*p,E=b*h-m*d,S=i,T=a,x=s;i=S*(_*=v=y(_,w,E))+T*(b=h*(E*=v)-p*(w*=v))+x*d,a=S*w+T*(m=p*_-d*E)+x*h,s=S*E+T*(g=d*w-h*_)+x*p,r=(S=r)*_+(T=n)*b+(x=o)*d,n=S*w+T*m+x*h,o=S*E+T*g+x*p,r+=u,n+=c,o+=f}t.positionX?(r!=t.positionX.value&&(t.positionX.value=r),n!=t.positionY.value&&(t.positionY.value=n),o!=t.positionZ.value&&(t.positionZ.value=o)):t.setPosition(r,n,o),t.orientationX?(i!=t.orientationX.value&&(t.orientationX.value=i),a!=t.orientationY.value&&(t.orientationY.value=a),s!=t.orientationZ.value&&(t.orientationZ.value=s)):t.setOrientation(i,a,s);var k=e.dopplerShift,R=e.velocity[0],A=e.velocity[1],P=e.velocity[2],C=l.velocity[0],I=l.velocity[1],F=l.velocity[2];if(r===u&&n===c&&o===f||R===C&&A===I&&P===F)e.dopplerShift=1;else{var L=e.context.speedOfSound,M=e.context.dopplerFactor,D=u-r,O=c-n,N=f-o,B=Math.sqrt(D*D+O*O+N*N),U=(D*C+O*I+N*F)/B,j=(D*R+O*A+N*P)/B;U=Math.min(U,L/M),j=Math.min(j,L/M),e.dopplerShift=(L-M*U)/(L-M*j)}e.dopplerShift!==k&&$t.updateSourceRate(e)}},updateSourceRate:e=>{if(4114===e.state){$t.cancelPendingSourceAudio(e);var t,r=e.audioQueue[0];if(!r)return;t=4136===e.type&&e.looping?Number.POSITIVE_INFINITY:(r.buffer.duration-r._startOffset)/e.playbackRate,r._duration=t,r.playbackRate.value=e.playbackRate,$t.scheduleSourceAudio(e)}},sourceDuration:e=>{for(var t=0,r=0;r<e.bufQueue.length;r++){var n=e.bufQueue[r].audioBuf;t+=n?n.duration:0}return t},sourceTell:e=>{$t.updateSourceTime(e);for(var t=0,r=0;r<e.bufsProcessed;r++)e.bufQueue[r].audioBuf&&(t+=e.bufQueue[r].audioBuf.duration);return t+=e.bufOffset},sourceSeek:(e,t)=>{var r=4114==e.state;if(r&&$t.setSourceState(e,4113),null!==e.bufQueue[e.bufsProcessed].audioBuf){for(e.bufsProcessed=0;t>e.bufQueue[e.bufsProcessed].audioBuf.duration;)t-=e.bufQueue[e.bufsProcessed].audioBuf.duration,e.bufsProcessed++;e.bufOffset=t}r&&$t.setSourceState(e,4114)},getGlobalParam:(e,t)=>{if(!$t.currentCtx)return null;switch(t){case 49152:return $t.currentCtx.dopplerFactor;case 49155:return $t.currentCtx.speedOfSound;case 53248:return $t.currentCtx.distanceModel;default:return $t.currentCtx.err=40962,null}},setGlobalParam:(e,t,r)=>{if($t.currentCtx)switch(t){case 49152:if(!Number.isFinite(r)||r<0)return void($t.currentCtx.err=40963);$t.currentCtx.dopplerFactor=r,$t.updateListenerSpace($t.currentCtx);break;case 49155:if(!Number.isFinite(r)||r<=0)return void($t.currentCtx.err=40963);$t.currentCtx.speedOfSound=r,$t.updateListenerSpace($t.currentCtx);break;case 53248:switch(r){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:$t.currentCtx.distanceModel=r,$t.updateContextGlobal($t.currentCtx);break;default:return void($t.currentCtx.err=40963)}break;default:return void($t.currentCtx.err=40962)}},getListenerParam:(e,t)=>{if(!$t.currentCtx)return null;switch(t){case 4100:return $t.currentCtx.listener.position;case 4102:return $t.currentCtx.listener.velocity;case 4111:return $t.currentCtx.listener.direction.concat($t.currentCtx.listener.up);case 4106:return $t.currentCtx.gain.gain.value;default:return $t.currentCtx.err=40962,null}},setListenerParam:(e,t,r)=>{if($t.currentCtx){if(null===r)return void($t.currentCtx.err=40962);var n=$t.currentCtx.listener;switch(t){case 4100:if(!Number.isFinite(r[0])||!Number.isFinite(r[1])||!Number.isFinite(r[2]))return void($t.currentCtx.err=40963);n.position[0]=r[0],n.position[1]=r[1],n.position[2]=r[2],$t.updateListenerSpace($t.currentCtx);break;case 4102:if(!Number.isFinite(r[0])||!Number.isFinite(r[1])||!Number.isFinite(r[2]))return void($t.currentCtx.err=40963);n.velocity[0]=r[0],n.velocity[1]=r[1],n.velocity[2]=r[2],$t.updateListenerSpace($t.currentCtx);break;case 4106:if(!Number.isFinite(r)||r<0)return void($t.currentCtx.err=40963);$t.currentCtx.gain.gain.value=r;break;case 4111:if(!Number.isFinite(r[0])||!Number.isFinite(r[1])||!Number.isFinite(r[2])||!Number.isFinite(r[3])||!Number.isFinite(r[4])||!Number.isFinite(r[5]))return void($t.currentCtx.err=40963);n.direction[0]=r[0],n.direction[1]=r[1],n.direction[2]=r[2],n.up[0]=r[3],n.up[1]=r[4],n.up[2]=r[5],$t.updateListenerSpace($t.currentCtx);break;default:return void($t.currentCtx.err=40962)}}},getBufferParam:(e,t,r)=>{if($t.currentCtx){var n=$t.buffers[t];if(!n||0===t)return void($t.currentCtx.err=40961);switch(r){case 8193:return n.frequency;case 8194:return 8*n.bytesPerSample;case 8195:return n.channels;case 8196:return n.length*n.bytesPerSample*n.channels;case 8213:return 0===n.length?[0,0]:[(n.audioBuf._loopStart||0)*n.frequency,(n.audioBuf._loopEnd||n.length)*n.frequency];default:return $t.currentCtx.err=40962,null}}},setBufferParam:(e,t,r,n)=>{if($t.currentCtx){var o=$t.buffers[t];if(!o||0===t)return void($t.currentCtx.err=40961);if(null===n)return void($t.currentCtx.err=40962);switch(r){case 8196:if(0!==n)return void($t.currentCtx.err=40963);break;case 8213:if(n[0]<0||n[0]>o.length||n[1]<0||n[1]>o.Length||n[0]>=n[1])return void($t.currentCtx.err=40963);if(o.refCount>0)return void($t.currentCtx.err=40964);o.audioBuf&&(o.audioBuf._loopStart=n[0]/o.frequency,o.audioBuf._loopEnd=n[1]/o.frequency);break;default:return void($t.currentCtx.err=40962)}}},getSourceParam:(e,t,r)=>{if(!$t.currentCtx)return null;var n=$t.currentCtx.sources[t];if(!n)return $t.currentCtx.err=40961,null;switch(r){case 514:return n.relative;case 4097:return n.coneInnerAngle;case 4098:return n.coneOuterAngle;case 4099:return n.pitch;case 4100:return n.position;case 4101:return n.direction;case 4102:return n.velocity;case 4103:return n.looping;case 4105:return 4136===n.type?n.bufQueue[0].id:0;case 4106:return n.gain.gain.value;case 4109:return n.minGain;case 4110:return n.maxGain;case 4112:return n.state;case 4117:return 1===n.bufQueue.length&&0===n.bufQueue[0].id?0:n.bufQueue.length;case 4118:return 1===n.bufQueue.length&&0===n.bufQueue[0].id||n.looping?0:n.bufsProcessed;case 4128:return n.refDistance;case 4129:return n.rolloffFactor;case 4130:return n.coneOuterGain;case 4131:return n.maxDistance;case 4132:return $t.sourceTell(n);case 4133:return(o=$t.sourceTell(n))>0&&(o*=n.bufQueue[0].frequency),o;case 4134:var o;return(o=$t.sourceTell(n))>0&&(o*=n.bufQueue[0].frequency*n.bufQueue[0].bytesPerSample),o;case 4135:return n.type;case 4628:return n.spatialize;case 8201:for(var i=0,a=0,s=0;s<n.bufQueue.length;s++)i+=n.bufQueue[s].length,0!==n.bufQueue[s].id&&(a=n.bufQueue[s].bytesPerSample*n.bufQueue[s].channels);return i*a;case 8202:for(i=0,s=0;s<n.bufQueue.length;s++)i+=n.bufQueue[s].length;return i;case 8203:return $t.sourceDuration(n);case 53248:return n.distanceModel;default:return $t.currentCtx.err=40962,null}},setSourceParam:(e,t,r,n)=>{if($t.currentCtx){var o=$t.currentCtx.sources[t];if(!o)return void($t.currentCtx.err=40961);if(null===n)return void($t.currentCtx.err=40962);switch(r){case 514:if(1===n)o.relative=!0,$t.updateSourceSpace(o);else{if(0!==n)return void($t.currentCtx.err=40963);o.relative=!1,$t.updateSourceSpace(o)}break;case 4097:if(!Number.isFinite(n))return void($t.currentCtx.err=40963);o.coneInnerAngle=n,o.panner&&(o.panner.coneInnerAngle=n%360);break;case 4098:if(!Number.isFinite(n))return void($t.currentCtx.err=40963);o.coneOuterAngle=n,o.panner&&(o.panner.coneOuterAngle=n%360);break;case 4099:if(!Number.isFinite(n)||n<=0)return void($t.currentCtx.err=40963);if(o.pitch===n)break;o.pitch=n,$t.updateSourceRate(o);break;case 4100:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void($t.currentCtx.err=40963);o.position[0]=n[0],o.position[1]=n[1],o.position[2]=n[2],$t.updateSourceSpace(o);break;case 4101:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void($t.currentCtx.err=40963);o.direction[0]=n[0],o.direction[1]=n[1],o.direction[2]=n[2],$t.updateSourceSpace(o);break;case 4102:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void($t.currentCtx.err=40963);o.velocity[0]=n[0],o.velocity[1]=n[1],o.velocity[2]=n[2],$t.updateSourceSpace(o);break;case 4103:if(1===n){if(o.looping=!0,$t.updateSourceTime(o),4136===o.type&&o.audioQueue.length>0)(i=o.audioQueue[0]).loop=!0,i._duration=Number.POSITIVE_INFINITY}else{if(0!==n)return void($t.currentCtx.err=40963);o.looping=!1;var i,a=$t.updateSourceTime(o);4136===o.type&&o.audioQueue.length>0&&((i=o.audioQueue[0]).loop=!1,i._duration=o.bufQueue[0].audioBuf.duration/o.playbackRate,i._startTime=a-o.bufOffset/o.playbackRate)}break;case 4105:if(4114===o.state||4115===o.state)return void($t.currentCtx.err=40964);if(0===n){for(var s in o.bufQueue)o.bufQueue[s].refCount--;o.bufQueue.length=1,o.bufQueue[0]=$t.buffers[0],o.bufsProcessed=0,o.type=4144}else{if(!(d=$t.buffers[n]))return void($t.currentCtx.err=40963);for(var s in o.bufQueue)o.bufQueue[s].refCount--;o.bufQueue.length=0,d.refCount++,o.bufQueue=[d],o.bufsProcessed=0,o.type=4136}$t.initSourcePanner(o),$t.scheduleSourceAudio(o);break;case 4106:if(!Number.isFinite(n)||n<0)return void($t.currentCtx.err=40963);o.gain.gain.value=n;break;case 4109:if(!Number.isFinite(n)||n<0||n>Math.min(o.maxGain,1))return void($t.currentCtx.err=40963);o.minGain=n;break;case 4110:if(!Number.isFinite(n)||n<Math.max(0,o.minGain)||n>1)return void($t.currentCtx.err=40963);o.maxGain=n;break;case 4128:if(!Number.isFinite(n)||n<0)return void($t.currentCtx.err=40963);o.refDistance=n,o.panner&&(o.panner.refDistance=n);break;case 4129:if(!Number.isFinite(n)||n<0)return void($t.currentCtx.err=40963);o.rolloffFactor=n,o.panner&&(o.panner.rolloffFactor=n);break;case 4130:if(!Number.isFinite(n)||n<0||n>1)return void($t.currentCtx.err=40963);o.coneOuterGain=n,o.panner&&(o.panner.coneOuterGain=n);break;case 4131:if(!Number.isFinite(n)||n<0)return void($t.currentCtx.err=40963);o.maxDistance=n,o.panner&&(o.panner.maxDistance=n);break;case 4132:if(n<0||n>$t.sourceDuration(o))return void($t.currentCtx.err=40963);$t.sourceSeek(o,n);break;case 4133:if((c=$t.sourceDuration(o))>0){var l;for(var u in o.bufQueue)if(u){l=o.bufQueue[u].frequency;break}n/=l}if(n<0||n>c)return void($t.currentCtx.err=40963);$t.sourceSeek(o,n);break;case 4134:var c;if((c=$t.sourceDuration(o))>0){var f;for(var u in o.bufQueue)if(u){var d;f=(d=o.bufQueue[u]).frequency*d.bytesPerSample*d.channels;break}n/=f}if(n<0||n>c)return void($t.currentCtx.err=40963);$t.sourceSeek(o,n);break;case 4628:if(0!==n&&1!==n&&2!==n)return void($t.currentCtx.err=40963);o.spatialize=n,$t.initSourcePanner(o);break;case 8201:case 8202:case 8203:$t.currentCtx.err=40964;break;case 53248:switch(n){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:o.distanceModel=n,$t.currentCtx.sourceDistanceModel&&$t.updateContextGlobal($t.currentCtx);break;default:return void($t.currentCtx.err=40963)}break;default:return void($t.currentCtx.err=40962)}}},captures:{},sharedCaptureAudioCtx:null,requireValidCaptureDevice:(e,t)=>{if(0===e)return $t.alcErr=40961,null;var r=$t.captures[e];return r?r.mediaStreamError?($t.alcErr=40961,null):r:($t.alcErr=40961,null)}},Jt=(e,t,r)=>{switch(t){case 514:case 4097:case 4098:case 4103:case 4105:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4628:case 8201:case 8202:case 53248:$t.setSourceParam("alSourcei",e,t,r);break;default:$t.setSourceParam("alSourcei",e,t,null)}},qt=e=>{var t=se(e)+1,r=Ir(t);return r&&Te(e,r,t),r},er=(e,t)=>{t||(t=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach((r=>{t.forEach((t=>{t&&((e,t,r)=>{e.addEventListener(t,r,{once:!0})})(t,r,(()=>{"suspended"===e.state&&e.resume()}))}))}))},tr=()=>Date.now();var rr=e=>{var t=(e-p.buffer.byteLength+65535)/65536|0;try{return p.grow(t),C(),1}catch{}};class nr{constructor(){i(this,"allocated",[void 0]),i(this,"freelist",[])}get(e){return this.allocated[e]}has(e){return void 0!==this.allocated[e]}allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t}free(e){this.allocated[e]=void 0,this.freelist.push(e)}}var or={openDatabase(e,t,r,n){try{var o=indexedDB.open(e,t)}catch(i){return n(i)}o.onupgradeneeded=e=>{var t=e.target.result;t.objectStoreNames.contains("FILES")&&t.deleteObjectStore("FILES"),t.createObjectStore("FILES")},o.onsuccess=e=>r(e.target.result),o.onerror=n},init(){or.xhrs=new nr;N(),or.openDatabase("emscripten_filesystem",1,(e=>{or.dbInstance=e,B()}),(()=>{or.dbInstance=!1,B()}))}};function ir(e,t,r,n,o){var i=T[e+8>>2];if(i){var a=ve(i),s=e+108,l=ve(s+0);l||(l="GET");var u=T[s+56>>2],c=T[s+68>>2],f=T[s+72>>2],d=T[s+76>>2],h=T[s+80>>2],p=T[s+84>>2],b=T[s+88>>2],m=T[s+52>>2],g=!!(1&m),y=!!(2&m),v=!!(64&m),E=c?ve(c):void 0,S=f?ve(f):void 0,x=new XMLHttpRequest;if(x.withCredentials=!!_[s+60],x.open(l,a,!v,E,S),v||(x.timeout=u),x.url_=a,x.responseType="arraybuffer",h){var k=ve(h);x.overrideMimeType(k)}if(d)for(;;){var R=T[d>>2];if(!R)break;var A=T[d+4>>2];if(!A)break;d+=8;var P=ve(R),C=ve(A);x.setRequestHeader(P,C)}var I=or.xhrs.allocate(x);T[e>>2]=I;var F=p&&b?_.slice(p,p+b):null;x.onload=n=>{or.xhrs.has(I)&&(L(),x.status>=200&&x.status<300?null===t||void 0===t||t(e,x,n):null===r||void 0===r||r(e,x,n))},x.onerror=t=>{or.xhrs.has(I)&&(L(),null===r||void 0===r||r(e,x,t))},x.ontimeout=t=>{or.xhrs.has(I)&&(null===r||void 0===r||r(e,x,t))},x.onprogress=t=>{if(or.xhrs.has(I)){var r=g&&y&&x.response?x.response.byteLength:0,o=0;r>0&&g&&y&&(o=Ir(r),_.set(new Uint8Array(x.response),o)),T[e+12>>2]=o,ar(e+16,r),ar(e+24,t.loaded-r),ar(e+32,t.total),w[e+40>>1]=x.readyState,x.readyState>=3&&0===x.status&&t.loaded>0&&(x.status=200),w[e+42>>1]=x.status,x.statusText&&Te(x.statusText,e+44,64),null!==n&&void 0!==n&&n(e,x,t),o&&Fr(o)}},x.onreadystatechange=t=>{or.xhrs.has(I)&&(w[e+40>>1]=x.readyState,x.readyState>=2&&(w[e+42>>1]=x.status),null===o||void 0===o||o(e,x,t))};try{x.send(F)}catch(M){null===r||void 0===r||r(e,x,M)}}else r(e,0,"no url specified!");function L(){var t=0,r=0;x.response&&g&&0===T[e+12>>2]&&(r=x.response.byteLength),r>0&&(t=Ir(r),_.set(new Uint8Array(x.response),t)),T[e+12>>2]=t,ar(e+16,r),ar(e+24,0);var n=x.response?x.response.byteLength:0;n&&ar(e+32,n),w[e+40>>1]=x.readyState,w[e+42>>1]=x.status,x.statusText&&Te(x.statusText,e+44,64)}}var ar=(e,t)=>{T[e>>2]=t;var r=T[e>>2];T[e+4>>2]=(t-r)/4294967296};function sr(e,t,r,n,o){if(e){var i=T[t+108+64>>2];i||(i=T[t+8>>2]);var a=ve(i);try{var s=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(r,a);s.onsuccess=e=>{w[t+40>>1]=4,w[t+42>>1]=200,Te("OK",t+44,64),n(t,0,a)},s.onerror=e=>{w[t+40>>1]=4,w[t+42>>1]=413,Te("Payload Too Large",t+44,64),o(t,0,e)}}catch(l){o(t,0,l)}}else o(t,0,"IndexedDB not available!")}var lr={},ur=()=>{if(!ur.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(var t in lr)void 0===lr[t]?delete e[t]:e[t]=lr[t];var r=[];for(var t in e)r.push("".concat(t,"=").concat(e[t]));ur.strings=r}return ur.strings};var cr,fr=e=>{for(var t=e.split("."),r=0;r<4;r++){var n=Number(t[r]);if(isNaN(n))return null;t[r]=n}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0},dr=e=>parseInt(e),hr=e=>{var t,r,n,o,i=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=dr(t[t.length-4])+256*dr(t[t.length-3]),t[t.length-3]=dr(t[t.length-2])+256*dr(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),n=0,o=0,r=0;r<t.length;r++)if("string"==typeof t[r])if("Z"===t[r]){for(o=0;o<8-t.length+1;o++)i[r+o]=0;n=o-1}else i[r+n]=Mr(parseInt(t[r],16));else i[r+n]=t[r];return[i[1]<<16|i[0],i[3]<<16|i[2],i[5]<<16|i[4],i[7]<<16|i[6]]},pr={address_map:{id:1,addrs:{},names:{}},lookup_name(e){var t,r=fr(e);if(null!==r||null!==(r=hr(e)))return e;if(pr.address_map.addrs[e])t=pr.address_map.addrs[e];else{var n=pr.address_map.id++;y(n<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&n)+"."+(65280&n),pr.address_map.names[t]=e,pr.address_map.addrs[e]=t}return t},lookup_addr:e=>pr.address_map.names[e]?pr.address_map.names[e]:null},br=e=>(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255),mr={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,unpackRowLength:0,recordError:e=>{mr.lastError||(mr.lastError=e)},getNewId:e=>{for(var t=mr.counter++,r=e.length;r<t;r++)e[r]=null;return t},genObject:(e,t,r,n)=>{for(var o=0;o<e;o++){var i=cr[r](),a=i&&mr.getNewId(n);i?(i.name=a,n[a]=i):mr.recordError(1282),S[t+4*o>>2]=a}},getSource:(e,t,r,n)=>{for(var o="",i=0;i<t;++i){var a=n?T[n+4*i>>2]:void 0;o+=ve(T[r+4*i>>2],a)}return o},createContext:(e,t)=>{if(!e.getContextSafariWebGL2Fixed){let t=function(t,r){var n=e.getContextSafariWebGL2Fixed(t,r);return"webgl"==t==n instanceof WebGLRenderingContext?n:null};e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=t}var r=t.majorVersion>1?e.getContext("webgl2",t):e.getContext("webgl",t);return r?mr.registerContext(r,t):0},registerContext:(e,t)=>{var r=mr.getNewId(mr.contexts),n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),mr.contexts[r]=n,r},makeContextCurrent:e=>{var t;return mr.currentContext=mr.contexts[e],o.ctx=cr=null===(t=mr.currentContext)||void 0===t?void 0:t.GLctx,!(e&&!cr)},getContext:e=>mr.contexts[e],deleteContext:e=>{var t;mr.currentContext===mr.contexts[e]&&(mr.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(mr.contexts[e].GLctx.canvas),null!==(t=mr.contexts[e])&&void 0!==t&&null!==(t=t.GLctx)&&void 0!==t&&t.canvas&&(mr.contexts[e].GLctx.canvas.GLctxObject=void 0),mr.contexts[e]=null}},gr=[],yr=(e,t,r)=>{if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=r&&1!=r&&mr.recordError(1280));case 34814:case 36345:n=0;break;case 34466:var o=cr.getParameter(34467);n=o?o.length:0;break;case 33309:if(mr.currentContext.version<2)return void mr.recordError(1282);n=(()=>{var e=(e=>{var t=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers","EXT_color_buffer_float","EXT_conservative_depth","EXT_disjoint_timer_query_webgl2","EXT_texture_norm16","NV_shader_noperspective_interpolation","WEBGL_clip_cull_distance","EXT_clip_control","EXT_color_buffer_half_float","EXT_depth_clamp","EXT_float_blend","EXT_polygon_offset_clamp","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_blend_func_extended","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw","WEBGL_polygon_mode"];return(e.getSupportedExtensions()||[]).filter((e=>t.includes(e)))})(cr);return e.concat(e.map((e=>"GL_"+e)))})().length;break;case 33307:case 33308:if(mr.currentContext.version<2)return void mr.recordError(1280);n=33307==e?3:0}if(void 0===n){var i=cr.getParameter(e);switch(typeof i){case"number":n=i;break;case"boolean":n=i?1:0;break;case"string":return void mr.recordError(1280);case"object":if(null===i)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:return void mr.recordError(1280)}else{if(i instanceof Float32Array||i instanceof Uint32Array||i instanceof Int32Array||i instanceof Array){for(var a=0;a<i.length;++a)switch(r){case 0:S[t+4*a>>2]=i[a];break;case 2:x[t+4*a>>2]=i[a];break;case 4:v[t+a]=i[a]?1:0}return}try{n=0|i.name}catch(s){return mr.recordError(1280),void h("GL_INVALID_ENUM in glGet".concat(r,"v: Unknown object returned from WebGL getParameter(").concat(e,")! (error: ").concat(s,")"))}}break;default:return mr.recordError(1280),void h("GL_INVALID_ENUM in glGet".concat(r,"v: Native code calling glGet").concat(r,"v(").concat(e,") and it returns ").concat(i," of type ").concat(typeof i,"!"))}}switch(r){case 1:ar(t,n);break;case 0:S[t>>2]=n;break;case 2:x[t>>2]=n;break;case 4:v[t]=n?1:0}}else mr.recordError(1281)},vr=e=>"]"==e.slice(-1)&&e.lastIndexOf("["),_r=e=>0==(e-=5120)?v:1==e?_:2==e?w:4==e?S:6==e?x:5==e||28922==e||28520==e||30779==e||30782==e?T:E,wr=(e,t)=>e>>>31-Math.clz32(t.BYTES_PER_ELEMENT),Er=(e,t,r,n,o,i)=>{var a=_r(e),s=(e=>({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1))(t)*a.BYTES_PER_ELEMENT,l=((e,t,r)=>{var n,o,i=(mr.unpackRowLength||e)*r;return t*(n=i,o=mr.unpackAlignment,n+o-1&-o)})(r,n,s);return a.subarray(wr(o,a),wr(o+l,a))},Sr=e=>{var t=cr.currentProgram;if(t){var r=t.uniformLocsById[e];return"number"==typeof r&&(t.uniformLocsById[e]=r=cr.getUniformLocation(t,t.uniformArrayNamesById[e]+(r>0?"[".concat(r,"]"):""))),r}mr.recordError(1282)};var Tr=ye.createPath,xr=ye.createLazyFile,kr=ye.createDevice;o.requestFullscreen=$.requestFullscreen,o.setCanvasSize=$.setCanvasSize,o.getUserMedia=$.getUserMedia,o.createContext=$.createContext,ye.createPreloadedFile=me,ye.staticInit(),o.FS_createPath=ye.createPath,o.FS_createDataFile=ye.createDataFile,o.FS_createPreloadedFile=ye.createPreloadedFile,o.FS_unlink=ye.unlink,o.FS_createLazyFile=ye.createLazyFile,o.FS_createDevice=ye.createDevice,pe.doesNotExistError=new ye.ErrnoError(44),pe.doesNotExistError.stack="<generic error, no stack>",(()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);xe=e})(),ke=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Re=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Je.prototype,{isAliasOf(e){if(!(this instanceof Je)||!(e instanceof Je))return!1;var t=this.$$.ptrType.registeredClass,r=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o},clone(){if(this.$$.ptr||je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Qe(Object.create(Object.getPrototypeOf(this),{$$:{value:Ue(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Le("Object already scheduled for deletion"),Ve(this),ze(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Le("Object already scheduled for deletion"),$e.push(this),$e.length,this.$$.deleteScheduled=!0,this}}),Object.assign(lt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;null===(t=this.rawDestructor)||void 0===t||t.call(this,e)},argPackAdvance:Be,readValueFromPointer:st,fromWireType:Ze}),ct=o.UnboundTypeError=((e,t)=>{var r=qe(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:"".concat(this.name,": ").concat(this.message)},r})(Error,"UnboundTypeError"),xt.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=Rt,o.requestAnimationFrame=Qt.requestAnimationFrame,o.pauseMainLoop=Qt.pause,o.resumeMainLoop=Qt.resume,Qt.init(),or.init();for(var Rr=0;Rr<32;++Rr)gr.push(new Array(Rr));var Ar={__cxa_throw:(e,t,r)=>{throw new ee(e).init(t,r),e},__syscall_dup:function(e){try{var t=_e.getStreamFromFD(e);return ye.dupStream(t).fd}catch(r){if(typeof ye>"u"||"ErrnoError"!==r.name)throw r;return-r.errno}},__syscall_faccessat:function(e,t,r,n){try{if(t=_e.getStr(t),t=_e.calculateAt(e,t),-8&r)return-28;var o=ye.lookupPath(t,{follow:!0}).node;if(!o)return-44;var i="";return 4&r&&(i+="r"),2&r&&(i+="w"),1&r&&(i+="x"),i&&ye.nodePermissions(o,i)?-2:0}catch(a){if(typeof ye>"u"||"ErrnoError"!==a.name)throw a;return-a.errno}},__syscall_fcntl64:function(e,t,r){_e.varargs=r;try{var n=_e.getStreamFromFD(e);switch(t){case 0:if((o=we())<0)return-28;for(;ye.streams[o];)o++;return ye.dupStream(n,o).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var o=we();return n.flags|=o,0;case 12:o=Ee();return w[o+0>>1]=2,0}return-28}catch(i){if(typeof ye>"u"||"ErrnoError"!==i.name)throw i;return-i.errno}},__syscall_fstat64:function(e,t){try{return _e.writeStat(t,ye.fstat(e))}catch(r){if(typeof ye>"u"||"ErrnoError"!==r.name)throw r;return-r.errno}},__syscall_ftruncate64:function(e,t){t=Se(t);try{return isNaN(t)?61:(ye.ftruncate(e,t),0)}catch(r){if(typeof ye>"u"||"ErrnoError"!==r.name)throw r;return-r.errno}},__syscall_getdents64:function(e,t,r){try{var n=_e.getStreamFromFD(e);n.getdents||(n.getdents=ye.readdir(n.path));for(var o=280,i=0,a=ye.llseek(n,0,1),s=Math.floor(a/o),l=Math.min(n.getdents.length,s+Math.floor(r/o)),u=s;u<l;u++){var c,f,d=n.getdents[u];if("."===d)c=n.node.id,f=4;else if(".."===d){c=ye.lookupPath(n.path,{parent:!0}).node.id,f=4}else{var h;try{h=ye.lookupNode(n.node,d)}catch(p){if(28===(null===p||void 0===p?void 0:p.errno))continue;throw p}c=h.id,f=ye.isChrdev(h.mode)?2:ye.isDir(h.mode)?4:ye.isLink(h.mode)?10:8}k[t+i>>3]=BigInt(c),k[t+i+8>>3]=BigInt((u+1)*o),w[t+i+16>>1]=280,v[t+i+18]=f,Te(d,t+i+19,256),i+=o}return ye.llseek(n,u*o,0),i}catch(p){if(typeof ye>"u"||"ErrnoError"!==p.name)throw p;return-p.errno}},__syscall_ioctl:function(e,t,r){_e.varargs=r;try{var n=_e.getStreamFromFD(e);switch(t){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return n.tty?0:-59;case 21505:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var o=n.tty.ops.ioctl_tcgets(n),i=Ee();S[i>>2]=o.c_iflag||0,S[i+4>>2]=o.c_oflag||0,S[i+8>>2]=o.c_cflag||0,S[i+12>>2]=o.c_lflag||0;for(var a=0;a<32;a++)v[i+a+17]=o.c_cc[a]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){i=Ee();var s=S[i>>2],l=S[i+4>>2],u=S[i+8>>2],c=S[i+12>>2],f=[];for(a=0;a<32;a++)f.push(v[i+a+17]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:s,c_oflag:l,c_cflag:u,c_lflag:c,c_cc:f})}return 0;case 21519:if(!n.tty)return-59;i=Ee();return S[i>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:i=Ee();return ye.ioctl(n,t,i);case 21523:if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var d=n.tty.ops.ioctl_tiocgwinsz(n.tty);i=Ee();w[i>>1]=d[0],w[i+2>>1]=d[1]}return 0;default:return-28}}catch(h){if(typeof ye>"u"||"ErrnoError"!==h.name)throw h;return-h.errno}},__syscall_lstat64:function(e,t){try{return e=_e.getStr(e),_e.writeStat(t,ye.lstat(e))}catch(r){if(typeof ye>"u"||"ErrnoError"!==r.name)throw r;return-r.errno}},__syscall_newfstatat:function(e,t,r,n){try{t=_e.getStr(t);var o=256&n,i=4096&n;return n&=-6401,t=_e.calculateAt(e,t,i),_e.writeStat(r,o?ye.lstat(t):ye.stat(t))}catch(a){if(typeof ye>"u"||"ErrnoError"!==a.name)throw a;return-a.errno}},__syscall_openat:function(e,t,r,n){_e.varargs=n;try{t=_e.getStr(t),t=_e.calculateAt(e,t);var o=n?we():0;return ye.open(t,r,o).fd}catch(i){if(typeof ye>"u"||"ErrnoError"!==i.name)throw i;return-i.errno}},__syscall_readlinkat:function(e,t,r,n){try{if(t=_e.getStr(t),t=_e.calculateAt(e,t),n<=0)return-28;var o=ye.readlink(t),i=Math.min(n,se(o)),a=v[r+i];return Te(o,r,n+1),v[r+i]=a,i}catch(s){if(typeof ye>"u"||"ErrnoError"!==s.name)throw s;return-s.errno}},__syscall_renameat:function(e,t,r,n){try{return t=_e.getStr(t),n=_e.getStr(n),t=_e.calculateAt(e,t),n=_e.calculateAt(r,n),ye.rename(t,n),0}catch(o){if(typeof ye>"u"||"ErrnoError"!==o.name)throw o;return-o.errno}},__syscall_stat64:function(e,t){try{return e=_e.getStr(e),_e.writeStat(t,ye.stat(e))}catch(r){if(typeof ye>"u"||"ErrnoError"!==r.name)throw r;return-r.errno}},__syscall_unlinkat:function(e,t,r){try{return t=_e.getStr(t),t=_e.calculateAt(e,t),0===r?ye.unlink(t):512===r?ye.rmdir(t):U("Invalid flags passed to unlinkat"),0}catch(n){if(typeof ye>"u"||"ErrnoError"!==n.name)throw n;return-n.errno}},_abort_js:()=>U(""),_embind_register_bigint:(e,t,r,n,o)=>{var i=-1!=(t=Pe(t)).indexOf("u");Oe(e,{name:t,fromWireType:e=>e,toWireType:function(e,t){if("bigint"!=typeof t&&"number"!=typeof t)throw new TypeError('Cannot convert "'.concat(Ae(t),'" to ').concat(this.name));return"number"==typeof t&&(t=BigInt(t)),t},argPackAdvance:Be,readValueFromPointer:Ne(t,r,!i),destructorFunction:null})},_embind_register_bool:(e,t,r,n)=>{Oe(e,{name:t=Pe(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},argPackAdvance:Be,readValueFromPointer:function(e){return this.fromWireType(_[e])},destructorFunction:null})},_embind_register_class:(e,t,r,n,o,i,a,s,l,u,c,f,d)=>{c=Pe(c),i=pt(o,i),s&&(s=pt(a,s)),u&&(u=pt(l,u)),d=pt(f,d);var h=(e=>{var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_".concat(e):e})(c);tt(h,(function(){mt("Cannot construct ".concat(c," due to unbound types"),[n])})),De([e,t,r],n?[n]:[],(t=>{var r,o,a,l;t=t[0],n?l=(a=t.registeredClass).instancePrototype:l=Je.prototype;var f=qe(c,(function(){if(Object.getPrototypeOf(this)!==p)throw new ke("Use 'new' to construct "+c);if(void 0===b.constructor_body)throw new ke(c+" has no accessible constructor");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=b.constructor_body[t.length];if(void 0===n)throw new ke("Tried to invoke ctor of ".concat(c," with invalid number of parameters (").concat(t.length,") - expected (").concat(Object.keys(b.constructor_body).toString(),") parameters instead!"));return n.apply(this,t)})),p=Object.create(l,{constructor:{value:f}});f.prototype=p;var b=new rt(c,f,p,d,a,i,s,u);b.baseClass&&(null!==(r=(o=b.baseClass).__derivedClasses)&&void 0!==r||(o.__derivedClasses=[]),b.baseClass.__derivedClasses.push(b));var m=new lt(c,b,!0,!1,!1),g=new lt(c+"*",b,!1,!1,!1),y=new lt(c+" const*",b,!1,!0,!1);return Ke[e]={pointerType:g,constPointerType:y},ft(h,f),[m,g,y]}))},_embind_register_class_class_function:(e,t,r,n,o,i,a,s,l)=>{var u=wt(r,n);t=Pe(t),t=Et(t),i=pt(o,i),De([],[e],(e=>{e=e[0];var n="".concat(e.name,".").concat(t);function o(){mt("Cannot call ".concat(n," due to unbound types"),u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var l=e.registeredClass.constructor;return void 0===l[t]?(o.argCount=r-1,l[t]=o):(et(l,t,n),l[t].overloadTable[r-1]=o),De([],u,(o=>{var u=[o[0],null].concat(o.slice(1)),c=_t(n,u,null,i,a,s);if(void 0===l[t].overloadTable?(c.argCount=r-1,l[t]=c):l[t].overloadTable[r-1]=c,e.registeredClass.__derivedClasses)for(const r of e.registeredClass.__derivedClasses)r.constructor.hasOwnProperty(t)||(r.constructor[t]=c);return[]})),[]}))},_embind_register_class_constructor:(e,t,r,n,o,i)=>{var a=wt(t,r);o=pt(n,o),De([],[e],(e=>{e=e[0];var r="constructor ".concat(e.name);if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ke("Cannot register multiple constructors with identical number of parameters (".concat(t-1,") for class '").concat(e.name,"'! Overload resolution is currently only performed using the parameter count, not actual type info!"));return e.registeredClass.constructor_body[t-1]=()=>{mt("Cannot construct ".concat(e.name," due to unbound types"),a)},De([],a,(n=>(n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=_t(r,n,null,o,i),[]))),[]}))},_embind_register_class_function:(e,t,r,n,o,i,a,s,l,u)=>{var c=wt(r,n);t=Pe(t),t=Et(t),i=pt(o,i),De([],[e],(e=>{e=e[0];var n="".concat(e.name,".").concat(t);function o(){mt("Cannot call ".concat(n," due to unbound types"),c)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var u=e.registeredClass.instancePrototype,f=u[t];return void 0===f||void 0===f.overloadTable&&f.className!==e.name&&f.argCount===r-2?(o.argCount=r-2,o.className=e.name,u[t]=o):(et(u,t,n),u[t].overloadTable[r-2]=o),De([],c,(o=>{var s=_t(n,o,e,i,a,l);return void 0===u[t].overloadTable?(s.argCount=r-2,u[t]=s):u[t].overloadTable[r-2]=s,[]})),[]}))},_embind_register_class_property:(e,t,r,n,o,i,a,s,l,u)=>{t=Pe(t),o=pt(n,o),De([],[e],(e=>{e=e[0];var n="".concat(e.name,".").concat(t),c={get(){mt("Cannot access ".concat(n," due to unbound types"),[r,a])},enumerable:!0,configurable:!0};return c.set=l?()=>mt("Cannot access ".concat(n," due to unbound types"),[r,a]):e=>Le(n+" is a read-only property"),Object.defineProperty(e.registeredClass.instancePrototype,t,c),De([],l?[r,a]:[r],(r=>{var a=r[0],c={get(){var t=St(this,e,n+" getter");return a.fromWireType(o(i,t))},enumerable:!0};if(l){l=pt(s,l);var f=r[1];c.set=function(t){var r=St(this,e,n+" setter"),o=[];l(u,r,f.toWireType(o,t)),gt(o)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,c),[]})),[]}))},_embind_register_emval:e=>Oe(e,Pt),_embind_register_enum:(e,t,r,n)=>{function o(){}t=Pe(t),o.values={},Oe(e,{name:t,constructor:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,argPackAdvance:Be,readValueFromPointer:Ct(t,r,n),destructorFunction:null}),tt(t,o)},_embind_register_enum_value:(e,t,r)=>{var n=It(e,"enum");t=Pe(t);var o=n.constructor,i=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:qe("".concat(n.name,"_").concat(t),(function(){}))}});o.values[r]=i,o[t]=i},_embind_register_float:(e,t,r)=>{Oe(e,{name:t=Pe(t),fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:Be,readValueFromPointer:Ft(t,r),destructorFunction:null})},_embind_register_function:(e,t,r,n,o,i,a,s)=>{var l=wt(t,r);e=Pe(e),e=Et(e),o=pt(n,o),tt(e,(function(){mt("Cannot call ".concat(e," due to unbound types"),l)}),t-1),De([],l,(r=>{var n=[r[0],null].concat(r.slice(1));return ft(e,_t(e,n,null,o,i,a),t-1),[]}))},_embind_register_integer:(e,t,r,n,o)=>{t=Pe(t);var i=e=>e;if(0===n){var a=32-8*r;i=e=>e<<a>>>a}var s=t.includes("unsigned");Oe(e,{name:t,fromWireType:i,toWireType:s?function(e,t){return t>>>0}:function(e,t){return t},argPackAdvance:Be,readValueFromPointer:Ne(t,r,0!==n),destructorFunction:null})},_embind_register_memory_view:(e,t,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function o(e){var t=T[e>>2],r=T[e+4>>2];return new n(v.buffer,r,t)}Oe(e,{name:r=Pe(r),fromWireType:o,argPackAdvance:Be,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},_embind_register_optional:(e,t)=>{Oe(e,Lt)},_embind_register_smart_ptr:(e,t,r,n,o,i,a,s,l,u,c,f)=>{r=Pe(r),i=pt(o,i),s=pt(a,s),u=pt(l,u),f=pt(c,f),De([e],[t],(e=>(e=e[0],[new lt(r,e.registeredClass,!1,!1,!0,e,n,i,s,u,f)])))},_embind_register_std_string:(e,t)=>{Oe(e,{name:t=Pe(t),fromWireType(e){for(var t,r=T[e>>2],n=e+4,o=n,i=0;i<=r;++i){var a=n+i;if(i==r||0==_[a]){var s=ve(o,a-o);void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),o=a+1}}return Fr(e),t},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Le("Cannot pass non-string to std::string"),r=n?se(t):t.length;var o=Ir(4+r+1),i=o+4;if(T[o>>2]=r,n)Te(t,i,r+1);else if(n)for(var a=0;a<r;++a){var s=t.charCodeAt(a);s>255&&(Fr(o),Le("String has UTF-16 code units that do not fit in 8 bits")),_[i+a]=s}else for(a=0;a<r;++a)_[i+a]=t[a];return null!==e&&e.push(Fr,o),o},argPackAdvance:Be,readValueFromPointer:st,destructorFunction(e){Fr(e)}})},_embind_register_std_wstring:(e,t,r)=>{var n,o,i,a;r=Pe(r),2===t?(n=Dt,o=Ot,a=Nt,i=e=>E[e>>1]):4===t&&(n=Bt,o=Ut,a=jt,i=e=>T[e>>2]),Oe(e,{name:r,fromWireType:e=>{for(var r,o=T[e>>2],a=e+4,s=0;s<=o;++s){var l=e+4+s*t;if(s==o||0==i(l)){var u=n(a,l-a);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),a=l+t}}return Fr(e),r},toWireType:(e,n)=>{"string"!=typeof n&&Le("Cannot pass non-string to C++ string type ".concat(r));var i=a(n),s=Ir(4+i+t);return T[s>>2]=i/t,o(n,s+4,i+t),null!==e&&e.push(Fr,s),s},argPackAdvance:Be,readValueFromPointer:st,destructorFunction(e){Fr(e)}})},_embind_register_void:(e,t)=>{Oe(e,{isVoid:!0,name:t=Pe(t),argPackAdvance:0,fromWireType:()=>{},toWireType:(e,t)=>{}})},_emval_as:(e,t,r)=>(e=At.toValue(e),t=It(t,"emval::as"),Wt(t,r,e)),_emval_call:(e,t,r,n)=>(e=Vt[e])(null,t=At.toValue(t),r,n),_emval_call_method:(e,t,r,n,o)=>(e=Vt[e])(t=At.toValue(t),t[r=Gt(r)],n,o),_emval_decref:kt,_emval_get_method_caller:(e,t,r)=>{var n=((e,t)=>{for(var r=new Array(e),n=0;n<e;++n)r[n]=It(T[t+4*n>>2],"parameter "+n);return r})(e,t),o=n.shift();e--;var i="return function (obj, func, destructorsRef, args) {\n",a=0,s=[];0===r&&s.push("obj");for(var l=["retType"],u=[o],c=0;c<e;++c)s.push("arg"+c),l.push("argType"+c),u.push(n[c]),i+="  var arg".concat(c," = argType").concat(c,".readValueFromPointer(args").concat(a?"+"+a:"",");\n"),a+=n[c].argPackAdvance;i+="  var rv = ".concat(1===r?"new func":"func.call","(").concat(s.join(", "),");\n"),o.isVoid||(l.push("emval_returnValue"),u.push(Wt),i+="  return emval_returnValue(retType, destructorsRef, rv);\n"),i+="};\n",l.push(i);var f=vt(Function,l)(...u),d="methodCaller<(".concat(n.map((e=>e.name)).join(", "),") => ").concat(o.name,">");return(e=>{var t=Vt.length;return Vt.push(e),t})(qe(d,f))},_emval_get_module_property:e=>(e=Gt(e),At.toHandle(o[e])),_emval_get_property:(e,t)=>(e=At.toValue(e),t=At.toValue(t),At.toHandle(e[t])),_emval_incref:e=>{e>9&&(xt[e+1]+=1)},_emval_is_number:e=>"number"==typeof(e=At.toValue(e)),_emval_new_cstring:e=>At.toHandle(Gt(e)),_emval_run_destructors:e=>{var t=At.toValue(e);gt(t),kt(e)},_emval_set_property:(e,t,r)=>{e=At.toValue(e),t=At.toValue(t),r=At.toValue(r),e[t]=r},_emval_take_value:(e,t)=>{var r=(e=It(e,"_emval_take_value")).readValueFromPointer(t);return At.toHandle(r)},_gmtime_js:function(e,t){e=Se(e);var r=new Date(1e3*e);S[t>>2]=r.getUTCSeconds(),S[t+4>>2]=r.getUTCMinutes(),S[t+8>>2]=r.getUTCHours(),S[t+12>>2]=r.getUTCDate(),S[t+16>>2]=r.getUTCMonth(),S[t+20>>2]=r.getUTCFullYear()-1900,S[t+24>>2]=r.getUTCDay();var n=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),o=(r.getTime()-n)/864e5|0;S[t+28>>2]=o},_localtime_js:function(e,t){e=Se(e);var r=new Date(1e3*e);S[t>>2]=r.getSeconds(),S[t+4>>2]=r.getMinutes(),S[t+8>>2]=r.getHours(),S[t+12>>2]=r.getDate(),S[t+16>>2]=r.getMonth(),S[t+20>>2]=r.getFullYear()-1900,S[t+24>>2]=r.getDay();var n=0|Yt(r);S[t+28>>2]=n,S[t+36>>2]=-60*r.getTimezoneOffset();var o=new Date(r.getFullYear(),0,1),i=new Date(r.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=0|(i!=a&&r.getTimezoneOffset()==Math.min(a,i));S[t+32>>2]=s},_mktime_js:function(e){var t=(()=>{var t=new Date(S[e+20>>2]+1900,S[e+16>>2],S[e+12>>2],S[e+8>>2],S[e+4>>2],S[e>>2],0),r=S[e+32>>2],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),s=Math.min(a,i);if(r<0)S[e+32>>2]=+(i!=a&&s==n);else if(r>0!=(s==n)){var l=Math.max(a,i),u=r>0?s:l;t.setTime(t.getTime()+6e4*(u-n))}S[e+24>>2]=t.getDay();var c=0|Yt(t);S[e+28>>2]=c,S[e>>2]=t.getSeconds(),S[e+4>>2]=t.getMinutes(),S[e+8>>2]=t.getHours(),S[e+12>>2]=t.getDate(),S[e+16>>2]=t.getMonth(),S[e+20>>2]=t.getYear();var f=t.getTime();return isNaN(f)?-1:f/1e3})();return BigInt(t)},_mmap_js:function(e,t,r,n,o,i,a){o=Se(o);try{if(isNaN(o))return 61;var s=_e.getStreamFromFD(n),l=ye.mmap(s,e,o,t,r),u=l.ptr;return S[i>>2]=l.allocated,T[a>>2]=u,0}catch(c){if(typeof ye>"u"||"ErrnoError"!==c.name)throw c;return-c.errno}},_munmap_js:function(e,t,r,n,o,i){i=Se(i);try{var a=_e.getStreamFromFD(o);2&r&&_e.doMsync(e,a,t,n,i)}catch(s){if(typeof ye>"u"||"ErrnoError"!==s.name)throw s;return-s.errno}},_tzset_js:(e,t,r,n)=>{var o=(new Date).getFullYear(),i=new Date(o,0,1),a=new Date(o,6,1),s=i.getTimezoneOffset(),l=a.getTimezoneOffset(),u=Math.max(s,l);T[e>>2]=60*u,S[t>>2]=+(s!=l);var c=e=>{var t=e>=0?"-":"+",r=Math.abs(e),n=String(Math.floor(r/60)).padStart(2,"0"),o=String(r%60).padStart(2,"0");return"UTC".concat(t).concat(n).concat(o)},f=c(s),d=c(l);l<s?(Te(f,r,17),Te(d,n,17)):(Te(f,n,17),Te(d,r,17))},alBufferData:(e,t,r,n,o)=>{if($t.currentCtx){var i=$t.buffers[e];if(!i)return void($t.currentCtx.err=40963);if(o<=0)return void($t.currentCtx.err=40963);var a=null;try{switch(t){case 4352:if(n>0)for(var s=(a=$t.currentCtx.audioCtx.createBuffer(1,n,o)).getChannelData(0),l=0;l<n;++l)s[l]=.0078125*_[r++]-1;i.bytesPerSample=1,i.channels=1,i.length=n;break;case 4353:if(n>0){s=(a=$t.currentCtx.audioCtx.createBuffer(1,n>>1,o)).getChannelData(0);r>>=1;for(l=0;l<n>>1;++l)s[l]=30517578125e-15*w[r++]}i.bytesPerSample=2,i.channels=1,i.length=n>>1;break;case 4354:if(n>0){s=(a=$t.currentCtx.audioCtx.createBuffer(2,n>>1,o)).getChannelData(0);var u=a.getChannelData(1);for(l=0;l<n>>1;++l)s[l]=.0078125*_[r++]-1,u[l]=.0078125*_[r++]-1}i.bytesPerSample=1,i.channels=2,i.length=n>>1;break;case 4355:if(n>0){s=(a=$t.currentCtx.audioCtx.createBuffer(2,n>>2,o)).getChannelData(0),u=a.getChannelData(1);r>>=1;for(l=0;l<n>>2;++l)s[l]=30517578125e-15*w[r++],u[l]=30517578125e-15*w[r++]}i.bytesPerSample=2,i.channels=2,i.length=n>>2;break;case 65552:if(n>0){s=(a=$t.currentCtx.audioCtx.createBuffer(1,n>>2,o)).getChannelData(0);r>>=2;for(l=0;l<n>>2;++l)s[l]=x[r++]}i.bytesPerSample=4,i.channels=1,i.length=n>>2;break;case 65553:if(n>0){s=(a=$t.currentCtx.audioCtx.createBuffer(2,n>>3,o)).getChannelData(0),u=a.getChannelData(1);r>>=2;for(l=0;l<n>>3;++l)s[l]=x[r++],u[l]=x[r++]}i.bytesPerSample=4,i.channels=2,i.length=n>>3;break;default:return void($t.currentCtx.err=40963)}i.frequency=o,i.audioBuf=a}catch{return void($t.currentCtx.err=40963)}}},alDeleteBuffers:(e,t)=>{if($t.currentCtx){for(var r=0;r<e;++r){if(0!==(n=S[t+4*r>>2])){if(!$t.buffers[n])return void($t.currentCtx.err=40961);if($t.buffers[n].refCount)return void($t.currentCtx.err=40964)}}for(r=0;r<e;++r){var n;0!==(n=S[t+4*r>>2])&&($t.deviceRefCounts[$t.buffers[n].deviceId]--,delete $t.buffers[n],$t.freeIds.push(n))}}},alDeleteSources:(e,t)=>{if($t.currentCtx){for(var r=0;r<e;++r){var n=S[t+4*r>>2];if(!$t.currentCtx.sources[n])return void($t.currentCtx.err=40961)}for(r=0;r<e;++r){n=S[t+4*r>>2];$t.setSourceState($t.currentCtx.sources[n],4116),Jt(n,4105,0),delete $t.currentCtx.sources[n],$t.freeIds.push(n)}}},alGenBuffers:(e,t)=>{if($t.currentCtx)for(var r=0;r<e;++r){var n={deviceId:$t.currentCtx.deviceId,id:$t.newId(),refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0};$t.deviceRefCounts[n.deviceId]++,$t.buffers[n.id]=n,S[t+4*r>>2]=n.id}},alGenSources:(e,t)=>{if($t.currentCtx)for(var r=0;r<e;++r){var n=$t.currentCtx.audioCtx.createGain();n.connect($t.currentCtx.gain);var o={context:$t.currentCtx,id:$t.newId(),type:4144,state:4113,bufQueue:[$t.buffers[0]],audioQueue:[],looping:!1,pitch:1,dopplerShift:1,gain:n,minGain:0,maxGain:1,panner:null,bufsProcessed:0,bufStartTime:Number.NEGATIVE_INFINITY,bufOffset:0,relative:!1,refDistance:1,maxDistance:340282e33,rolloffFactor:1,position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],coneOuterGain:0,coneInnerAngle:360,coneOuterAngle:360,distanceModel:53250,spatialize:2,get playbackRate(){return this.pitch*this.dopplerShift}};$t.currentCtx.sources[o.id]=o,S[t+4*r>>2]=o.id}},alGetError:()=>{if(!$t.currentCtx)return 40964;var e=$t.currentCtx.err;return $t.currentCtx.err=0,e},alGetSourcei:(e,t,r)=>{var n=$t.getSourceParam("alGetSourcei",e,t);if(null!==n){if(!r)return void($t.currentCtx.err=40963);switch(t){case 514:case 4097:case 4098:case 4103:case 4105:case 4112:case 4117:case 4118:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4135:case 4628:case 8201:case 8202:case 53248:S[r>>2]=n;break;default:return void($t.currentCtx.err=40962)}}},alGetString:e=>{if($t.stringCache[e])return $t.stringCache[e];var t;switch(e){case 0:t="No Error";break;case 40961:t="Invalid Name";break;case 40962:t="Invalid Enum";break;case 40963:t="Invalid Value";break;case 40964:t="Invalid Operation";break;case 40965:t="Out of Memory";break;case 45057:t="Emscripten";break;case 45058:t="1.1";break;case 45059:t="WebAudio";break;case 45060:t=Object.keys($t.AL_EXTENSIONS).join(" ");break;default:return $t.currentCtx&&($t.currentCtx.err=40962),0}return t=qt(t),$t.stringCache[e]=t,t},alSourcePause:e=>{if($t.currentCtx){var t=$t.currentCtx.sources[e];if(!t)return void($t.currentCtx.err=40961);$t.setSourceState(t,4115)}},alSourcePlay:e=>{if($t.currentCtx){var t=$t.currentCtx.sources[e];if(!t)return void($t.currentCtx.err=40961);$t.setSourceState(t,4114)}},alSourceStop:e=>{if($t.currentCtx){var t=$t.currentCtx.sources[e];if(!t)return void($t.currentCtx.err=40961);$t.setSourceState(t,4116)}},alSourcef:(e,t,r)=>{switch(t){case 4097:case 4098:case 4099:case 4106:case 4109:case 4110:case 4128:case 4129:case 4130:case 4131:case 4132:case 4133:case 4134:case 8203:$t.setSourceParam("alSourcef",e,t,r);break;default:$t.setSourceParam("alSourcef",e,t,null)}},alSourcei:Jt,alcCloseDevice:e=>!(e in $t.deviceRefCounts)||$t.deviceRefCounts[e]>0?0:(delete $t.deviceRefCounts[e],$t.freeIds.push(e),1),alcCreateContext:(e,t)=>{if(!(e in $t.deviceRefCounts))return $t.alcErr=40961,0;var r=null,n=[],o=null;if(t>>=2)for(var i=0,a=0;i=S[t++],n.push(i),0!==i;)switch(a=S[t++],n.push(a),i){case 4103:r||(r={}),r.sampleRate=a;break;case 4112:case 4113:break;case 6546:switch(a){case 0:o=!1;break;case 1:o=!0;break;case 2:break;default:return $t.alcErr=40964,0}break;case 6550:if(0!==a)return $t.alcErr=40964,0;break;default:return $t.alcErr=40964,0}var s=window.AudioContext||window.webkitAudioContext,l=null;try{l=r?new s(r):new s}catch(h){return"NotSupportedError"===h.name?$t.alcErr=40964:$t.alcErr=40961,0}er(l),typeof l.createGain>"u"&&(l.createGain=l.createGainNode);var u=l.createGain();u.connect(l.destination);var c={deviceId:e,id:$t.newId(),attrs:n,audioCtx:l,listener:{position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],up:[0,0,0]},sources:[],interval:setInterval((()=>$t.scheduleContextAudio(c)),$t.QUEUE_INTERVAL),gain:u,distanceModel:53250,speedOfSound:343.3,dopplerFactor:1,sourceDistanceModel:!1,hrtf:o||!1,_err:0,get err(){return this._err},set err(e){(0===this._err||0===e)&&(this._err=e)}};if($t.deviceRefCounts[e]++,$t.contexts[c.id]=c,null!==o)for(var f in $t.contexts){var d=$t.contexts[f];d.deviceId===e&&(d.hrtf=o,$t.updateContextGlobal(d))}return c.id},alcDestroyContext:e=>{var t=$t.contexts[e];$t.currentCtx!==t?($t.contexts[e].interval&&clearInterval($t.contexts[e].interval),$t.deviceRefCounts[t.deviceId]--,delete $t.contexts[e],$t.freeIds.push(e)):$t.alcErr=40962},alcGetError:e=>{var t=$t.alcErr;return $t.alcErr=0,t},alcGetString:(e,t)=>{if($t.alcStringCache[t])return $t.alcStringCache[t];var r;switch(t){case 0:r="No Error";break;case 40961:r="Invalid Device";break;case 40962:r="Invalid Context";break;case 40963:r="Invalid Enum";break;case 40964:r="Invalid Value";break;case 40965:r="Out of Memory";break;case 4100:if(!(typeof AudioContext<"u"||typeof webkitAudioContext<"u"))return 0;r=$t.DEVICE_NAME;break;case 4101:r=typeof AudioContext<"u"||typeof webkitAudioContext<"u"?$t.DEVICE_NAME+"\0":"\0";break;case 785:r=$t.CAPTURE_DEVICE_NAME;break;case 784:if(0===e)r=$t.CAPTURE_DEVICE_NAME+"\0";else{var n=$t.requireValidCaptureDevice(e,"alcGetString");if(!n)return 0;r=n.deviceName}break;case 4102:if(!e)return $t.alcErr=40961,0;r=Object.keys($t.ALC_EXTENSIONS).join(" ");break;default:return $t.alcErr=40963,0}return r=qt(r),$t.alcStringCache[t]=r,r},alcMakeContextCurrent:e=>($t.currentCtx=0===e?null:$t.contexts[e],1),alcOpenDevice:e=>{if(e&&ve(e)!==$t.DEVICE_NAME)return 0;if(typeof AudioContext<"u"||typeof webkitAudioContext<"u"){var t=$t.newId();return $t.deviceRefCounts[t]=0,t}return 0},bnb_get_random_value:function(){return o.getRandomValue()},bnb_randombytes_init_if_needed:function(){if(void 0===o.getRandomValue)try{var e="object"==typeof window?window:self,t=typeof e.crypto<"u"?e.crypto:e.msCrypto,r=function(){var e=new Uint32Array(1);return t.getRandomValues(e),e[0]>>>0};r(),o.getRandomValue=r}catch{try{var n=require("crypto"),i=function(){var e=n.randomBytes(4);return(e[0]<<24|e[1]<<16|e[2]<<8|e[3])>>>0};i(),o.getRandomValue=i}catch{throw"No secure random number generator found"}}},clock_time_get:function(e,t,r){if(!(e=>e>=0&&e<=3)(e))return 28;var n;n=0===e?tr():Zt();var o=Math.round(1e3*n*1e3);return k[r>>3]=BigInt(o),0},create_video:function(e,t){const r=ve(e),n=ye.readFile(r),i=document.createElement("video"),a=URL.createObjectURL(new Blob([n],{type:"video/mp4"})),s=o.proxyVideoRequestsTo;i.muted=!0,i.autoplay=!1,i.controls=!1,i.playsInline=!0,i.src=s?s+encodeURIComponent(a):a;var l=At.toValue(t);return i.onloadedmetadata=e=>{l(e)},At.toHandle(i)},delete_video:function(e){const t=At.toValue(e);URL.revokeObjectURL(t.src),t.src=""},emscripten_date_now:tr,emscripten_fetch_free:function(e){if(or.xhrs.has(e)){var t=or.xhrs.get(e);or.xhrs.free(e),t.readyState>0&&t.readyState<4&&t.abort()}},emscripten_get_heap_max:()=>2147483648,emscripten_get_now:Zt,emscripten_is_main_browser_thread:()=>!0,emscripten_resize_heap:e=>{var t=_.length,r=2147483648;if((e>>>=0)>r)return!1;for(var n=1;n<=4;n*=2){var o=t*(1+.2/n);o=Math.min(o,e+100663296);var i=Math.min(r,de(Math.max(e,o),65536));if(rr(i))return!0}return!1},emscripten_start_fetch:function(e,t,r,n,o){var i=e+108,a=T[i+36>>2],s=T[i+40>>2],l=T[i+44>>2],u=T[i+48>>2],c=T[i+52>>2],f=!!(64&c);function d(e){f?e():H(e)}var h=(e,r,n)=>{d((()=>{a?ht(a)(e):null===t||void 0===t||t(e)}))},p=(e,t,r)=>{d((()=>{l?ht(l)(e):null===n||void 0===n||n(e)}))},b=(e,t,n)=>{d((()=>{s?ht(s)(e):null===r||void 0===r||r(e)}))},m=(e,t,r)=>{d((()=>{u?ht(u)(e):null===o||void 0===o||o(e)}))},g=(e,r,n)=>{sr(or.dbInstance,e,r.response,((e,r,n)=>{d((()=>{a?ht(a)(e):null===t||void 0===t||t(e)}))}),((e,r,n)=>{d((()=>{a?ht(a)(e):null===t||void 0===t||t(e)}))}))},y=ve(i+0),v=!!(16&c),E=!!(4&c),S=!!(32&c);if("EM_IDB_STORE"===y){var x=T[i+84>>2],k=T[i+88>>2];sr(or.dbInstance,e,_.slice(x,x+k),h,b)}else if("EM_IDB_DELETE"===y)!function(e,t,r,n){if(e){var o=T[t+108+64>>2];o||(o=T[t+8>>2]);var i=ve(o);try{var a=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(i);a.onsuccess=e=>{var n=e.target.result;T[t+12>>2]=0,ar(t+16,0),ar(t+24,0),ar(t+32,0),w[t+40>>1]=4,w[t+42>>1]=200,Te("OK",t+44,64),r(t,0,n)},a.onerror=e=>{w[t+40>>1]=4,w[t+42>>1]=404,Te("Not Found",t+44,64),n(t,0,e)}}catch(c){n(t,0,c)}}else n(t,0,"IndexedDB not available!")}(or.dbInstance,e,h,b);else if(v){if(S)return 0;ir(e,E?g:h,b,p,m)}else!function(e,t,r,n){if(e){var o=T[t+108+64>>2];o||(o=T[t+8>>2]);var i=ve(o);try{var a=e.transaction(["FILES"],"readonly").objectStore("FILES").get(i);a.onsuccess=e=>{if(e.target.result){var o=e.target.result,i=o.byteLength||o.length,a=Ir(i);_.set(new Uint8Array(o),a),T[t+12>>2]=a,ar(t+16,i),ar(t+24,0),ar(t+32,i),w[t+40>>1]=4,w[t+42>>1]=200,Te("OK",t+44,64),r(t,0,o)}else w[t+40>>1]=4,w[t+42>>1]=404,Te("Not Found",t+44,64),n(t,0,"no data")},a.onerror=e=>{w[t+40>>1]=4,w[t+42>>1]=404,Te("Not Found",t+44,64),n(t,0,e)}}catch(c){n(t,0,c)}}else n(t,0,"IndexedDB not available!")}(or.dbInstance,e,h,S?b:E?(e,t,r)=>{ir(e,g,b,p,m)}:(e,t,r)=>{ir(e,h,b,p,m)});return e},environ_get:(e,t)=>{var r=0;return ur().forEach(((n,o)=>{var i=t+r;T[e+4*o>>2]=i,((e,t)=>{for(var r=0;r<e.length;++r)v[t++]=e.charCodeAt(r);v[t]=0})(n,i),r+=n.length+1})),0},environ_sizes_get:(e,t)=>{var r=ur();T[e>>2]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),T[t>>2]=n,0},exit:X,fd_close:function(e){try{var t=_e.getStreamFromFD(e);return ye.close(t),0}catch(r){if(typeof ye>"u"||"ErrnoError"!==r.name)throw r;return r.errno}},fd_read:function(e,t,r,n){try{var o=((e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=T[t>>2],s=T[t+4>>2];t+=8;var l=ye.read(e,v,a,s,n);if(l<0)return-1;if(o+=l,l<s)break;typeof n<"u"&&(n+=l)}return o})(_e.getStreamFromFD(e),t,r);return T[n>>2]=o,0}catch(i){if(typeof ye>"u"||"ErrnoError"!==i.name)throw i;return i.errno}},fd_seek:function(e,t,r,n){t=Se(t);try{if(isNaN(t))return 61;var o=_e.getStreamFromFD(e);return ye.llseek(o,t,r),k[n>>3]=BigInt(o.position),o.getdents&&0===t&&0===r&&(o.getdents=null),0}catch(i){if(typeof ye>"u"||"ErrnoError"!==i.name)throw i;return i.errno}},fd_sync:function(e){try{var t,r=_e.getStreamFromFD(e);return null!==(t=r.stream_ops)&&void 0!==t&&t.fsync?r.stream_ops.fsync(r):0}catch(n){if(typeof ye>"u"||"ErrnoError"!==n.name)throw n;return n.errno}},fd_write:function(e,t,r,n){try{var o=((e,t,r,n)=>{for(var o=0,i=0;i<r;i++){var a=T[t>>2],s=T[t+4>>2];t+=8;var l=ye.write(e,v,a,s,n);if(l<0)return-1;if(o+=l,l<s)break;typeof n<"u"&&(n+=l)}return o})(_e.getStreamFromFD(e),t,r);return T[n>>2]=o,0}catch(i){if(typeof ye>"u"||"ErrnoError"!==i.name)throw i;return i.errno}},get_current_hostname:function(){var e=[self.location.href].concat(Array.from("ancestorOrigins"in self.location?self.location.ancestorOrigins:function(){var e=self.top,t=self.parent,r=[];do{try{r.push(t.location.href)}catch{}t&&(t=t.parent)}while(t&&t!==e);return r}())).map((function(e){return new URL(e.replace(/^blob:/,"")).hostname})).find((function(e){return!!e})),t=se(e)+1,r=Ir(t);return Te(e,r,t),r},get_user_id_web:function(){let e=localStorage.getItem("billing_id");if(!e){var t=new Uint8Array(8);window.crypto.getRandomValues(t),e=Array.from(t,(function(e){return e.toString(16).padStart(2,"0")})).join(""),localStorage.setItem("billing_id",e)}return qt(e)},getaddrinfo:(e,t,r,n)=>{var o,i=0,a=0,s=0,l=0,u=0,c=0;function f(e,t,r,n,o,i){var a,s,l,u;return s=10===e?28:16,o=10===e?(e=>{var t="",r=0,n=0,o=0,i=0,a=0,s=0,l=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],u=!0,c="";for(s=0;s<5;s++)if(0!==l[s]){u=!1;break}if(u){if(c=br(l[6]|l[7]<<16),-1===l[5])return(t="::ffff:")+c;if(0===l[5])return"0.0.0.0"===c&&(c=""),"0.0.0.1"===c&&(c="1"),(t="::")+c}for(r=0;r<8;r++)0===l[r]&&(r-o>1&&(a=0),o=r,a++),a>n&&(i=r-(n=a)+1);for(r=0;r<8;r++)n>1&&0===l[r]&&r>=i&&r<i+n?r===i&&(t+=":",0===i&&(t+=":")):(t+=Number(Or(65535&l[r])).toString(16),t+=r<7?":":"");return t})(o):br(o),u=((e,t,r,n,o)=>{switch(t){case 2:r=fr(r),fe(e,16),o&&(S[o>>2]=16),w[e>>1]=t,S[e+4>>2]=r,w[e+2>>1]=Mr(n);break;case 10:r=hr(r),fe(e,28),o&&(S[o>>2]=28),S[e>>2]=t,S[e+8>>2]=r[0],S[e+12>>2]=r[1],S[e+16>>2]=r[2],S[e+20>>2]=r[3],w[e+2>>1]=Mr(n);break;default:return 5}return 0})(a=Ir(s),e,o,i),y(!u),l=Ir(32),S[l+4>>2]=e,S[l+8>>2]=t,S[l+12>>2]=r,T[l+24>>2]=n,T[l+20>>2]=a,S[l+16>>2]=10===e?28:16,S[l+28>>2]=0,l}if(r&&(s=S[r>>2],l=S[r+4>>2],u=S[r+8>>2],c=S[r+12>>2]),u&&!c&&(c=2===u?17:6),!u&&c&&(u=17===c?2:1),0===c&&(c=6),0===u&&(u=1),!e&&!t)return-2;if(-1088&s||0!==r&&2&S[r>>2]&&!e)return-1;if(32&s)return-2;if(0!==u&&1!==u&&2!==u)return-7;if(0!==l&&2!==l&&10!==l)return-6;if(t&&(t=ve(t),a=parseInt(t,10),isNaN(a)))return 1024&s?-2:-8;if(!e)return 0===l&&(l=2),1&s||(i=2===l?Lr(2130706433):[0,0,0,Lr(1)]),o=f(l,u,c,null,i,a),T[n>>2]=o,0;if(e=ve(e),null!==(i=fr(e)))if(0===l||2===l)l=2;else{if(!(10===l&&8&s))return-2;i=[0,0,Lr(65535),i],l=10}else if(null!==(i=hr(e))){if(0!==l&&10!==l)return-2;l=10}return null!=i?(o=f(l,u,c,e,i,a),T[n>>2]=o,0):4&s?-2:(e=pr.lookup_name(e),i=fr(e),0===l?l=2:10===l&&(i=[0,0,Lr(65535),i]),o=f(l,u,c,null,i,a),T[n>>2]=o,0)},glActiveTexture:e=>cr.activeTexture(e),glAttachShader:(e,t)=>{cr.attachShader(mr.programs[e],mr.shaders[t])},glBindBuffer:(e,t)=>{35051==e?cr.currentPixelPackBufferBinding=t:35052==e&&(cr.currentPixelUnpackBufferBinding=t),cr.bindBuffer(e,mr.buffers[t])},glBindBufferRange:(e,t,r,n,o)=>{cr.bindBufferRange(e,t,mr.buffers[r],n,o)},glBindFramebuffer:(e,t)=>{cr.bindFramebuffer(e,mr.framebuffers[t])},glBindRenderbuffer:(e,t)=>{cr.bindRenderbuffer(e,mr.renderbuffers[t])},glBindTexture:(e,t)=>{cr.bindTexture(e,mr.textures[t])},glBindVertexArray:e=>{cr.bindVertexArray(mr.vaos[e])},glBlendEquation:e=>cr.blendEquation(e),glBlendFunc:(e,t)=>cr.blendFunc(e,t),glBlendFuncSeparate:(e,t,r,n)=>cr.blendFuncSeparate(e,t,r,n),glBlitFramebuffer:(e,t,r,n,o,i,a,s,l,u)=>cr.blitFramebuffer(e,t,r,n,o,i,a,s,l,u),glBufferData:(e,t,r,n)=>{mr.currentContext.version>=2?r&&t?cr.bufferData(e,_,n,r,t):cr.bufferData(e,t,n):cr.bufferData(e,r?_.subarray(r,r+t):t,n)},glBufferSubData:(e,t,r,n)=>{mr.currentContext.version>=2?r&&cr.bufferSubData(e,t,_,n,r):cr.bufferSubData(e,t,_.subarray(n,n+r))},glClearBufferfv:(e,t,r)=>{cr.clearBufferfv(e,t,x,r>>2)},glColorMask:(e,t,r,n)=>{cr.colorMask(!!e,!!t,!!r,!!n)},glCompileShader:e=>{cr.compileShader(mr.shaders[e])},glCompressedTexImage2D:(e,t,r,n,o,i,a,s)=>{if(mr.currentContext.version>=2)return cr.currentPixelUnpackBufferBinding||!a?void cr.compressedTexImage2D(e,t,r,n,o,i,a,s):void cr.compressedTexImage2D(e,t,r,n,o,i,_,s,a);cr.compressedTexImage2D(e,t,r,n,o,i,_.subarray(s,s+a))},glCompressedTexImage3D:(e,t,r,n,o,i,a,s,l)=>{cr.currentPixelUnpackBufferBinding?cr.compressedTexImage3D(e,t,r,n,o,i,a,s,l):cr.compressedTexImage3D(e,t,r,n,o,i,a,_,l,s)},glCreateProgram:()=>{var e=mr.getNewId(mr.programs),t=cr.createProgram();return t.name=e,t.maxUniformLength=t.maxAttributeLength=t.maxUniformBlockNameLength=0,t.uniformIdCounter=1,mr.programs[e]=t,e},glCreateShader:e=>{var t=mr.getNewId(mr.shaders);return mr.shaders[t]=cr.createShader(e),t},glDeleteBuffers:(e,t)=>{for(var r=0;r<e;r++){var n=S[t+4*r>>2],o=mr.buffers[n];o&&(cr.deleteBuffer(o),o.name=0,mr.buffers[n]=null,n==cr.currentPixelPackBufferBinding&&(cr.currentPixelPackBufferBinding=0),n==cr.currentPixelUnpackBufferBinding&&(cr.currentPixelUnpackBufferBinding=0))}},glDeleteFramebuffers:(e,t)=>{for(var r=0;r<e;++r){var n=S[t+4*r>>2],o=mr.framebuffers[n];o&&(cr.deleteFramebuffer(o),o.name=0,mr.framebuffers[n]=null)}},glDeleteProgram:e=>{if(e){var t=mr.programs[e];if(!t)return void mr.recordError(1281);cr.deleteProgram(t),t.name=0,mr.programs[e]=null}},glDeleteRenderbuffers:(e,t)=>{for(var r=0;r<e;r++){var n=S[t+4*r>>2],o=mr.renderbuffers[n];o&&(cr.deleteRenderbuffer(o),o.name=0,mr.renderbuffers[n]=null)}},glDeleteShader:e=>{if(e){var t=mr.shaders[e];if(!t)return void mr.recordError(1281);cr.deleteShader(t),mr.shaders[e]=null}},glDeleteTextures:(e,t)=>{for(var r=0;r<e;r++){var n=S[t+4*r>>2],o=mr.textures[n];o&&(cr.deleteTexture(o),o.name=0,mr.textures[n]=null)}},glDeleteVertexArrays:(e,t)=>{for(var r=0;r<e;r++){var n=S[t+4*r>>2];cr.deleteVertexArray(mr.vaos[n]),mr.vaos[n]=null}},glDepthFunc:e=>cr.depthFunc(e),glDepthMask:e=>{cr.depthMask(!!e)},glDisable:e=>cr.disable(e),glDrawArrays:(e,t,r)=>{cr.drawArrays(e,t,r)},glDrawArraysInstanced:(e,t,r,n)=>{cr.drawArraysInstanced(e,t,r,n)},glDrawBuffers:(e,t)=>{for(var r=gr[e],n=0;n<e;n++)r[n]=S[t+4*n>>2];cr.drawBuffers(r)},glDrawElements:(e,t,r,n)=>{cr.drawElements(e,t,r,n)},glDrawElementsInstanced:(e,t,r,n,o)=>{cr.drawElementsInstanced(e,t,r,n,o)},glEnable:e=>cr.enable(e),glEnableVertexAttribArray:e=>{cr.enableVertexAttribArray(e)},glFinish:()=>cr.finish(),glFramebufferRenderbuffer:(e,t,r,n)=>{cr.framebufferRenderbuffer(e,t,r,mr.renderbuffers[n])},glFramebufferTexture2D:(e,t,r,n,o)=>{cr.framebufferTexture2D(e,t,r,mr.textures[n],o)},glGenBuffers:(e,t)=>{mr.genObject(e,t,"createBuffer",mr.buffers)},glGenFramebuffers:(e,t)=>{mr.genObject(e,t,"createFramebuffer",mr.framebuffers)},glGenRenderbuffers:(e,t)=>{mr.genObject(e,t,"createRenderbuffer",mr.renderbuffers)},glGenTextures:(e,t)=>{mr.genObject(e,t,"createTexture",mr.textures)},glGenVertexArrays:(e,t)=>{mr.genObject(e,t,"createVertexArray",mr.vaos)},glGenerateMipmap:e=>cr.generateMipmap(e),glGetError:()=>{var e=cr.getError()||mr.lastError;return mr.lastError=0,e},glGetIntegerv:(e,t)=>yr(e,t,0),glGetProgramInfoLog:(e,t,r,n)=>{var o=cr.getProgramInfoLog(mr.programs[e]);null===o&&(o="(unknown error)");var i=t>0&&n?Te(o,n,t):0;r&&(S[r>>2]=i)},glGetProgramiv:(e,t,r)=>{if(r)if(e>=mr.counter)mr.recordError(1281);else if(e=mr.programs[e],35716==t){var n=cr.getProgramInfoLog(e);null===n&&(n="(unknown error)"),S[r>>2]=n.length+1}else if(35719==t){if(!e.maxUniformLength)for(var o=cr.getProgramParameter(e,35718),i=0;i<o;++i)e.maxUniformLength=Math.max(e.maxUniformLength,cr.getActiveUniform(e,i).name.length+1);S[r>>2]=e.maxUniformLength}else if(35722==t){if(!e.maxAttributeLength){var a=cr.getProgramParameter(e,35721);for(i=0;i<a;++i)e.maxAttributeLength=Math.max(e.maxAttributeLength,cr.getActiveAttrib(e,i).name.length+1)}S[r>>2]=e.maxAttributeLength}else if(35381==t){if(!e.maxUniformBlockNameLength){var s=cr.getProgramParameter(e,35382);for(i=0;i<s;++i)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,cr.getActiveUniformBlockName(e,i).length+1)}S[r>>2]=e.maxUniformBlockNameLength}else S[r>>2]=cr.getProgramParameter(e,t);else mr.recordError(1281)},glGetShaderInfoLog:(e,t,r,n)=>{var o=cr.getShaderInfoLog(mr.shaders[e]);null===o&&(o="(unknown error)");var i=t>0&&n?Te(o,n,t):0;r&&(S[r>>2]=i)},glGetShaderiv:(e,t,r)=>{if(r)if(35716==t){var n=cr.getShaderInfoLog(mr.shaders[e]);null===n&&(n="(unknown error)");var o=n?n.length+1:0;S[r>>2]=o}else if(35720==t){var i=cr.getShaderSource(mr.shaders[e]),a=i?i.length+1:0;S[r>>2]=a}else S[r>>2]=cr.getShaderParameter(mr.shaders[e],t);else mr.recordError(1281)},glGetUniformLocation:(e,t)=>{if(t=ve(t),e=mr.programs[e]){(e=>{var t,r,n=e.uniformLocsById,o=e.uniformSizeAndIdsByName;if(!n){e.uniformLocsById=n={},e.uniformArrayNamesById={};var i=cr.getProgramParameter(e,35718);for(t=0;t<i;++t){var a=cr.getActiveUniform(e,t),s=a.name,l=a.size,u=vr(s),c=u>0?s.slice(0,u):s,f=e.uniformIdCounter;for(e.uniformIdCounter+=l,o[c]=[l,f],r=0;r<l;++r)n[f]=r,e.uniformArrayNamesById[f++]=c}}})(e);var r=e.uniformLocsById,n=0,o=t,i=vr(t);i>0&&(n=dr(t.slice(i+1))>>>0,o=t.slice(0,i));var a=e.uniformSizeAndIdsByName[o];if(a&&n<a[0]&&(r[n+=a[1]]=r[n]||cr.getUniformLocation(e,t)))return n}else mr.recordError(1281);return-1},glInvalidateFramebuffer:(e,t,r)=>{for(var n=gr[t],o=0;o<t;o++)n[o]=S[r+4*o>>2];cr.invalidateFramebuffer(e,n)},glLinkProgram:e=>{e=mr.programs[e],cr.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},glPixelStorei:(e,t)=>{3317==e?mr.unpackAlignment=t:3314==e&&(mr.unpackRowLength=t),cr.pixelStorei(e,t)},glReadPixels:(e,t,r,n,o,i,a)=>{if(mr.currentContext.version>=2){if(cr.currentPixelPackBufferBinding)return void cr.readPixels(e,t,r,n,o,i,a);var s=_r(i),l=wr(a,s);cr.readPixels(e,t,r,n,o,i,s,l)}else{var u=Er(i,o,r,n,a);u?cr.readPixels(e,t,r,n,o,i,u):mr.recordError(1280)}},glRenderbufferStorage:(e,t,r,n)=>cr.renderbufferStorage(e,t,r,n),glRenderbufferStorageMultisample:(e,t,r,n,o)=>cr.renderbufferStorageMultisample(e,t,r,n,o),glShaderSource:(e,t,r,n)=>{var o=mr.getSource(e,t,r,n);cr.shaderSource(mr.shaders[e],o)},glTexImage2D:(e,t,r,n,o,i,a,s,l)=>{if(mr.currentContext.version>=2){if(cr.currentPixelUnpackBufferBinding)return void cr.texImage2D(e,t,r,n,o,i,a,s,l);if(l){var u=_r(s),c=wr(l,u);return void cr.texImage2D(e,t,r,n,o,i,a,s,u,c)}}var f=l?Er(s,a,n,o,l):null;cr.texImage2D(e,t,r,n,o,i,a,s,f)},glTexImage3D:(e,t,r,n,o,i,a,s,l,u)=>{if(cr.currentPixelUnpackBufferBinding)cr.texImage3D(e,t,r,n,o,i,a,s,l,u);else if(u){var c=_r(l);cr.texImage3D(e,t,r,n,o,i,a,s,l,c,wr(u,c))}else cr.texImage3D(e,t,r,n,o,i,a,s,l,null)},glTexParameteri:(e,t,r)=>cr.texParameteri(e,t,r),glTexStorage2D:(e,t,r,n,o)=>cr.texStorage2D(e,t,r,n,o),glTexSubImage2D:(e,t,r,n,o,i,a,s,l)=>{if(mr.currentContext.version>=2){if(cr.currentPixelUnpackBufferBinding)return void cr.texSubImage2D(e,t,r,n,o,i,a,s,l);if(l){var u=_r(s);return void cr.texSubImage2D(e,t,r,n,o,i,a,s,u,wr(l,u))}}var c=l?Er(s,a,o,i,l):null;cr.texSubImage2D(e,t,r,n,o,i,a,s,c)},glTexSubImage3D:(e,t,r,n,o,i,a,s,l,u,c)=>{if(cr.currentPixelUnpackBufferBinding)cr.texSubImage3D(e,t,r,n,o,i,a,s,l,u,c);else if(c){var f=_r(u);cr.texSubImage3D(e,t,r,n,o,i,a,s,l,u,f,wr(c,f))}else cr.texSubImage3D(e,t,r,n,o,i,a,s,l,u,null)},glUniform1i:(e,t)=>{cr.uniform1i(Sr(e),t)},glUniform1ui:(e,t)=>{cr.uniform1ui(Sr(e),t)},glUseProgram:e=>{e=mr.programs[e],cr.useProgram(e),cr.currentProgram=e},glVertexAttribIPointer:(e,t,r,n,o)=>{cr.vertexAttribIPointer(e,t,r,n,o)},glVertexAttribPointer:(e,t,r,n,o,i)=>{cr.vertexAttribPointer(e,t,r,!!n,o,i)},glViewport:(e,t,r,n)=>cr.viewport(e,t,r,n),hardware_concurrency:function(){var e=1;try{e=self.navigator.hardwareConcurrency}catch{}return e},is_electron:function(){return/electron/i.test(navigator.userAgent)},random_get:function(e,t){try{return re(_.subarray(e,e+t)),0}catch(r){if(typeof ye>"u"||"ErrnoError"!==r.name)throw r;return r.errno}}},Pr=await async function(){var e;function t(e,t){return Pr=e.exports,p=Pr.memory,C(),ut=Pr.__indirect_function_table,function(e){F.unshift(e)}(Pr.__wasm_call_ctors),B(),Pr}N();var r,i={env:Ar,wasi_snapshot_preview1:Ar};if(o.instantiateWasm)try{return o.instantiateWasm(i,t)}catch(r){h("Module.instantiateWasm callback failed with error: ".concat(r)),n(r)}null!==(e=M)&&void 0!==e||(M=j());try{var a=await V(m,M,i);return t((r=a).instance)}catch(r){return n(r),Promise.reject(r)}}(),Cr=Pr.__getTypeName,Ir=o._malloc=Pr.malloc,Fr=o._free=Pr.free,Lr=Pr.htonl,Mr=Pr.htons,Dr=Pr.emscripten_builtin_memalign,Or=Pr.ntohs;if(o.addRunDependency=N,o.removeRunDependency=B,o.stringToNewUTF8=qt,o.FS_createPreloadedFile=me,o.FS_unlink=e=>ye.unlink(e),o.FS_createPath=Tr,o.FS_createDevice=kr,o.FS=ye,o.FS_createDataFile=be,o.FS_createLazyFile=xr,o.GL=mr,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return function e(){function t(){var e;o.calledRun=!0,!g&&(!o.noFSInit&&!ye.initialized&&ye.init(),ye.ignorePermissions=!1,J(F),r(o),null!==(e=o.onRuntimeInitialized)&&void 0!==e&&e.call(o),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),L.unshift(e);var e;J(L)}())}D>0?O=e:(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),I.unshift(e);var e;J(I)}(),D>0?O=e:o.setStatus?(o.setStatus("Running..."),setTimeout((()=>{setTimeout((()=>o.setStatus("")),1),t()}),1)):t())}(),er=function(){},a}})(),we=()=>{const e=document.createElement("canvas");return e.style.maxWidth="100%",e.style.objectFit="cover",e},Ee=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Se=(()=>{try{return new URL(".",self.location).toString()}catch{return""}})(),Te=async(e,t)=>(typeof e>"u"&&(e=Se),"string"==typeof e&&(e=(e=>(""!==e&&!e.endsWith("/")&&(e+="/"),t=>e+t))(e)),"object"==typeof e&&(e=(e=>t=>e[t])(e)),e=await async function(e){var t,r,n,o;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!await Ee())return null!==(r=i.info)&&void 0!==r&&r.call(i,'The platform does not support SIMD. Using "BanubaSDK.wasm"'),e;null===(t=i.info)||void 0===t||t.call(i,'The platform supports SIMD. Going to use "BanubaSDK.simd.wasm"');const a=e("BanubaSDK.simd.wasm");return a?await fetch(a,{method:"HEAD"}).then((e=>e.ok))?t=>{const[r,n]=t.split(".");if("wasm"!==n)return e(t);const o=[r,"simd",n].join(".");return e(o)}:(null!==(n=i.warn)&&void 0!==n&&n.call(i,'Unable to fetch "BanubaSDK.simd.wasm" from the "'.concat(a,'". Using "BanubaSDK.wasm" as a fallback')),e):(null!==(o=i.warn)&&void 0!==o&&o.call(i,'"BanubaSDK.simd.wasm" is missing in the "locateFile" option. Using "BanubaSDK.wasm" as a fallback'),e)}(e,t),e);var xe=(e=>(e.ERROR="error",e.WARNING="warn",e.INFO="info",e.DEBUG="debug",e))(xe||{});const ke=["isAliasOf","clone","delete","isDeleted","deleteLater"],Re=["size","get","set","push_back"],Ae=e=>{if(null==e||"function"!=typeof e)return!1;const{prototype:t}=e;return!!t&&ke.every((e=>e in t))},Pe=e=>null!=e&&"object"==typeof e&&Ae(e.constructor),Ce=e=>Pe(e)&&Re.every((t=>t in e)),Ie=(e,t)=>new Proxy(e,{apply(e,r,n){try{const o=e.apply(r,n);return Pe(o)?((e,t)=>new Proxy(e,{get(e,r){const n=e[r];return"function"==typeof n?Ie(n,t):n}}))(o,t):o}catch(o){throw"number"==typeof o&&(o=new Error(t(o))),o}}}),Fe=(e,t)=>new Proxy(e,{construct(e,r){try{return new e(...r)}catch(n){throw"number"==typeof n&&(n=new Error(t(n))),n}},get(e,r){const n=e[r];return"function"==typeof n?Ie(n,t):n}});async function Le(e){let{clientToken:t,locateFile:r,canvas:n=we(),logger:o={warn:console.warn,error:console.error},...i}=e;const a=await Te(r,o),{logLevel:s,print:l,printErr:u}=function(e){var t;const r=t=>{for(const n in xe)if(t.includes(n)){const r=e[xe[n]];if("function"==typeof r)return void r.call(e,t)}const r=e.debug;"function"==typeof r&&r.call(e,t)};return{logLevel:null!==(t=Object.keys(xe).reverse().find((t=>"function"==typeof e[xe[t]])))&&void 0!==t?t:"ERROR",print:r,printErr:r}}(o),c=await new Promise(((e,t)=>_e({locateFile:a,print:l,printErr:u,onAbort:e=>{e instanceof WebAssembly.CompileError&&t(new Error('Failed to compile "BanubaSDK.wasm": the file "'.concat(a("BanubaSDK.wasm"),'" is invalid. This error is usually caused by misconfigured "locateFile" option, see https://docs.banuba.com/far-sdk/generated/typedoc/types/SDKOptions.html Original Error: ')+e))},...i}).then(e,t)));return((e,t)=>{for(const[r,n]of Object.entries(e))Ae(n)&&Object.defineProperty(e,r,{value:Fe(n,t)})})(c,(e=>c.getExceptionMessage(e))),c.UtilityManager.initialize(new c.VectorString,t),c.UtilityManager.setLogLevel(c.SeverityLevel[s]),c.setCanvasSize=(e,t)=>{Object.assign(n,{width:e,height:t})},c.createContext(n,!0,!0,{alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!0,stencil:!1}),c.canvas=n,Me(c.ctx),c}function Me(e){const t=["EXT_color_buffer_half_float","EXT_color_buffer_float"];for(const r of t)e.getExtension(r)}for(var De=(e=>(e[e.Running=0]="Running",e[e.Idle=1]="Idle",e[e.Paused=2]="Paused",e))(De||{}),Oe={exports:{}},Ne={exports:{}},Be={},Ue={byteLength:function(e){var t=Ke(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=Ke(e),o=n[0],i=n[1],a=new Ve(function(e,t,r){return 3*(t+r)/4-r}(0,o,i)),s=0,l=i>0?o-4:o;for(r=0;r<l;r+=4)t=We[e.charCodeAt(r)]<<18|We[e.charCodeAt(r+1)]<<12|We[e.charCodeAt(r+2)]<<6|We[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===i&&(t=We[e.charCodeAt(r)]<<2|We[e.charCodeAt(r+1)]>>4,a[s++]=255&t),1===i&&(t=We[e.charCodeAt(r)]<<10|We[e.charCodeAt(r+1)]<<4|We[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,r=e.length,n=r%3,o=[],i=16383,a=0,s=r-n;a<s;a+=i)o.push(Ye(e,a,a+i>s?s:a+i));return 1===n?(t=e[r-1],o.push(je[t>>2]+je[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(je[t>>10]+je[t>>4&63]+je[t<<2&63]+"=")),o.join("")}},je=[],We=[],Ve=typeof Uint8Array<"u"?Uint8Array:Array,ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ge=0;Ge<64;++Ge)je[Ge]=ze[Ge],We[ze.charCodeAt(Ge)]=Ge;function Ke(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function Xe(e){return je[e>>18&63]+je[e>>12&63]+je[e>>6&63]+je[63&e]}function Ye(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(Xe(n));return o.join("")}We["-".charCodeAt(0)]=62,We["_".charCodeAt(0)]=63;var He={read:function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,f=r?o-1:0,d=r?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=u}return(h?-1:1)*a*Math.pow(2,i-n)},write:function(e,t,r,n,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*b}};!function(e){const t=Ue,r=He,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|h(e,t);let n=i(r);const o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);const o=function(e){if(a.isBuffer(e)){const t=0|d(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||H(e.length)?i(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(o)return o;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),i(e<0?0:0|d(e))}function c(e){const t=e.length<0?0:0|d(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(o)return n?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,o){let i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let n=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===l)return n*a}else-1!==n&&(i-=i-n),n=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){let r=!0;for(let n=0;n<l;n++)if(u(e,i+n)!==u(t,n)){r=!1;break}if(r)return i}return-1}function y(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let a;for(n>i/2&&(n=i/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(H(n))return a;e[r+a]=n}return a}function v(e,t,r,n){return X(G(t,e.length-r),e,r,n)}function _(e,t,r,n){return X(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return X(K(t),e,r,n)}function E(e,t,r,n){return X(function(e,t){let r,n,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function S(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function T(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128===(192&r)&&(l=(31&t)<<6|63&r,l>127&&(i=l));break;case 3:r=e[o+1],n=e[o+2],128===(192&r)&&128===(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:r=e[o+1],n=e[o+2],s=e[o+3],128===(192&r)&&128===(192&n)&&128===(192&s)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=a}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(Y(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=a.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))o+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!a.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,o){if(Y(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const l=Math.min(i,s),u=this.slice(n,o),c=e.slice(t,r);for(let a=0;a<l;++a)if(u[a]!==c[a]){i=u[a],s=c[a];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":case"latin1":case"binary":return _(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function k(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function R(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function A(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=t;i<r;++i)o+=Z[e[i]];return o}function P(e,t,r){const n=e.slice(t,r);let o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function C(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n,o){j(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function L(e,t,r,n,o){j(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function M(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,n,o,i){return t=+t,n>>>=0,i||M(e,0,n,4),r.write(e,t,n,o,23,4),n+4}function O(e,t,n,o,i){return t=+t,n>>>=0,i||M(e,0,n,8),r.write(e,t,n,o,52,8),n+8}a.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),a.prototype.readBigUInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),a.prototype.readBigInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){I(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){I(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=Q((function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=Q((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let o=0,i=1,a=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let o=r-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=Q((function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=Q((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return O(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return O(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=a.isBuffer(e)?e:a.from(e,n),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};const N={};function B(e,t,r){N[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function U(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function j(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat(8*(i+1)).concat(n):">= -(2".concat(n," ** ").concat(8*(i+1)-1).concat(n,") and < 2 ** ").concat(8*(i+1)-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new N.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){W(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&V(t,e.length-(r+1))}(n,o,i)}function W(e,t){if("number"!=typeof e)throw new N.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){throw Math.floor(e)!==e?(W(e,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new N.ERR_BUFFER_OUT_OF_BOUNDS:new N.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=U(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),n+=" It must be ".concat(t,". Received ").concat(o),n}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function K(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function X(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!==e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function Q(e){return typeof BigInt>"u"?$:e}function $(){throw new Error("BigInt not supported")}}(Be);var Ze={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error:Error,FunctionPrototypeCall(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e.call(t,...n)},FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array:Uint8Array},Qe={exports:{}};!function(e){const t=Be,r=Object.getPrototypeOf((async function(){})).constructor,n=globalThis.Blob||t.Blob,o=typeof n<"u"?function(e){return e instanceof n}:function(e){return!1};class i extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat(typeof e));let t="";for(let r=0;r<e.length;r++)t+="    ".concat(e[r].stack,"\n");super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e((function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e?r(e):t(...o)}))})),debuglog:()=>function(){},format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[o,i]=t;const a=r.shift();return"f"===i?a.toFixed(6):"j"===i?JSON.stringify(a):"s"===i&&"object"==typeof a?"".concat(a.constructor!==Object?a.constructor.name:""," {}").trim():a.toString()}))},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return'"'.concat(e,'"');if(!e.includes("`")&&!e.includes("${"))return"`".concat(e,"`")}return"'".concat(e,"'");case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return"".concat(String(e),"n");case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof r,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:o},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Qe);var $e,Je=Qe.exports,qe={},et={exports:{}};function tt(){if($e)return et.exports;$e=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return et.exports=e,et.exports.AbortSignal=t,et.exports.default=e,et.exports}const{format:rt,inspect:nt,AggregateError:ot}=Je,it=globalThis.AggregateError||ot,at=Symbol("kIsNodeError"),st=["string","function","number","object","Function","Object","boolean","bigint","symbol"],lt=/^([A-Z][a-z0-9]*)+$/,ut={};function ct(e,t){if(!e)throw new ut.ERR_INTERNAL_ASSERTION(t)}function ft(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function dt(e,t,r){r||(r=Error);class n extends r{constructor(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];super(function(e,t,r){if("function"==typeof t)return ct(t.length<=r.length,"Code: ".concat(e,"; The provided arguments length (").concat(r.length,") does not match the required ones (").concat(t.length,").")),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return ct(n===r.length,"Code: ".concat(e,"; The provided arguments length (").concat(r.length,") does not match the required ones (").concat(n,").")),0===r.length?t:rt(t,...r)}(e,t,n))}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[at]=!0,ut[e]=n}function ht(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}let pt=class extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==t&&"object"!=typeof t)throw new ut.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}};dt("ERR_ASSERTION","%s",Error),dt("ERR_INVALID_ARG_TYPE",((e,t,r)=>{ct("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+="".concat(e," "):n+='"'.concat(e,'" ').concat(e.includes(".")?"property":"argument"," "),n+="must be ";const o=[],i=[],a=[];for(const l of t)ct("string"==typeof l,"All expected entries have to be of type string"),st.includes(l)?o.push(l.toLowerCase()):lt.test(l)?i.push(l):(ct("object"!==l,'The value "object" should be written as "Object"'),a.push(l));if(i.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),i.push("Object"))}if(o.length>0){switch(o.length){case 1:n+="of type ".concat(o[0]);break;case 2:n+="one of type ".concat(o[0]," or ").concat(o[1]);break;default:{const e=o.pop();n+="one of type ".concat(o.join(", "),", or ").concat(e)}}(i.length>0||a.length>0)&&(n+=" or ")}if(i.length>0){switch(i.length){case 1:n+="an instance of ".concat(i[0]);break;case 2:n+="an instance of ".concat(i[0]," or ").concat(i[1]);break;default:{const e=i.pop();n+="an instance of ".concat(i.join(", "),", or ").concat(e)}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+="".concat(a[0]);break;case 2:n+="one of ".concat(a[0]," or ").concat(a[1]);break;default:{const e=a.pop();n+="one of ".concat(a.join(", "),", or ").concat(e)}}if(null==r)n+=". Received ".concat(r);else if("function"==typeof r&&r.name)n+=". Received function ".concat(r.name);else if("object"==typeof r){var s;if(null!==(s=r.constructor)&&void 0!==s&&s.name)n+=". Received an instance of ".concat(r.constructor.name);else{const e=nt(r,{depth:-1});n+=". Received ".concat(e)}}else{let e=nt(r,{colors:!1});e.length>25&&(e="".concat(e.slice(0,25),"...")),n+=". Received type ".concat(typeof r," (").concat(e,")")}return n}),TypeError),dt("ERR_INVALID_ARG_VALUE",(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",n=nt(t);return n.length>128&&(n=n.slice(0,128)+"..."),"The ".concat(e.includes(".")?"property":"argument"," '").concat(e,"' ").concat(r,". Received ").concat(n)}),TypeError),dt("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;const o=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?"instance of ".concat(r.constructor.name):"type ".concat(typeof r);return"Expected ".concat(e,' to be returned from the "').concat(t,'" function but got ').concat(o,".")}),TypeError),dt("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n;ct(t.length>0,"At least one arg needs to be specified");const o=t.length;switch(t=(Array.isArray(t)?t:[t]).map((e=>'"'.concat(e,'"'))).join(" or "),o){case 1:n+="The ".concat(t[0]," argument");break;case 2:n+="The ".concat(t[0]," and ").concat(t[1]," arguments");break;default:{const e=t.pop();n+="The ".concat(t.join(", "),", and ").concat(e," arguments")}}return"".concat(n," must be specified")}),TypeError),dt("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;return ct(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?n=ft(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=ft(n)),n+="n"):n=nt(r),'The value of "'.concat(e,'" is out of range. It must be ').concat(t,". Received ").concat(n)}),RangeError),dt("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),dt("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),dt("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),dt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),dt("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),dt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),dt("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),dt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),dt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),dt("ERR_STREAM_WRITE_AFTER_END","write after end",Error),dt("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var bt={AbortError:pt,aggregateTwoErrors:ht((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new it([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:ht,codes:ut};const{ArrayIsArray:mt,ArrayPrototypeIncludes:gt,ArrayPrototypeJoin:yt,ArrayPrototypeMap:vt,NumberIsInteger:_t,NumberIsNaN:wt,NumberMAX_SAFE_INTEGER:Et,NumberMIN_SAFE_INTEGER:St,NumberParseInt:Tt,ObjectPrototypeHasOwnProperty:xt,RegExpPrototypeExec:kt,String:Rt,StringPrototypeToUpperCase:At,StringPrototypeTrim:Pt}=Ze,{hideStackFrames:Ct,codes:{ERR_SOCKET_BAD_PORT:It,ERR_INVALID_ARG_TYPE:Ft,ERR_INVALID_ARG_VALUE:Lt,ERR_OUT_OF_RANGE:Mt,ERR_UNKNOWN_SIGNAL:Dt}}=bt,{normalizeEncoding:Ot}=Je,{isAsyncFunction:Nt,isArrayBufferView:Bt}=Je.types,Ut={};const jt=/^[0-7]+$/;const Wt=Ct((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Et;if("number"!=typeof e)throw new Ft(t,"number",e);if(!_t(e))throw new Mt(t,"an integer",e);if(e<r||e>n)throw new Mt(t,">= ".concat(r," && <= ").concat(n),e)})),Vt=Ct((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!=typeof e)throw new Ft(t,"number",e);if(!_t(e))throw new Mt(t,"an integer",e);if(e<r||e>n)throw new Mt(t,">= ".concat(r," && <= ").concat(n),e)})),zt=Ct((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!=typeof e)throw new Ft(t,"number",e);if(!_t(e))throw new Mt(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new Mt(t,">= ".concat(n," && <= ").concat(o),e)}));function Gt(e,t){if("string"!=typeof e)throw new Ft(t,"string",e)}const Kt=Ct(((e,t,r)=>{if(!gt(r,e)){const n="must be one of: "+yt(vt(r,(e=>"string"==typeof e?"'".concat(e,"'"):Rt(e))),", ");throw new Lt(t,e,n)}}));function Xt(e,t){if("boolean"!=typeof e)throw new Ft(t,"boolean",e)}function Yt(e,t,r){return null!=e&&xt(e,t)?e[t]:r}const Ht=Ct((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=Yt(r,"allowArray",!1),o=Yt(r,"allowFunction",!1);if(!Yt(r,"nullable",!1)&&null===e||!n&&mt(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new Ft(t,"Object",e)})),Zt=Ct(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new Ft(t,"a dictionary",e)})),Qt=Ct((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!mt(e))throw new Ft(t,"Array",e);if(e.length<r){const n="must be longer than ".concat(r);throw new Lt(t,e,n)}}));const $t=Ct((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!Bt(e))throw new Ft(t,["Buffer","TypedArray","DataView"],e)}));const Jt=Ct(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new Ft(t,"AbortSignal",e)})),qt=Ct(((e,t)=>{if("function"!=typeof e)throw new Ft(t,"Function",e)})),er=Ct(((e,t)=>{if("function"!=typeof e||Nt(e))throw new Ft(t,"Function",e)})),tr=Ct(((e,t)=>{if(void 0!==e)throw new Ft(t,"undefined",e)}));const rr=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function nr(e,t){if(typeof e>"u"||!kt(rr,e))throw new Lt(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var or,ir,ar={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(typeof e>"u"&&(e=r),"string"==typeof e){if(null===kt(jt,e))throw new Lt(t,e,"must be a 32-bit unsigned integer or an octal string");e=Tt(e,8)}return zt(e,t),e},validateArray:Qt,validateStringArray:function(e,t){Qt(e,t);for(let r=0;r<e.length;r++)Gt(e[r],"".concat(t,"[").concat(r,"]"))},validateBooleanArray:function(e,t){Qt(e,t);for(let r=0;r<e.length;r++)Xt(e[r],"".concat(t,"[").concat(r,"]"))},validateBoolean:Xt,validateBuffer:$t,validateDictionary:Zt,validateEncoding:function(e,t){const r=Ot(t),n=e.length;if("hex"===r&&n%2!==0)throw new Lt("encoding",t,"is invalid for data of length ".concat(n))},validateFunction:qt,validateInt32:Vt,validateInteger:Wt,validateNumber:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("number"!=typeof e)throw new Ft(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&wt(e))throw new Mt(t,"".concat(null!=r?">= ".concat(r):"").concat(null!=r&&null!=n?" && ":"").concat(null!=n?"<= ".concat(n):""),e)},validateObject:Ht,validateOneOf:Kt,validatePlainFunction:er,validatePort:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===Pt(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new It(t,e,r);return 0|e},validateSignalName:function(e){if(Gt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal"),void 0===Ut[e])throw void 0!==Ut[At(e)]?new Dt(e+" (signals must use all capital letters)"):new Dt(e)},validateString:Gt,validateUint32:zt,validateUndefined:tr,validateUnion:function(e,t,r){if(!gt(r,e))throw new Ft(t,"('".concat(yt(r,"|"),"')"),e)},validateAbortSignal:Jt,validateLinkHeaderValue:function(e){if("string"==typeof e)return nr(e,"hints"),e;if(mt(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const o=e[n];nr(o,"hints"),r+=o,n!==t-1&&(r+=", ")}return r}throw new Lt("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}},sr={exports:{}},lr={exports:{}},ur=lr.exports={};function cr(){throw new Error("setTimeout has not been defined")}function fr(){throw new Error("clearTimeout has not been defined")}function dr(e){if(or===setTimeout)return setTimeout(e,0);if((or===cr||!or)&&setTimeout)return or=setTimeout,setTimeout(e,0);try{return or(e,0)}catch{try{return or.call(null,e,0)}catch{return or.call(this,e,0)}}}!function(){try{or="function"==typeof setTimeout?setTimeout:cr}catch{or=cr}try{ir="function"==typeof clearTimeout?clearTimeout:fr}catch{ir=fr}}();var hr,pr=[],br=!1,mr=-1;function gr(){!br||!hr||(br=!1,hr.length?pr=hr.concat(pr):mr=-1,pr.length&&yr())}function yr(){if(!br){var e=dr(gr);br=!0;for(var t=pr.length;t;){for(hr=pr,pr=[];++mr<t;)hr&&hr[mr].run();mr=-1,t=pr.length}hr=null,br=!1,function(e){if(ir===clearTimeout)return clearTimeout(e);if((ir===fr||!ir)&&clearTimeout)return ir=clearTimeout,clearTimeout(e);try{return ir(e)}catch{try{return ir.call(null,e)}catch{return ir.call(this,e)}}}(e)}}function vr(e,t){this.fun=e,this.array=t}function _r(){}ur.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];pr.push(new vr(e,t)),1===pr.length&&!br&&dr(yr)},vr.prototype.run=function(){this.fun.apply(null,this.array)},ur.title="browser",ur.browser=!0,ur.env={},ur.argv=[],ur.version="",ur.versions={},ur.on=_r,ur.addListener=_r,ur.once=_r,ur.off=_r,ur.removeListener=_r,ur.removeAllListeners=_r,ur.emit=_r,ur.prependListener=_r,ur.prependOnceListener=_r,ur.listeners=function(e){return[]},ur.binding=function(e){throw new Error("process.binding is not supported")},ur.cwd=function(){return"/"},ur.chdir=function(e){throw new Error("process.chdir is not supported")},ur.umask=function(){return 0};var wr=lr.exports;const{Symbol:Er,SymbolAsyncIterator:Sr,SymbolIterator:Tr,SymbolFor:xr}=Ze,kr=Er("kDestroyed"),Rr=Er("kIsErrored"),Ar=Er("kIsReadable"),Pr=Er("kIsDisturbed"),Cr=xr("nodejs.webstream.isClosedPromise"),Ir=xr("nodejs.webstream.controllerErrorFunction");function Fr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function Lr(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function Mr(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function Dr(e){return!(!e||Mr(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function Or(e){return!(!e||Mr(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function Nr(e){return!(!e||Mr(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function Br(e){if(!Mr(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[kr]||null!=n&&n.destroyed)}function Ur(e){if(!Lr(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function jr(e,t){if(!Fr(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null===r||void 0===r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function Wr(e){return e&&null!=e[Ar]?e[Ar]:"boolean"!=typeof(null===e||void 0===e?void 0:e.readable)?null:!Br(e)&&(Fr(e)&&e.readable&&!jr(e))}function Vr(e){return"boolean"!=typeof(null===e||void 0===e?void 0:e.writable)?null:!Br(e)&&(Lr(e)&&e.writable&&!Ur(e))}function zr(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function Gr(e){return"boolean"==typeof e._sent100&&zr(e)}var Kr={kDestroyed:kr,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[Pr])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:Pr,isErrored:function(e){var t,r,n,o,i,a,s,l,u,c;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(o=null!==(i=null!==(a=e[Rr])&&void 0!==a?a:e.readableErrored)&&void 0!==i?i:e.writableErrored)&&void 0!==o?o:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==n?n:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null!==(c=e._writableState)&&void 0!==c&&c.errored))},kIsErrored:Rr,isReadable:Wr,kIsReadable:Ar,kIsClosedPromise:Cr,kControllerErrorFunction:Ir,isClosed:function(e){if(!Mr(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null===t||void 0===t?void 0:t.closed)||"boolean"==typeof(null===r||void 0===r?void 0:r.closed)?(null===t||void 0===t?void 0:t.closed)||(null===r||void 0===r?void 0:r.closed):"boolean"==typeof e._closed&&zr(e)?e._closed:null},isDestroyed:Br,isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return Mr(e)?!!Br(e)||!(!1!==(null===t||void 0===t?void 0:t.readable)&&Wr(e)||!1!==(null===t||void 0===t?void 0:t.writable)&&Vr(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[Sr]:!1===t?"function"==typeof e[Tr]:"function"==typeof e[Sr]||"function"==typeof e[Tr])},isReadableNodeStream:Fr,isReadableStream:Dr,isReadableEnded:function(e){if(!Fr(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:jr,isReadableErrored:function(e){var t,r;return Mr(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:Mr,isWebStream:function(e){return Dr(e)||Or(e)||Nr(e)},isWritable:Vr,isWritableNodeStream:Lr,isWritableStream:Or,isWritableEnded:Ur,isWritableFinished:function(e,t){if(!Lr(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null===r||void 0===r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return Mr(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:Gr,willEmitClose:function(e){if(!Mr(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&Gr(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:Nr};const Xr=wr,{AbortError:Yr,codes:Hr}=bt,{ERR_INVALID_ARG_TYPE:Zr,ERR_STREAM_PREMATURE_CLOSE:Qr}=Hr,{kEmptyObject:$r,once:Jr}=Je,{validateAbortSignal:qr,validateFunction:en,validateObject:tn,validateBoolean:rn}=ar,{Promise:nn,PromisePrototypeThen:on}=Ze,{isClosed:an,isReadable:sn,isReadableNodeStream:ln,isReadableStream:un,isReadableFinished:cn,isReadableErrored:fn,isWritable:dn,isWritableNodeStream:hn,isWritableStream:pn,isWritableFinished:bn,isWritableErrored:mn,isNodeStream:gn,willEmitClose:yn,kIsClosedPromise:vn}=Kr;const _n=()=>{};function wn(e,t,r){var n,o;if(2===arguments.length?(r=t,t=$r):null==t?t=$r:tn(t,"options"),en(r,"callback"),qr(t.signal,"options.signal"),r=Jr(r),un(e)||pn(e))return function(e,t,r){let n=!1,o=_n;if(t.signal)if(o=()=>{n=!0,r.call(e,new Yr(void 0,{cause:t.signal.reason}))},t.signal.aborted)Xr.nextTick(o);else{const n=r;r=Jr((function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.signal.removeEventListener("abort",o),n.apply(e,i)})),t.signal.addEventListener("abort",o)}const i=function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];n||Xr.nextTick((()=>r.apply(e,o)))};return on(e[vn].promise,i,i),_n}(e,t,r);if(!gn(e))throw new Zr("stream",["ReadableStream","WritableStream","Stream"],e);const i=null!==(n=t.readable)&&void 0!==n?n:ln(e),a=null!==(o=t.writable)&&void 0!==o?o:hn(e),s=e._writableState,l=e._readableState,u=()=>{e.writable||d()};let c=yn(e)&&ln(e)===i&&hn(e)===a,f=bn(e,!1);const d=()=>{f=!0,e.destroyed&&(c=!1),(!c||e.readable&&!i)&&(!i||h)&&r.call(e)};let h=cn(e,!1);const p=()=>{h=!0,e.destroyed&&(c=!1),(!c||e.writable&&!a)&&(!a||f)&&r.call(e)},b=t=>{r.call(e,t)};let m=an(e);const g=()=>{m=!0;const t=mn(e)||fn(e);return t&&"boolean"!=typeof t?r.call(e,t):i&&!h&&ln(e,!0)&&!cn(e,!1)?r.call(e,new Qr):!a||f||bn(e,!1)?void r.call(e):r.call(e,new Qr)},y=()=>{m=!0;const t=mn(e)||fn(e);if(t&&"boolean"!=typeof t)return r.call(e,t);r.call(e)},v=()=>{e.req.on("finish",d)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?a&&!s&&(e.on("end",u),e.on("close",u)):(e.on("complete",d),c||e.on("abort",g),e.req?v():e.on("request",v)),!c&&"boolean"==typeof e.aborted&&e.on("aborted",g),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",b),e.on("close",g),m?Xr.nextTick(g):null!=s&&s.errorEmitted||null!=l&&l.errorEmitted?c||Xr.nextTick(y):(!i&&(!c||sn(e))&&(f||!1===dn(e))||!a&&(!c||dn(e))&&(h||!1===sn(e))||l&&e.req&&e.aborted)&&Xr.nextTick(y);const _=()=>{r=_n,e.removeListener("aborted",g),e.removeListener("complete",d),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("end",p),e.removeListener("error",b),e.removeListener("close",g)};if(t.signal&&!m){const n=()=>{const n=r;_(),n.call(e,new Yr(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)Xr.nextTick(n);else{const o=r;r=Jr((function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.signal.removeEventListener("abort",n),o.apply(e,i)})),t.signal.addEventListener("abort",n)}}return _}sr.exports=wn,sr.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=$r),null!==(r=t)&&void 0!==r&&r.cleanup&&(rn(t.cleanup,"cleanup"),n=t.cleanup),new nn(((r,o)=>{const i=wn(e,t,(e=>{n&&i(),e?o(e):r()}))}))};var En=sr.exports;const Sn=wr,{aggregateTwoErrors:Tn,codes:{ERR_MULTIPLE_CALLBACK:xn},AbortError:kn}=bt,{Symbol:Rn}=Ze,{kDestroyed:An,isDestroyed:Pn,isFinished:Cn,isServerRequest:In}=Kr,Fn=Rn("kDestroy"),Ln=Rn("kConstruct");function Mn(e,t,r){e&&(t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function Dn(e,t,r){let n=!1;function o(t){if(n)return;n=!0;const o=e._readableState,i=e._writableState;Mn(t,i,o),i&&(i.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?Sn.nextTick(On,e,t):Sn.nextTick(Nn,e)}try{e._destroy(t||null,o)}catch(i){o(i)}}function On(e,t){Bn(e,t),Nn(e)}function Nn(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function Bn(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function Un(e,t,r){const n=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=n&&n.destroyed)return this;null!=n&&n.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?Sn.nextTick(Bn,e,t):Bn(e,t))}function jn(e){let t=!1;function r(r){if(t)return void Un(e,null!==r&&void 0!==r?r:new xn);t=!0;const n=e._readableState,o=e._writableState,i=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),i.destroyed?e.emit(Fn,r):r?Un(e,r,!0):Sn.nextTick(Wn,e)}try{e._construct((e=>{Sn.nextTick(r,e)}))}catch(n){Sn.nextTick(r,n)}}function Wn(e){e.emit(Ln)}function Vn(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"==typeof e.abort}function zn(e){e.emit("close")}function Gn(e,t){e.emit("error",t),Sn.nextTick(zn,e)}var Kn,Xn={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(Ln,t),!(e.listenerCount(Ln)>1)&&Sn.nextTick(jn,e)},destroyer:function(e,t){!e||Pn(e)||(!t&&!Cn(e)&&(t=new kn),In(e)?(e.socket=null,e.destroy(t)):Vn(e)?e.abort():Vn(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?Sn.nextTick(Gn,e,t):Sn.nextTick(zn,e),e.destroyed||(e[An]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(Mn(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?Dn(this,e,t):this.once(Fn,(function(r){Dn(this,Tn(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:Un},Yn={exports:{}},Hn="object"==typeof Reflect?Reflect:null,Zn=Hn&&"function"==typeof Hn.apply?Hn.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};Kn=Hn&&"function"==typeof Hn.ownKeys?Hn.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Qn=Number.isNaN||function(e){return e!==e};function $n(){$n.init.call(this)}Yn.exports=$n,Yn.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}so(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&so(e,"error",t,r)}(e,o,{once:!0})}))},$n.EventEmitter=$n,$n.prototype._events=void 0,$n.prototype._eventsCount=0,$n.prototype._maxListeners=void 0;var Jn=10;function qn(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function eo(e){return void 0===e._maxListeners?$n.defaultMaxListeners:e._maxListeners}function to(e,t,r,n){var o,i,a;if(qn(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=eo(e))>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function ro(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function no(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=ro.bind(n);return o.listener=r,n.wrapFn=o,o}function oo(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):ao(o,o.length)}function io(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function ao(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function so(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty($n,"defaultMaxListeners",{enumerable:!0,get:function(){return Jn},set:function(e){if("number"!=typeof e||e<0||Qn(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Jn=e}}),$n.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},$n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Qn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},$n.prototype.getMaxListeners=function(){return eo(this)},$n.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)Zn(s,this,t);else{var l=s.length,u=ao(s,l);for(r=0;r<l;++r)Zn(u[r],this,t)}return!0},$n.prototype.addListener=function(e,t){return to(this,e,t,!1)},$n.prototype.on=$n.prototype.addListener,$n.prototype.prependListener=function(e,t){return to(this,e,t,!0)},$n.prototype.once=function(e,t){return qn(t),this.on(e,no(this,e,t)),this},$n.prototype.prependOnceListener=function(e,t){return qn(t),this.prependListener(e,no(this,e,t)),this},$n.prototype.removeListener=function(e,t){var r,n,o,i,a;if(qn(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},$n.prototype.off=$n.prototype.removeListener,$n.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},$n.prototype.listeners=function(e){return oo(this,e,!0)},$n.prototype.rawListeners=function(e){return oo(this,e,!1)},$n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):io.call(e,t)},$n.prototype.listenerCount=io,$n.prototype.eventNames=function(){return this._eventsCount>0?Kn(this._events):[]};var lo=Yn.exports;const{ArrayIsArray:uo,ObjectSetPrototypeOf:co}=Ze,{EventEmitter:fo}=lo;function ho(e){fo.call(this,e)}function po(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?uo(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}co(ho.prototype,fo.prototype),co(ho,fo),ho.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),!e._isStdio&&(!t||!1!==t.end)&&(r.on("end",a),r.on("close",s));let i=!1;function a(){i||(i=!0,e.end())}function s(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){u(),0===fo.listenerCount(this,"error")&&this.emit("error",e)}function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return po(r,"error",l),po(e,"error",l),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var bo={Stream:ho,prependListener:po},mo={exports:{}};!function(e){const{AbortError:t,codes:r}=bt,{isNodeStream:n,isWebStream:o,kControllerErrorFunction:i}=Kr,a=En,{ERR_INVALID_ARG_TYPE:s}=r;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new s(t,"AbortSignal",e)})(t,"signal"),!n(r)&&!o(r))throw new s("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,r){if("object"!=typeof e||!("aborted"in e))return r;const o=n(r)?()=>{r.destroy(new t(void 0,{cause:e.reason}))}:()=>{r[i](new t(void 0,{cause:e.reason}))};return e.aborted?o():(e.addEventListener("abort",o),a(r,(()=>e.removeEventListener("abort",o)))),r}}(mo);var go=mo.exports;const{StringPrototypeSlice:yo,SymbolIterator:vo,TypedArrayPrototypeSet:_o,Uint8Array:wo}=Ze,{Buffer:Eo}=Be,{inspect:So}=Je;var To=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return Eo.alloc(0);const t=Eo.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)_o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[vo](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,n=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++n,r.next?this.head=r.next:this.head=this.tail=null):(t+=yo(o,0,e),this.head=r,r.data=yo(o,e));break}t+=o,e-=o.length,++n}while(null!==(r=r.next));return this.length-=n,t}_getBuffer(e){const t=Eo.allocUnsafe(e),r=e;let n=this.head,o=0;do{const i=n.data;if(!(e>i.length)){e===i.length?(_o(t,i,r-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(_o(t,new wo(i.buffer,i.byteOffset,e),r-e),this.head=n,n.data=i.slice(e));break}_o(t,i,r-e),e-=i.length,++o}while(null!==(n=n.next));return this.length-=o,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return So(this,{...t,depth:0,customInspect:!1})}};const{MathFloor:xo,NumberIsInteger:ko}=Ze,{ERR_INVALID_ARG_VALUE:Ro}=bt.codes;function Ao(e){return e?16:16384}var Po={getHighWaterMark:function(e,t,r,n){const o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=o){if(!ko(o)||o<0){const e=n?"options.".concat(r):"options.highWaterMark";throw new Ro(e,o)}return xo(o)}return Ao(e.objectMode)},getDefaultHighWaterMark:Ao},Co={},Io={exports:{}},Fo={};!function(e){var t=Ue,r=He,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function i(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|h(e,t),n=i(r),o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(U(e,Uint8Array)){var t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(U(e,SharedArrayBuffer)||e&&U(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var o=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||j(e.length)?i(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(o)return o;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),i(e<0?0:0|d(e))}function c(e){for(var t=e.length<0?0:0|d(e.length),r=i(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function d(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return O(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(e).length;default:if(o)return n?-1:O(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),j(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,o){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){for(var f=!0,d=0;d<l;d++)if(u(e,i+d)!==u(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(j(s))return a;e[r+a]=s}return a}function v(e,t,r,n){return B(O(t,e.length-r),e,r,n)}function _(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return B(N(t),e,r,n)}function E(e,t,r,n){return B(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function S(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,l,u=e[o],c=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=r)switch(f){case 1:u<128&&(c=u);break;case 2:128===(192&(i=e[o+1]))&&((l=(31&u)<<6|63&i)>127&&(c=l));break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&((l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l));break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&((l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l))}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=f}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}(e,t,r)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(U(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),U(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(U(i,Uint8Array))o+i.length>n.length?a.from(i).copy(n,o):Uint8Array.prototype.set.call(n,i,o);else{if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o)}o+=i.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,o){if(U(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),l=Math.min(i,s),u=this.slice(n,o),c=e.slice(t,r),f=0;f<l;++f)if(u[f]!==c[f]){i=u[f],s=c[f];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":case"latin1":case"binary":return _(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=W[e[i]];return o}function P(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function C(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,n,o,i){return t=+t,n>>>=0,i||F(e,0,n,4),r.write(e,t,n,o,23,4),n+4}function M(e,t,n,o,i){return t=+t,n>>>=0,i||F(e,0,n,8),r.write(e,t,n,o,52,8),n+8}a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%l]}return this};var D=/[^+/0-9A-Za-z-_]/g;function O(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function N(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function B(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!==e}var W=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)t[n+o]=e[r]+e[o];return t}()}(Fo),function(e,t){var r=Fo,n=r.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=i),i.prototype=Object.create(n.prototype),o(n,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=n(e);return void 0!==t?"string"==typeof r?o.fill(t,r):o.fill(t):o.fill(0),o},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(Io,Io.exports);var Lo=Io.exports.Buffer,Mo=Lo.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Do(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(Lo.isEncoding===Mo||!Mo(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=Bo,this.end=Uo,t=4;break;case"utf8":this.fillLast=No,t=4;break;case"base64":this.text=jo,this.end=Wo,t=3;break;default:return this.write=Vo,void(this.end=zo)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Lo.allocUnsafe(t)}function Oo(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function No(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function Bo(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Uo(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function jo(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Wo(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Vo(e){return e.toString(this.encoding)}function zo(e){return e&&e.length?this.write(e):""}Co.StringDecoder=Do,Do.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Do.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},Do.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=Oo(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=Oo(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=Oo(t[n]),o>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0))}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},Do.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};const Go=wr,{PromisePrototypeThen:Ko,SymbolAsyncIterator:Xo,SymbolIterator:Yo}=Ze,{Buffer:Ho}=Be,{ERR_INVALID_ARG_TYPE:Zo,ERR_STREAM_NULL_VALUES:Qo}=bt.codes;var $o,Jo,qo,ei,ti,ri,ni,oi,ii=function(e,t,r){let n,o;if("string"==typeof t||t instanceof Ho)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[Xo])o=!0,n=t[Xo]();else{if(!t||!t[Yo])throw new Zo("iterable",["Iterable"],t);o=!1,n=t[Yo]()}const i=new e({objectMode:!0,highWaterMark:1,...r});let a=!1;return i._read=function(){a||(a=!0,async function(){for(;;){try{const{value:e,done:t}=o?await n.next():n.next();if(t)i.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw a=!1,new Qo;if(i.push(t))continue;a=!1}}catch(e){i.destroy(e)}break}}())},i._destroy=function(e,t){Ko(async function(e){const t=null!=e,r="function"==typeof n.throw;if(t&&r){const{value:t,done:r}=await n.throw(e);if(await t,r)return}if("function"==typeof n.return){const{value:e}=await n.return();await e}}(e),(()=>Go.nextTick(t,e)),(r=>Go.nextTick(t,r||e)))},i};function ai(){if(Jo)return $o;Jo=1;const e=wr,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:i,ObjectKeys:a,ObjectSetPrototypeOf:s,Promise:l,SafeSet:u,SymbolAsyncIterator:c,Symbol:f}=Ze;$o=O,O.ReadableState=D;const{EventEmitter:d}=lo,{Stream:h,prependListener:p}=bo,{Buffer:b}=Be,{addAbortSignal:m}=go,g=En;let y=Je.debuglog("stream",(e=>{y=e}));const v=To,_=Xn,{getHighWaterMark:w,getDefaultHighWaterMark:E}=Po,{aggregateTwoErrors:S,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:A}}=bt,{validateObject:P}=ar,C=f("kPaused"),{StringDecoder:I}=Co,F=ii;s(O.prototype,h.prototype),s(O,h);const L=()=>{},{errorOrDestroy:M}=_;function D(e,t,r){"boolean"!=typeof r&&(r=t instanceof ui()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?w(this,e,"readableHighWaterMark",r):E(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[C]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new I(e.encoding),this.encoding=e.encoding)}function O(e){if(!(this instanceof O))return new O(e);const t=this instanceof ui();this._readableState=new D(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&m(e.signal,this)),h.call(this,e),_.construct(this,(()=>{this._readableState.needReadable&&V(this,this._readableState)}))}function N(e,t,r,n){y("readableAddChunk",t);const o=e._readableState;let i;if(o.objectMode||("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=b.from(t,r).toString(o.encoding):(t=b.from(t,r),r=""))):t instanceof b?r="":h._isUint8Array(t)?(t=h._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new T("chunk",["string","Buffer","Uint8Array"],t))),i)M(e,i);else if(null===t)o.reading=!1,function(e,t){if(y("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?j(e):(t.needReadable=!1,t.emittedReadable=!0,W(e))}}(e,o);else if(o.objectMode||t&&t.length>0)if(n)if(o.endEmitted)M(e,new A);else{if(o.destroyed||o.errored)return!1;B(e,o,t,!0)}else if(o.ended)M(e,new R);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?B(e,o,t,!1):V(e,o)):B(e,o,t,!1)}else n||(o.reading=!1,V(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function B(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),V(e,t)}O.prototype.destroy=_.destroy,O.prototype._undestroy=_.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},O.prototype.push=function(e,t){return N(this,e,t,!1)},O.prototype.unshift=function(e,t){return N(this,e,t,!0)},O.prototype.isPaused=function(){const e=this._readableState;return!0===e[C]||!1===e.flowing},O.prototype.setEncoding=function(e){const t=new I(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const o of r)n+=t.write(o);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function U(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:n(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function j(t){const r=t._readableState;y("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(y("emitReadable",r.flowing),r.emittedReadable=!0,e.nextTick(W,t))}function W(e){const t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Y(e)}function V(t,r){!r.readingMore&&r.constructed&&(r.readingMore=!0,e.nextTick(z,t,r))}function z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(y("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function G(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[C]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function K(e){y("readable nexttick read 0"),e.read(0)}function X(e,t){y("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Y(e),t.flowing&&!t.reading&&e.read(0)}function Y(e){const t=e._readableState;for(y("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){"function"!=typeof e.read&&(e=O.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=L;function o(t){this===e?(n(),n=L):n=t}e.on("readable",o);const i=g(e,{writable:!1},(e=>{r=e?S(r,e):null,n(),n=L}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new l(o)}}}catch(a){throw r=S(r,a),r}finally{!r&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",o),i()):_.destroyer(e,null)}}(e,t);return r.stream=e,r}function Z(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function Q(t){const r=t._readableState;y("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,e.nextTick($,r,t))}function $(t,r){if(y("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,r.emit("end"),r.writable&&!1===r.allowHalfOpen)e.nextTick(J,r);else if(t.autoDestroy){const e=r._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&r.destroy()}}function J(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let q;function ee(){return void 0===q&&(q={}),q}return O.prototype.read=function(e){y("read",e),void 0===e?e=NaN:r(e)||(e=o(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new k("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return y("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Q(this):j(this),null;if(0===(e=U(e,t))&&t.ended)return 0===t.length&&Q(this),null;let i,a=t.needReadable;if(y("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&(a=!0,y("length less than watermark",a)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)a=!1,y("reading, ended or constructing",a);else if(a){y("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(s){M(this,s)}t.sync=!1,t.reading||(e=U(n,t))}return i=e>0?Z(e,t):null,null===i?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Q(this)),null!==i&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",i)),i},O.prototype._read=function(e){throw new x("_read()")},O.prototype.pipe=function(t,r){const n=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new u(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(t),y("pipe count=%d opts=%j",o.pipes.length,r);const i=r&&!1===r.end||t===e.stdout||t===e.stderr?g:s;function a(e,r){y("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,y("cleanup"),t.removeListener("close",b),t.removeListener("finish",m),l&&t.removeListener("drain",l),t.removeListener("error",h),t.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",g),n.removeListener("data",d),c=!0,l&&o.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l())}function s(){y("onend"),t.end()}o.endEmitted?e.nextTick(i):n.once("end",i),t.on("unpipe",a);let l,c=!1;function f(){c||(1===o.pipes.length&&o.pipes[0]===t?(y("false write response, pause",0),o.awaitDrainWriters=t,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(t)&&(y("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(t)),n.pause()),l||(l=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(y("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(y("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),(!r.awaitDrainWriters||0===r.awaitDrainWriters.size)&&e.listenerCount("data")&&e.resume()}}(n,t),t.on("drain",l))}function d(e){y("ondata");const r=t.write(e);y("dest.write",r),!1===r&&f()}function h(e){if(y("onerror",e),g(),t.removeListener("error",h),0===t.listenerCount("error")){const r=t._writableState||t._readableState;r&&!r.errorEmitted?M(t,e):t.emit("error",e)}}function b(){t.removeListener("finish",m),g()}function m(){y("onfinish"),t.removeListener("close",b),g()}function g(){y("unpipe"),n.unpipe(t)}return n.on("data",d),p(t,"error",h),t.once("close",b),t.once("finish",m),t.emit("pipe",n),!0===t.writableNeedDrain?o.flowing&&f():o.flowing||(y("pipe resume"),n.resume()),t},O.prototype.unpipe=function(e){const r=this._readableState;if(0===r.pipes.length)return this;if(!e){const e=r.pipes;r.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=t(r.pipes,e);return-1===n||(r.pipes.splice(n,1),0===r.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},O.prototype.on=function(t,r){const n=h.prototype.on.call(this,t,r),o=this._readableState;return"data"===t?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===t&&!o.endEmitted&&!o.readableListening&&(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,y("on readable",o.length,o.reading),o.length?j(this):o.reading||e.nextTick(K,this)),n},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(t,r){const n=h.prototype.removeListener.call(this,t,r);return"readable"===t&&e.nextTick(G,this),n},O.prototype.off=O.prototype.removeListener,O.prototype.removeAllListeners=function(t){const r=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===t||void 0===t)&&e.nextTick(G,this),r},O.prototype.resume=function(){const t=this._readableState;return t.flowing||(y("resume"),t.flowing=!t.readableListening,function(t,r){r.resumeScheduled||(r.resumeScheduled=!0,e.nextTick(X,t,r))}(this,t)),t[C]=!1,this},O.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[C]=!0,this},O.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{M(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=a(e);for(let n=1;n<r.length;n++){const t=r[n];void 0===this[t]&&"function"==typeof e[t]&&(this[t]=e[t].bind(e))}return this},O.prototype[c]=function(){return H(this)},O.prototype.iterator=function(e){return void 0!==e&&P(e,"options"),H(this,e)},i(O.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),i(D.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[C]},set(e){this[C]=!!e}}}),O._fromList=Z,O.from=function(e,t){return F(O,e,t)},O.fromWeb=function(e,t){return ee().newStreamReadableFromReadableStream(e,t)},O.toWeb=function(e,t){return ee().newReadableStreamFromStreamReadable(e,t)},O.wrap=function(e,t){var r,n;return new O({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){_.destroyer(e,t),r(t)}}).wrap(e)},$o}function si(){if(ei)return qo;ei=1;const e=wr,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:i,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:u}=Ze;qo=I,I.WritableState=P;const{EventEmitter:c}=lo,f=bo.Stream,{Buffer:d}=Be,h=Xn,{addAbortSignal:p}=go,{getHighWaterMark:b,getDefaultHighWaterMark:m}=Po,{ERR_INVALID_ARG_TYPE:g,ERR_METHOD_NOT_IMPLEMENTED:y,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:_,ERR_STREAM_DESTROYED:w,ERR_STREAM_ALREADY_FINISHED:E,ERR_STREAM_NULL_VALUES:S,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:x}=bt.codes,{errorOrDestroy:k}=h;function R(){}a(I.prototype,f.prototype),a(I,f);const A=l("kOnFinished");function P(e,t,r){"boolean"!=typeof r&&(r=t instanceof ui()),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?b(this,e,"writableHighWaterMark",r):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const n=!(!e||!1!==e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,C(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[A]=[]}function C(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function I(e){const t=this instanceof ui();if(!t&&!n(I,this))return new I(e);this._writableState=new P(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&p(e.signal,this)),f.call(this,e),h.construct(this,(()=>{const e=this._writableState;e.writing||U(this,e),V(this,e)}))}function F(t,r,n,o){const i=t._writableState;if("function"==typeof n)o=n,n=i.defaultEncoding;else{if(n){if("buffer"!==n&&!d.isEncoding(n))throw new x(n)}else n=i.defaultEncoding;"function"!=typeof o&&(o=R)}if(null===r)throw new S;if(!i.objectMode)if("string"==typeof r)!1!==i.decodeStrings&&(r=d.from(r,n),n="buffer");else if(r instanceof d)n="buffer";else{if(!f._isUint8Array(r))throw new g("chunk",["string","Buffer","Uint8Array"],r);r=f._uint8ArrayToBuffer(r),n="buffer"}let a;return i.ending?a=new T:i.destroyed&&(a=new w("write")),a?(e.nextTick(o,a),k(t,a,!0),a):(i.pendingcb++,function(e,t,r,n,o){const i=t.objectMode?1:r.length;t.length+=i;const a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:o}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&o!==R&&(t.allNoop=!1)):(t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(t,i,r,n,o))}function L(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new w("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function M(e,t,r,n){--t.pendingcb,n(r),B(t),k(e,r)}function D(t,r){const n=t._writableState,o=n.sync,i=n.writecb;"function"==typeof i?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,r?(n.errored||(n.errored=r),t._readableState&&!t._readableState.errored&&(t._readableState.errored=r),o?e.nextTick(M,t,n,r,i):M(t,n,r,i)):(n.buffered.length>n.bufferedIndex&&U(t,n),o?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===i?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:i,stream:t,state:n},e.nextTick(O,n.afterWriteTickInfo)):N(t,n,1,i))):k(t,new v)}function O(e){let{stream:t,state:r,count:n,cb:o}=e;return r.afterWriteTickInfo=null,N(t,r,n,o)}function N(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&B(t),V(e,t)}function B(e){if(e.writing)return;for(let o=e.bufferedIndex;o<e.buffered.length;++o){var t;const{chunk:r,callback:n}=e.buffered[o],i=e.objectMode?1:r.length;e.length-=i,n(null!==(t=e.errored)&&void 0!==t?t:new w("write"))}const r=e[A].splice(0);for(let o=0;o<r.length;o++){var n;r[o](null!==(n=e.errored)&&void 0!==n?n:new w("end"))}C(e)}function U(e,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed)return;const{buffered:n,bufferedIndex:o,objectMode:i}=r,a=n.length-o;if(!a)return;let s=o;if(r.bufferProcessing=!0,a>1&&e._writev){r.pendingcb-=a-1;const o=r.allNoop?R:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},i=r.allNoop&&0===s?n:t(n,s);i.allBuffers=r.allBuffers,L(e,r,!0,r.length,i,"",o),C(r)}else{do{const{chunk:t,encoding:o,callback:a}=n[s];n[s++]=null;L(e,r,!1,i?1:t.length,t,o,a)}while(s<n.length&&!r.writing);s===n.length?C(r):s>256?(n.splice(0,s),r.bufferedIndex=0):r.bufferedIndex=s}r.bufferProcessing=!1}function j(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function W(t,r){!r.prefinished&&!r.finalCalled&&("function"!=typeof t._final||r.destroyed?(r.prefinished=!0,t.emit("prefinish")):(r.finalCalled=!0,function(t,r){let n=!1;function o(o){if(n)k(t,null!==o&&void 0!==o?o:v());else if(n=!0,r.pendingcb--,o){const e=r[A].splice(0);for(let t=0;t<e.length;t++)e[t](o);k(t,o,r.sync)}else j(r)&&(r.prefinished=!0,t.emit("prefinish"),r.pendingcb++,e.nextTick(z,t,r))}r.sync=!0,r.pendingcb++;try{t._final(o)}catch(i){o(i)}r.sync=!1}(t,r)))}function V(t,r,n){j(r)&&(W(t,r),0===r.pendingcb&&(n?(r.pendingcb++,e.nextTick(((e,t)=>{j(t)?z(e,t):t.pendingcb--}),t,r)):j(r)&&(r.pendingcb++,z(t,r))))}function z(e,t){t.pendingcb--,t.finished=!0;const r=t[A].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}P.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(P.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),o(I,u,{__proto__:null,value:function(e){return!!n(this,e)||this===I&&(e&&e._writableState instanceof P)}}),I.prototype.pipe=function(){k(this,new _)},I.prototype.write=function(e,t,r){return!0===F(this,e,t,r)},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||U(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=s(e)),!d.isEncoding(e))throw new x(e);return this._writableState.defaultEncoding=e,this},I.prototype._write=function(e,t,r){if(!this._writev)throw new y("_write()");this._writev([{chunk:e,encoding:t}],r)},I.prototype._writev=null,I.prototype.end=function(t,n,o){const i=this._writableState;let a;if("function"==typeof t?(o=t,t=null,n=null):"function"==typeof n&&(o=n,n=null),null!=t){const e=F(this,t,n);e instanceof r&&(a=e)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new E("end"):i.destroyed&&(a=new w("end")):(i.ending=!0,V(this,i,!0),i.ended=!0)),"function"==typeof o&&(a||i.finished?e.nextTick(o,a):i[A].push(o)),this},i(I.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=h.destroy;let K;function X(){return void 0===K&&(K={}),K}return I.prototype.destroy=function(t,r){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[A].length)&&e.nextTick(B,n),G.call(this,t,r),this},I.prototype._undestroy=h.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype[c.captureRejectionSymbol]=function(e){this.destroy(e)},I.fromWeb=function(e,t){return X().newStreamWritableFromWritableStream(e,t)},I.toWeb=function(e){return X().newWritableStreamFromStreamWritable(e)},qo}function li(){if(ri)return ti;ri=1;const e=wr,t=Be,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:i,isReadableNodeStream:a,isWritableNodeStream:s,isDuplexNodeStream:l}=Kr,u=En,{AbortError:c,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:d}}=bt,{destroyer:h}=Xn,p=ui(),b=ai(),{createDeferredPromise:m}=Je,g=ii,y=globalThis.Blob||t.Blob,v=typeof y<"u"?function(e){return e instanceof y}:function(e){return!1},_=globalThis.AbortController||tt().AbortController,{FunctionPrototypeCall:w}=Ze;class E extends p{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function S(e){const t=e.readable&&"function"!=typeof e.readable.read?b.wrap(e.readable):e.readable,o=e.writable;let i,a,s,l,f,d=!!r(t),p=!!n(o);function m(e){const t=l;l=null,t?t(e):e&&f.destroy(e)}return f=new E({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==o||!o.writableObjectMode),readable:d,writable:p}),p&&(u(o,(e=>{p=!1,e&&h(t,e),m(e)})),f._write=function(e,t,r){o.write(e,t)?r():i=r},f._final=function(e){o.end(),a=e},o.on("drain",(function(){if(i){const e=i;i=null,e()}})),o.on("finish",(function(){if(a){const e=a;a=null,e()}}))),d&&(u(t,(e=>{d=!1,e&&h(t,e),m(e)})),t.on("readable",(function(){if(s){const e=s;s=null,e()}})),t.on("end",(function(){f.push(null)})),f._read=function(){for(;;){const e=t.read();if(null===e)return void(s=f._read);if(!f.push(e))return}}),f._destroy=function(e,r){!e&&null!==l&&(e=new c),s=null,i=null,a=null,null===l?r(e):(l=r,h(o,e),h(t,e))},f}return ti=function t(r,n){if(l(r))return r;if(a(r))return S({readable:r});if(s(r))return S({writable:r});if(i(r))return S({writable:!1,readable:!1});if("function"==typeof r){const{value:t,write:i,final:a,destroy:s}=function(t){let{promise:r,resolve:n}=m();const o=new _,i=o.signal;return{value:t(async function*(){for(;;){const t=r;r=null;const{chunk:o,done:a,cb:s}=await t;if(e.nextTick(s),a)return;if(i.aborted)throw new c(void 0,{cause:i.reason});({promise:r,resolve:n}=m()),yield o}}(),{signal:i}),write(e,t,r){const o=n;n=null,o({chunk:e,done:!1,cb:r})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){o.abort(),t(e)}}}(r);if(o(t))return g(E,t,{objectMode:!0,write:i,final:a,destroy:s});const l=null===t||void 0===t?void 0:t.then;if("function"==typeof l){let r;const n=w(l,t,(e=>{if(null!=e)throw new d("nully","body",e)}),(e=>{h(r,e)}));return r=new E({objectMode:!0,readable:!1,write:i,final(t){a((async()=>{try{await n,e.nextTick(t,null)}catch(r){e.nextTick(t,r)}}))},destroy:s})}throw new d("Iterable, AsyncIterable or AsyncFunction",n,t)}if(v(r))return t(r.arrayBuffer());if(o(r))return g(E,r,{objectMode:!0,writable:!1});if("object"==typeof(null===r||void 0===r?void 0:r.writable)||"object"==typeof(null===r||void 0===r?void 0:r.readable)){return S({readable:null!=r&&r.readable?a(null===r||void 0===r?void 0:r.readable)?null===r||void 0===r?void 0:r.readable:t(r.readable):void 0,writable:null!=r&&r.writable?s(null===r||void 0===r?void 0:r.writable)?null===r||void 0===r?void 0:r.writable:t(r.writable):void 0})}const u=null===r||void 0===r?void 0:r.then;if("function"==typeof u){let e;return w(u,r,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{h(e,t)})),e=new E({objectMode:!0,writable:!1,read(){}})}throw new f(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],r)}}function ui(){if(oi)return ni;oi=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ze;ni=a;const o=ai(),i=si();n(a.prototype,o.prototype),n(a,o);{const e=r(i.prototype);for(let t=0;t<e.length;t++){const r=e[t];a.prototype[r]||(a.prototype[r]=i.prototype[r])}}function a(e){if(!(this instanceof a))return new a(e);o.call(this,e),i.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let s,l;function u(){return void 0===s&&(s={}),s}return e(a.prototype,{writable:{__proto__:null,...t(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(i.prototype,"writableLength")},writableFinished:{__proto__:null,...t(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),a.fromWeb=function(e,t){return u().newStreamDuplexFromReadableWritablePair(e,t)},a.toWeb=function(e){return u().newReadableWritablePairFromDuplex(e)},a.from=function(e){return l||(l=li()),l(e,"body")},ni}const{ObjectSetPrototypeOf:ci,Symbol:fi}=Ze;var di=gi;const{ERR_METHOD_NOT_IMPLEMENTED:hi}=bt.codes,pi=ui(),{getHighWaterMark:bi}=Po;ci(gi.prototype,pi.prototype),ci(gi,pi);const mi=fi("kCallback");function gi(e){if(!(this instanceof gi))return new gi(e);const t=e?bi(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),pi.call(this,e),this._readableState.sync=!1,this[mi]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",vi)}function yi(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function vi(){this._final!==yi&&yi.call(this)}gi.prototype._final=yi,gi.prototype._transform=function(e,t,r){throw new hi("_transform()")},gi.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,i=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),o.ended||i===n.length||n.length<n.highWaterMark?r():this[mi]=r)}))},gi.prototype._read=function(){if(this[mi]){const e=this[mi];this[mi]=null,e()}};const{ObjectSetPrototypeOf:_i}=Ze;var wi=Si;const Ei=di;function Si(e){if(!(this instanceof Si))return new Si(e);Ei.call(this,e)}_i(Si.prototype,Ei.prototype),_i(Si,Ei),Si.prototype._transform=function(e,t,r){r(null,e)};const Ti=wr,{ArrayIsArray:xi,Promise:ki,SymbolAsyncIterator:Ri}=Ze,Ai=En,{once:Pi}=Je,Ci=Xn,Ii=ui(),{aggregateTwoErrors:Fi,codes:{ERR_INVALID_ARG_TYPE:Li,ERR_INVALID_RETURN_VALUE:Mi,ERR_MISSING_ARGS:Di,ERR_STREAM_DESTROYED:Oi,ERR_STREAM_PREMATURE_CLOSE:Ni},AbortError:Bi}=bt,{validateFunction:Ui,validateAbortSignal:ji}=ar,{isIterable:Wi,isReadable:Vi,isReadableNodeStream:zi,isNodeStream:Gi,isTransformStream:Ki,isWebStream:Xi,isReadableStream:Yi,isReadableEnded:Hi}=Kr,Zi=globalThis.AbortController||tt().AbortController;let Qi,$i;function Ji(e,t,r){let n=!1;e.on("close",(()=>{n=!0}));return{destroy:t=>{n||(n=!0,Ci.destroyer(e,t||new Oi("pipe")))},cleanup:Ai(e,{readable:t,writable:r},(e=>{n=!e}))}}function qi(e){if(Wi(e))return e;if(zi(e))return async function*(e){$i||($i=ai()),yield*$i.prototype[Ri].call(e)}(e);throw new Li("val",["Readable","Iterable","AsyncIterable"],e)}async function ea(e,t,r,n){let o,{end:i}=n,a=null;const s=e=>{if(e&&(o=e),a){const e=a;a=null,e()}},l=()=>new ki(((e,t)=>{o?t(o):a=()=>{o?t(o):e()}}));t.on("drain",s);const u=Ai(t,{readable:!1},s);try{t.writableNeedDrain&&await l();for await(const r of e)t.write(r)||await l();i&&t.end(),await l(),r()}catch(c){r(o!==c?Fi(o,c):c)}finally{u(),t.off("drain",s)}}async function ta(e,t,r,n){let{end:o}=n;Ki(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch((()=>{}));await i.ready,o&&await i.close(),r()}catch(a){try{await i.abort(a),r(a)}catch(s){r(s)}}}function ra(e,t,r){if(1===e.length&&xi(e[0])&&(e=e[0]),e.length<2)throw new Di("streams");const n=new Zi,o=n.signal,i=null===r||void 0===r?void 0:r.signal,a=[];function s(){p(new Bi)}let l,u;ji(i,"options.signal"),null===i||void 0===i||i.addEventListener("abort",s);const c=[];let f,d=0;function h(e){p(e,0===--d)}function p(e,r){if(e&&(!l||"ERR_STREAM_PREMATURE_CLOSE"===l.code)&&(l=e),l||r){for(;c.length;)c.shift()(l);null!==i&&void 0!==i&&i.removeEventListener("abort",s),n.abort(),r&&(l||a.forEach((e=>e())),Ti.nextTick(t,l,u))}}for(let g=0;g<e.length;g++){const t=e[g],n=g<e.length-1,i=g>0,s=n||!1!==(null===r||void 0===r?void 0:r.end),l=g===e.length-1;if(Gi(t)){let e=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&h(e)};if(s){const{destroy:e,cleanup:r}=Ji(t,n,i);c.push(e),Vi(t)&&l&&a.push(r)}t.on("error",e),Vi(t)&&l&&a.push((()=>{t.removeListener("error",e)}))}if(0===g)if("function"==typeof t){if(f=t({signal:o}),!Wi(f))throw new Mi("Iterable, AsyncIterable or Stream","source",f)}else f=Wi(t)||zi(t)||Ki(t)?t:Ii.from(t);else if("function"==typeof t){var b;if(Ki(f))f=qi(null===(b=f)||void 0===b?void 0:b.readable);else f=qi(f);if(f=t(f,{signal:o}),n){if(!Wi(f,!0))throw new Mi("AsyncIterable","transform[".concat(g-1,"]"),f)}else{var m;Qi||(Qi=wi);const e=new Qi({objectMode:!0}),t=null===(m=f)||void 0===m?void 0:m.then;if("function"==typeof t)d++,t.call(f,(t=>{u=t,null!=t&&e.write(t),s&&e.end(),Ti.nextTick(h)}),(t=>{e.destroy(t),Ti.nextTick(h,t)}));else if(Wi(f,!0))d++,ea(f,e,h,{end:s});else{if(!Yi(f)&&!Ki(f))throw new Mi("AsyncIterable or Promise","destination",f);{const t=f.readable||f;d++,ea(t,e,h,{end:s})}}f=e;const{destroy:r,cleanup:n}=Ji(f,!1,!0);c.push(r),l&&a.push(n)}}else if(Gi(t)){if(zi(f)){d+=2;const e=na(f,t,h,{end:s});Vi(t)&&l&&a.push(e)}else if(Ki(f)||Yi(f)){const e=f.readable||f;d++,ea(e,t,h,{end:s})}else{if(!Wi(f))throw new Li("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);d++,ea(f,t,h,{end:s})}f=t}else if(Xi(t)){if(zi(f))d++,ta(qi(f),t,h,{end:s});else if(Yi(f)||Wi(f))d++,ta(f,t,h,{end:s});else{if(!Ki(f))throw new Li("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);d++,ta(f.readable,t,h,{end:s})}f=t}else f=Ii.from(t)}return(null!=o&&o.aborted||null!=i&&i.aborted)&&Ti.nextTick(s),f}function na(e,t,r,n){let{end:o}=n,i=!1;if(t.on("close",(()=>{i||r(new Ni)})),e.pipe(t,{end:!1}),o){let r=function(){i=!0,t.end()};Hi(e)?Ti.nextTick(r):e.once("end",r)}else r();return Ai(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),Ai(t,{readable:!1,writable:!0},r)}var oa={pipelineImpl:ra,pipeline:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ra(t,Pi(function(e){return Ui(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(t)))}};const{pipeline:ia}=oa,aa=ui(),{destroyer:sa}=Xn,{isNodeStream:la,isReadable:ua,isWritable:ca,isWebStream:fa,isTransformStream:da,isWritableStream:ha,isReadableStream:pa}=Kr,{AbortError:ba,codes:{ERR_INVALID_ARG_VALUE:ma,ERR_MISSING_ARGS:ga}}=bt,ya=En;var va=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new ga("streams");if(1===t.length)return aa.from(t[0]);const n=[...t];if("function"==typeof t[0]&&(t[0]=aa.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=aa.from(t[e])}for(let h=0;h<t.length;++h)if(la(t[h])||fa(t[h])){if(h<t.length-1&&!(ua(t[h])||pa(t[h])||da(t[h])))throw new ma("streams[".concat(h,"]"),n[h],"must be readable");if(h>0&&!(ca(t[h])||ha(t[h])||da(t[h])))throw new ma("streams[".concat(h,"]"),n[h],"must be writable")}let o,i,a,s,l;const u=t[0],c=ia(t,(function(e){const t=s;s=null,t?t(e):e?l.destroy(e):!d&&!f&&l.destroy()})),f=!!(ca(u)||ha(u)||da(u)),d=!!(ua(c)||pa(c)||da(c));if(l=new aa({writableObjectMode:!(null==u||!u.writableObjectMode),readableObjectMode:!(null==c||!c.writableObjectMode),writable:f,readable:d}),f){if(la(u))l._write=function(e,t,r){u.write(e,t)?r():o=r},l._final=function(e){u.end(),i=e},u.on("drain",(function(){if(o){const e=o;o=null,e()}}));else if(fa(u)){const e=(da(u)?u.writable:u).getWriter();l._write=async function(t,r,n){try{await e.ready,e.write(t).catch((()=>{})),n()}catch(o){n(o)}},l._final=async function(t){try{await e.ready,e.close().catch((()=>{})),i=t}catch(r){t(r)}}}const e=da(c)?c.readable:c;ya(e,(()=>{if(i){const e=i;i=null,e()}}))}if(d)if(la(c))c.on("readable",(function(){if(a){const e=a;a=null,e()}})),c.on("end",(function(){l.push(null)})),l._read=function(){for(;;){const e=c.read();if(null===e)return void(a=l._read);if(!l.push(e))return}};else if(fa(c)){const e=(da(c)?c.readable:c).getReader();l._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!l.push(t))return;if(r)return void l.push(null)}catch{return}}}return l._destroy=function(e,t){!e&&null!==s&&(e=new ba),a=null,o=null,i=null,null===s?t(e):(s=t,la(c)&&sa(c,e))},l};const _a=globalThis.AbortController||tt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:wa,ERR_INVALID_ARG_TYPE:Ea,ERR_MISSING_ARGS:Sa,ERR_OUT_OF_RANGE:Ta},AbortError:xa}=bt,{validateAbortSignal:ka,validateInteger:Ra,validateObject:Aa}=ar,Pa=Ze.Symbol("kWeak"),{finished:Ca}=En,Ia=va,{addAbortSignalNoValidate:Fa}=go,{isWritable:La,isNodeStream:Ma}=Kr,{ArrayPrototypePush:Da,MathFloor:Oa,Number:Na,NumberIsNaN:Ba,Promise:Ua,PromiseReject:ja,PromisePrototypeThen:Wa,Symbol:Va}=Ze,za=Va("kEmpty"),Ga=Va("kEof");function Ka(e,t){if("function"!=typeof e)throw new Ea("fn",["Function","AsyncFunction"],e);null!=t&&Aa(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&ka(t.signal,"options.signal");let r=1;return null!=(null===t||void 0===t?void 0:t.concurrency)&&(r=Oa(t.concurrency)),Ra(r,"concurrency",1),async function*(){var n,o;const i=new _a,a=this,s=[],l=i.signal,u={signal:l},c=()=>i.abort();null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted&&c(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",c);let f,d,h=!1;function p(){h=!0}!async function(){try{for await(let t of a){var n;if(h)return;if(l.aborted)throw new xa;try{t=e(t,u)}catch(i){t=ja(i)}t!==za&&("function"==typeof(null===(n=t)||void 0===n?void 0:n.catch)&&t.catch(p),s.push(t),f&&(f(),f=null),!h&&s.length&&s.length>=r&&await new Ua((e=>{d=e})))}s.push(Ga)}catch(b){const e=ja(b);Wa(e,void 0,p),s.push(e)}finally{var o;h=!0,f&&(f(),f=null),null==t||null===(o=t.signal)||void 0===o||o.removeEventListener("abort",c)}}();try{for(;;){for(;s.length>0;){const e=await s[0];if(e===Ga)return;if(l.aborted)throw new xa;e!==za&&(yield e),s.shift(),d&&(d(),d=null)}await new Ua((e=>{f=e}))}}finally{i.abort(),h=!0,d&&(d(),d=null)}}.call(this)}async function Xa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for await(const r of Ya.call(this,e,t))return!0;return!1}function Ya(e,t){if("function"!=typeof e)throw new Ea("fn",["Function","AsyncFunction"],e);return Ka.call(this,(async function(t,r){return await e(t,r)?t:za}),t)}class Ha extends Sa{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Za(e){if(e=Na(e),Ba(e))return 0;if(e<0)throw new Ta("number",">= 0",e);return e}var Qa,$a,Ja;function qa(){if($a)return Qa;$a=1;const{ArrayPrototypePop:e,Promise:t}=Ze,{isIterable:r,isNodeStream:n,isWebStream:o}=Kr,{pipelineImpl:i}=oa,{finished:a}=En;return es(),Qa={finished:a,pipeline:function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return new t(((t,a)=>{let l,u;const c=s[s.length-1];if(c&&"object"==typeof c&&!n(c)&&!r(c)&&!o(c)){const t=e(s);l=t.signal,u=t.end}i(s,((e,r)=>{e?a(e):t(r)}),{signal:l,end:u})}))}},Qa}function es(){if(Ja)return Ne.exports;Ja=1;const{Buffer:e}=Be,{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ze,{promisify:{custom:o}}=Je,{streamReturningOperators:i,promiseReturningOperators:a}=qe,{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=bt,l=va,{pipeline:u}=oa,{destroyer:c}=Xn,f=En,d=qa(),h=Kr,p=Ne.exports=bo.Stream;p.isDisturbed=h.isDisturbed,p.isErrored=h.isErrored,p.isReadable=h.isReadable,p.Readable=ai();for(const m of r(i)){let e=function(){if(new.target)throw s();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return p.Readable.from(n(r,this,t))};const r=i[m];t(e,"name",{__proto__:null,value:r.name}),t(e,"length",{__proto__:null,value:r.length}),t(p.Readable.prototype,m,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}for(const m of r(a)){let e=function(){if(new.target)throw s();for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(r,this,t)};const r=a[m];t(e,"name",{__proto__:null,value:r.name}),t(e,"length",{__proto__:null,value:r.length}),t(p.Readable.prototype,m,{__proto__:null,value:e,enumerable:!1,configurable:!0,writable:!0})}p.Writable=si(),p.Duplex=ui(),p.Transform=di,p.PassThrough=wi,p.pipeline=u;const{addAbortSignal:b}=go;return p.addAbortSignal=b,p.finished=f,p.destroy=c,p.compose=l,t(p,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>d}),t(u,o,{__proto__:null,enumerable:!0,get:()=>d.pipeline}),t(f,o,{__proto__:null,enumerable:!0,get:()=>d.finished}),p.Stream=p,p._isUint8Array=function(e){return e instanceof Uint8Array},p._uint8ArrayToBuffer=function(t){return e.from(t.buffer,t.byteOffset,t.byteLength)},Ne.exports}qe.streamReturningOperators={asIndexedPairs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&Aa(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&ka(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new xa({cause:e.signal.reason});yield[t++,n]}}.call(this)},drop:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&Aa(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&ka(t.signal,"options.signal"),e=Za(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new xa;for await(const o of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new xa;e--<=0&&(yield o)}}.call(this)},filter:Ya,flatMap:function(e,t){const r=Ka.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:Ka,take:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&Aa(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&ka(t.signal,"options.signal"),e=Za(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new xa;for await(const o of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new xa;if(!(e-- >0))return;yield o}}.call(this)},compose:function(e,t){if(null!=t&&Aa(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&ka(t.signal,"options.signal"),Ma(e)&&!La(e))throw new wa("stream",e,"must be writable");const r=Ia(this,e);return null!=t&&t.signal&&Fa(t.signal,r),r}},qe.promiseReturningOperators={every:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("function"!=typeof e)throw new Ea("fn",["Function","AsyncFunction"],e);return!await Xa.call(this,(async function(){return!await e(...arguments)}),t)},forEach:async function(e,t){if("function"!=typeof e)throw new Ea("fn",["Function","AsyncFunction"],e);for await(const r of Ka.call(this,(async function(t,r){return await e(t,r),za}),t));},reduce:async function(e,t,r){var n;if("function"!=typeof e)throw new Ea("reducer",["Function","AsyncFunction"],e);null!=r&&Aa(r,"options"),null!=(null===r||void 0===r?void 0:r.signal)&&ka(r.signal,"options.signal");let o=arguments.length>1;if(null!=r&&null!==(n=r.signal)&&void 0!==n&&n.aborted){const e=new xa(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await Ca(this.destroy(e)),e}const i=new _a,a=i.signal;if(null!=r&&r.signal){const e={once:!0,[Pa]:this};r.signal.addEventListener("abort",(()=>i.abort()),e)}let s=!1;try{for await(const n of this){var l;if(s=!0,null!=r&&null!==(l=r.signal)&&void 0!==l&&l.aborted)throw new xa;o?t=await e(t,n,{signal:a}):(t=n,o=!0)}if(!s&&!o)throw new Ha}finally{i.abort()}return t},toArray:async function(e){null!=e&&Aa(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&ka(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new xa(void 0,{cause:e.signal.reason});Da(t,n)}return t},some:Xa,find:async function(e,t){for await(const r of Ya.call(this,e,t))return r}},function(e){const t=es(),r=qa(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>r}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(Oe);var ts=Oe.exports;class rs{constructor(e){i(this,"_module"),this._module=e}allocate(e){const t=this._module.canvas.getContext("webgl2"),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),e&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.bindTexture(t.TEXTURE_2D,null);const n=this._module.GL.getNewId(this._module.GL.textures);return this._module.GL.textures[n]=r,{id:n}}release(e){const t="number"==typeof e?e:e.id;this._module.canvas.getContext("webgl2").deleteTexture(this._module.GL.textures[t]),this._module.GL.textures[t]=null}}class ns{constructor(e){i(this,"_module"),this._module=e}allocate(e){return{buffer:()=>this._module.HEAPU8.buffer,byteOffset:this._module._malloc(e),byteLength:e}}release(e){const t="number"==typeof e?e:e.byteOffset;this._module._free(t)}}async function os(e,t){let r=new ns(e),n=new rs(e);const o={width:t.displayWidth,height:t.displayHeight},i=r.allocate(t.allocationSize({rect:o})),a=t instanceof G?i:new DataView(i.buffer(),i.byteOffset,i.byteLength),s=t.texture?n.allocate(t.texture).id:0,l=t.horizontalFlip;switch(t.format){case"RGB":case"RGBA":case"BGR":case"BGRA":const u=t.format;return t.copyTo(a).then((()=>e.FrameData.makeFromBpc8WithTexID(s,i.byteOffset,(()=>{r.release(i),n.release(s)}),o.width,o.height,e.CameraOrientation.DEG_0,e.PixelFormat[u],l,0)));case"NV12":return t.copyTo(a).then((t=>e.FrameData.makeFromYuvNV12(i.byteOffset+t[0].offset,i.byteOffset+t[1].offset,(()=>{r.release(i)}),o.width,o.height,e.CameraOrientation.DEG_0,l,0)));case"I420":return t.copyTo(a).then((t=>e.FrameData.makeFromYuvI420(i.byteOffset+t[0].offset,i.byteOffset+t[1].offset,i.byteOffset+t[2].offset,(()=>{r.release(i)}),o.width,o.height,e.CameraOrientation.DEG_0,l,0)));default:throw new Error("Unknown video frame format")}}const is=class e extends D{constructor(t,r){super(),i(this,"readable"),i(this,"_sdk"),i(this,"fps",30),this._sdk=t,this.readable=new ts.Readable({read:async()=>{const t=F(e.PRODUCED_EVENT),{done:n,value:o}=await r.next(this.fps),i=L(t);if(n)return this.readable.push(null),void this.dispatchEvent(new CustomEvent(e.EMPTIED_EVENT));if(this.readable.destroyed)return void o.close();const a=o,s=os(this._sdk,a);this.readable.push({frame:a,frameDataPromise:s}),this.dispatchEvent(new CustomEvent(e.PRODUCED_EVENT,{detail:i}))},objectMode:!0,highWaterMark:1})}pipe(e){return this.readable.pipe(e)}unpipe(){return this.readable.unpipe()}destroy(){this.removeAllEventListeners(),this.readable.unpipe(),this.readable.destroy()}};i(is,"EMPTIED_EVENT","emptied"),i(is,"PRODUCED_EVENT","produced");let as=is;const ss=class e extends D{constructor(e,t,r,n){super(),i(this,"_sdk"),i(this,"_effectPlayer"),i(this,"_processor"),i(this,"_lastFrame",null),i(this,"transform"),this._sdk=e,this._effectPlayer=t;const o=this._sdk.ProcessorConfiguration.create();switch(r){case"image":o.setUseOfflineMode(!0),o.setUseFutureFilter(!1),o.setUseFutureInterpolate(!1);break;case"video":o.setUseOfflineMode(!1),o.setUseFutureFilter(!1),o.setUseFutureInterpolate(!1);break;default:o.setUseOfflineMode(!1),o.setUseFutureFilter(n.useFutureFilter),o.setUseFutureInterpolate(n.useFutureInterpolate)}this._processor="image"===r?this._sdk.FrameProcessor.createPhotoProcessor(o):this._sdk.FrameProcessor.createRealtimeProcessor(this._sdk.RealtimeProcessorMode.SYNC,o),o.delete(),this._effectPlayer.setFrameProcessor(this._processor),this.transform=new ts.Transform({transform:async(e,t,r)=>{var n;let{frame:o,frameDataPromise:i}=e;null!==(n=this._lastFrame)&&void 0!==n&&n.close(),this._lastFrame=o;const a=await i;if(this.transform.destroyed)return void a.delete();const s=this._process(a);this.transform.push({frame:{width:o.displayWidth,height:o.displayHeight},result:s}),r()},flush:e=>{},objectMode:!0,highWaterMark:1})}_process(t){const r=F(e.PROCESSED_EVENT),n=(this._processor.push(t),this._processor.pop()),o=L(r);return t.delete(),this.dispatchEvent(new CustomEvent(e.PROCESSED_EVENT,{detail:o})),n}async rerun(){if(!this._lastFrame||this.transform.destroyed)return!1;const e={width:this._lastFrame.displayWidth,height:this._lastFrame.displayHeight},t=await os(this._sdk,this._lastFrame);if(this.transform.destroyed)return t.delete(),!1;const r=this._process(t);return this.transform.push({frame:e,result:r}),!0}pipe(e){return this.transform.pipe(e)}unpipe(){return this.transform.unpipe()}destroy(){this.removeAllEventListeners(),this._processor.delete(),this._lastFrame&&(this._lastFrame.close(),this._lastFrame=null),this.transform.unpipe(),this.transform.destroy()}};i(ss,"PROCESSED_EVENT","processed");let ls=ss;const us=typeof devicePixelRatio<"u"?devicePixelRatio:1,cs=class e extends D{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:us;super(),i(this,"writable"),i(this,"fps",30),i(this,"_sdk"),i(this,"_effectPlayer"),i(this,"_effectManager"),i(this,"_lastResult",null),i(this,"_preferences"),i(this,"_width",0),i(this,"_height",0),i(this,"_then",0),this._sdk=e,this._effectPlayer=t,this._effectManager=t.effectManager(),this._preferences={devicePixelRatio:r},this.writable=new ts.Writable({write:async(e,t,r)=>{var n;null!==(n=this._lastResult)&&void 0!==n&&n.result.delete(),this._lastResult=e,await new Promise(S),this._render(e),r()},objectMode:!0})}get frameSize(){return{width:this._width,height:this._height}}get renderSize(){return{width:this._sdk.canvas.width,height:this._sdk.canvas.height}}updateSurfaceSize(){this._width=this._height=0}_render(t){let{frame:r,result:n}=t;if(n.isDeleted())return;const o=n.frameData;if(this._width!==r.width||this._height!==r.height){this._width=r.width,this._height=r.height;const{width:e,height:t}=function(e,t,r){const n=Math.round(self.devicePixelRatio),[o,i]=[screen.width*n,screen.height*n],a=Math.max(1,o/e),s=Math.max(1,i/t),l=Math.max(a,s);r=Math.min(r,l);const u=e*r,c=t*r;return{width:u,height:c}}(r.width,r.height,this._preferences.devicePixelRatio);this._sdk.setCanvasSize(e,t),this._effectManager.setEffectSize(e,t),this._effectPlayer.surfaceChanged(e,t)}const i=F(e.RENDERED_EVENT);this._effectPlayer.drawWithExternalFrameData(o),o.delete();const a=L(i);this._sdk.ctx.bindFramebuffer(this._sdk.ctx.READ_FRAMEBUFFER,null),this.dispatchEvent(new CustomEvent(e.RENDERED_EVENT,{detail:a}))}async rerun(){if(!this._lastResult)return!1;let e=0;const t=this._then,r=1e3/this.fps,n=.1*r;for(;(e=await new Promise(S))-t<r-n;);return this._then=e,this._render(this._lastResult),!0}destroy(){this.removeAllEventListeners(),this._effectManager.delete(),this._lastResult&&(this._lastResult.result.delete(),this._lastResult=null),this.writable.end(),this.writable.destroy()}};i(cs,"RENDERED_EVENT","rendered");let fs=cs;const ds=class e extends D{constructor(t,r,n){super(),i(this,"_sdk"),i(this,"_effectPlayer"),i(this,"_state",De.Paused),i(this,"_producer"),i(this,"_processor"),i(this,"_renderer"),i(this,"_preferences",{fps:30,idleOnEmpty:!0,useFutureFilter:!0,useFutureInterpolate:!1}),this._sdk=t,this._effectPlayer=r,this._preferences.useFutureFilter=n.useFutureFilter,this._preferences.useFutureInterpolate=n.useFutureInterpolate,this._producer=new as(t,async function*(){}()),this._processor=new ls(t,r,"stream",this._preferences),this._renderer=new fs(t,r,n.devicePixelRatio),this._renderer.addEventListener(fs.RENDERED_EVENT,(t=>{let{detail:r}=t;return this.dispatchEvent(new CustomEvent(e.FRAME_RENDERED_EVENT,{detail:r}))}))}get state(){return this._state}get frameSize(){return this._renderer.frameSize}get preferences(){return this._preferences}use(t,r){const n=this._sdk,o=this._effectPlayer;this._producer.destroy(),this._processor.destroy(),this._producer=new as(n,t[Symbol.asyncIterator](r)),this._producer.addEventListener(as.PRODUCED_EVENT,(t=>{let{detail:r}=t;return this.dispatchEvent(new CustomEvent(e.FRAME_RECEIVED_EVENT,{detail:r}))})),this._processor=new ls(n,o,t.kind,this._preferences),this._processor.addEventListener(ls.PROCESSED_EVENT,(t=>{let{detail:r}=t;return this.dispatchEvent(new CustomEvent(e.FRAME_PROCESSED_EVENT,{detail:r}))})),this._producer.addEventListener(as.EMPTIED_EVENT,(()=>this._state=De.Idle),{once:!0}),this._producer.addEventListener(as.EMPTIED_EVENT,(()=>{this._renderer.addEventListener(fs.RENDERED_EVENT,(async()=>{for(;this._state===De.Idle&&!this._preferences.idleOnEmpty;)if(!await this._renderer.rerun())return}),{once:!0})}),{once:!0}),this._state===De.Idle&&(this._state=De.Running),this._state===De.Running&&this._producer.pipe(this._processor.transform).pipe(this._renderer.writable)}run(e){let{fps:t=this._preferences.fps,idleOnEmpty:r=!0}=e;Object.assign(this._preferences,{fps:t,idleOnEmpty:r}),this._producer.fps=t,this._renderer.fps=t,this._state!==De.Running&&this._state!==De.Idle&&(this._producer.pipe(this._processor.transform).pipe(this._renderer.writable),this._state=De.Running)}pause(){this._state!==De.Paused&&(this._producer.unpipe(),this._processor.unpipe(),this._state=De.Paused)}async rerun(){this._state===De.Idle&&await this._processor.rerun()}async rerender(){this._state===De.Idle&&await this._renderer.rerun()}destroy(){this.pause(),this._producer.destroy(),this._processor.destroy(),this._renderer.destroy()}updateSurfaceSize(){this._renderer.updateSurfaceSize()}};i(ds,"FRAME_RECEIVED_EVENT","framereceived"),i(ds,"FRAME_PROCESSED_EVENT","frameprocessed"),i(ds,"FRAME_RENDERED_EVENT","framerendered");let hs=ds;class ps{constructor(e){i(this,"_fd"),i(this,"_cache",new Map),this._fd=e}get(e){if(Array.isArray(e))return e.map((e=>this.get(e)));const t=e.split("."),r=t.length;let n=r,o=this._fd;for(let i=!1;!i&&n>0;--n){const e=t.slice(0,n).join(".");this._cache.has(e)&&(i=!0,o=this._cache.get(e),++n)}for(;null!=o&&n<r;++n){const r=t[n];let i=o[r];if(typeof i>"u"){i=o["get"+r[0].toUpperCase()+r.slice(1)]}if(typeof i>"u"&&Ce(o)){const e=parseInt(r);isNaN(e)||(i=o.get(e))}if("function"==typeof i)try{i=i.apply(o)}catch{i=void 0}const a=t.slice(0,n+1).join(".");if(e===a&&Ce(i)){const e=i;i=new Array(e.size());for(let t=0,r=e.size();t<r;++t)i[t]=e.get(t)}this._cache.set(a,o=i)}return n===r?o:void 0}addTimestampUs(e){this._fd.addTimestampUs(e)}}class bs{constructor(e){i(this,"_module"),this._module=e}exists(e){try{return this._module.FS.lstat(e),!0}catch(t){if(44===t.errno||"ENOENT"===t.code)return!1;throw t}}writeFile(e,t){const r=e.split("/");""===r[0]&&r.shift(),r.length>1&&r.reduce(((e,t)=>(this.exists(e)||this._module.FS.mkdir(e),"".concat(e,"/").concat(t)))),(!e.endsWith("/")||0!==t.length)&&this._module.FS.writeFile(e,t)}}var ms=Object.defineProperty,gs=Object.getOwnPropertyDescriptor;const ys={useFutureFilter:!0,useFutureInterpolate:!1,useNewFaceTracking:!1,logger:console};var vs;const _s=(vs=class extends D{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),i(this,"_sdk"),i(this,"_effectPlayer"),i(this,"_effectManager"),i(this,"_pipeline"),i(this,"_preferences"),this._sdk=e,this._preferences={...ys,...t};const r=this._sdk.EffectPlayerConfiguration.create(this._sdk.canvas.width,this._sdk.canvas.height);this._effectPlayer=this._sdk.EffectPlayer.create(r),this._effectPlayer.setRecognizerUseNewFaceTracking(this._preferences.useNewFaceTracking),r.delete(),this._effectManager=this._effectPlayer.effectManager(),this._effectPlayer.surfaceCreated(this._sdk.canvas.width,this._sdk.canvas.height),this._effectPlayer.addFrameDataListenerOverrided((e=>{this.dispatchEvent(new CustomEvent(vs.FRAME_DATA_EVENT,{detail:new ps(e)}))})),this._effectManager.addEffectActivatedListener((()=>{const e=this._effectManager.current();this.dispatchEvent(new CustomEvent(vs.EFFECT_ACTIVATED_EVENT,{detail:e}))})),this._effectManager.addEffectEventListener((async e=>{"recognizer_features_update"===e&&(await new Promise((e=>x(e))),this._pipeline.rerun())})),this._pipeline=new hs(this._sdk,this._effectPlayer,this._preferences),this._pipeline.addEventListener(hs.FRAME_RECEIVED_EVENT,(e=>{let{detail:t}=e;return this.dispatchEvent(new CustomEvent(vs.FRAME_RECEIVED_EVENT,{detail:t}))})),this._pipeline.addEventListener(hs.FRAME_PROCESSED_EVENT,(e=>{let{detail:t}=e;return this.dispatchEvent(new CustomEvent(vs.FRAME_PROCESSED_EVENT,{detail:t}))})),this._pipeline.addEventListener(hs.FRAME_RENDERED_EVENT,(e=>{let{detail:t}=e;return this.dispatchEvent(new CustomEvent(vs.FRAME_RENDERED_EVENT,{detail:t}))})),this.canvas.addEventListener("webglcontextlost",(async e=>{e.preventDefault(),this._effectPlayer.playbackStop(),this.pause(),this._effectPlayer.surfaceDestroyed()})),this.canvas.addEventListener("webglcontextrestored",(()=>{Me(this._sdk.ctx),this._effectPlayer.surfaceCreated(this._sdk.canvas.width,this._sdk.canvas.height),this._pipeline.updateSurfaceSize(),this.play(),this._effectPlayer.playbackPlay()})),this.setVolume(0)}static async create(e){return new this(await Le(e),e)}get canvas(){return this._sdk.canvas}get frameSize(){return this._pipeline.frameSize}get preferences(){return{...this._preferences,pauseOnEmpty:this._pipeline.preferences.idleOnEmpty}}get isPlaying(){return this._pipeline.state===De.Running}use(e,t){this._pipeline.use(e,t)}async addModule(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];await Promise.all(t.map((e=>e._bind({FS:new bs(this._sdk)}))))}async applyEffect(e){const t=this,r=e.name;return await e._bind({FS:new bs(this._sdk),evalJs:this._evalJs.bind(this),callJsMethod:this._callJsMethod.bind(this)}),new Promise((n=>{this.addEventListener(vs.EFFECT_ACTIVATED_EVENT,l,{once:!0}),this.addEventListener(vs.EFFECT_ACTIVATED_EVENT,u);try{this._effectManager.load(r)}catch(c){var o,i,a,s;this.removeEventListener(vs.EFFECT_ACTIVATED_EVENT,l),this.removeEventListener(vs.EFFECT_ACTIVATED_EVENT,u),e._unbind(),this.clearEffect(),null!==(o=(i=this._preferences.logger).warn)&&void 0!==o&&o.call(i,"The effect was force cleared due to the exception:"),null===(a=(s=this._preferences.logger).error)||void 0===a||a.call(s,c)}function l(e){let{detail:t}=e;n(t)}function u(n){let{detail:o}=n;o.url()!=="/".concat(r,"/")&&(t.removeEventListener(vs.EFFECT_ACTIVATED_EVENT,u),e._unbind())}}))}async clearEffect(){return new Promise((e=>{this.addEventListener(vs.EFFECT_ACTIVATED_EVENT,(()=>e()),{once:!0}),this._effectManager.load("")}))}callJsMethod(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._callJsMethod(e,t)}setVolume(e){this._effectManager.setEffectVolume(e),this.dispatchEvent(new CustomEvent("volumechange",{detail:e}))}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._pipeline.run({fps:e.fps,idleOnEmpty:e.pauseOnEmpty})}pause(){this._pipeline.pause()}async destroy(){this.pause(),this.removeAllEventListeners(),await this.clearEffect(),this._pipeline.destroy(),this._effectPlayer.surfaceDestroyed(),this._effectManager.delete(),this._effectPlayer.delete();for(const e in this)e.startsWith("_")&&Object.defineProperty(this,e,{get(){throw new Error("The player is destroyed.")},set(){throw new Error("The player is destroyed.")}})}async _evalJs(e){return new Promise((async t=>{const r=this._effectManager.current().evalJsSync(e);await this._pipeline.rerender(),t(r)}))}async _callJsMethod(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._effectManager.current().callJsMethod(e,t),await this._pipeline.rerender()}},i(vs,"FRAME_RECEIVED_EVENT","framereceived"),i(vs,"FRAME_PROCESSED_EVENT","frameprocessed"),i(vs,"FRAME_RENDERED_EVENT","framerendered"),i(vs,"FRAME_DATA_EVENT","framedata"),i(vs,"EFFECT_ACTIVATED_EVENT","effectactivated"),vs);((e,t,r,n)=>{for(var o,i=n>1?void 0:n?gs(t,r):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(n?o(t,r,i):o(i))||i);n&&i&&ms(t,r,i)})([M("Please, use Effect.evalJs() instead.")],_s.prototype,"callJsMethod",1);let ws=_s;const Es=e=>{if(!e||!("canvas"in e))throw new Error('The "player" must be a Player instance, but "'.concat(e,'" is received. Make sure you haven\'t forgot to place "await" before Player.create() call.'))},Ss=new WeakMap,Ts={render:(e,t)=>{Es(e);const r="string"==typeof t?document.querySelector(t):t;if(!(r instanceof HTMLElement))throw new Error("Target container is not a DOM element");if(r instanceof HTMLMediaElement||r instanceof HTMLCanvasElement)throw new Error("Target container must be a plain html element like `div`");Ss.set(r,e),r.appendChild(e.canvas);const{pauseOnEmpty:n}=e.preferences;e.play({pauseOnEmpty:n})},unmount:e=>{const t="string"==typeof e?document.querySelector(e):e;if(!(t instanceof HTMLElement))throw new Error("Target container is not a DOM element");const r=Ss.get(t);r&&t.removeChild(r.canvas),Ss.delete(t)}};const xs=typeof MediaStream<"u"?MediaStream:class{constructor(){throw new Error("The environment does not support MediaStream API")}},ks=class e extends xs{constructor(t){Es(t),super();const r=e.cache.get(t);if(!r||!r.active){let r=t.canvas;if(((r.getContext("webgl2")||r.getContext("webgl")).getContextAttributes()||{}).alpha){const e=r,n=(r=document.createElement("canvas")).getContext("2d",{alpha:!1});t.addEventListener("framerendered",(()=>{n.canvas.width=e.width,n.canvas.height=e.height,n.drawImage(e,0,0,e.width,e.height)}))}r.captureStream().getTracks().forEach((e=>this.addTrack(e))),e.cache.set(t,this)}return e.cache.get(t)}getVideoTrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getVideoTracks()[e]}getAudioTrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getAudioTracks()[e]}stop(){this.getTracks().forEach((e=>e.stop()))}};i(ks,"cache",new WeakMap);let Rs=ks;typeof MediaRecorder<"u"&&MediaRecorder}}]);
//# sourceMappingURL=225.59a349b2.chunk.js.map